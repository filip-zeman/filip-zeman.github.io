(window.webpackJsonp=window.webpackJsonp||[]).push([[30,56,63],{1129:function(e,t,s){"use strict";s.d(t,"c",(function(){return k})),s.d(t,"a",(function(){return w})),s.d(t,"b",(function(){return _}));var n=s(11),i=s.n(n),a=s(1),o=s.n(a),r=s(35),c=s(116),l=s(7),u=s(57),h=s(183),d=s(50),p=s(118),f=s(31),b=s(100),m=s(1143),g=s(62);function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var S=function(e,t,s){return"percentage"===e?"".concat(t,"%"):Object(c.a)(t,s)},k=Object(l.a)(Object(m.a)(Object(f.a)("integrationId")),h.a,Object(u.a)(Boolean),Object(p.a)("promotions")),w=Object(l.a)(Object(m.a)(Object(f.a)("integrationId")),Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.integrationId,s=e.labelKey,n=e.formatting,i=e.disclaimerLabelKey;return{integrationId:t,title:r.default.t(s,[n||""]),disclaimer:r.default.t(i)}}))),y=function(e,t){var s=e.integrationId,n=e.promoCurrency,i=e.promoType,a=e.promoValue;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(s,!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{title:O({labelKey:t.labelKey,promoType:i,promoValue:a,promoCurrency:n}),disclaimer:C({labelKey:t.disclaimerLabelKey,promoType:i,promoValue:a,promoCurrency:n}),integrationId:s,promoCurrency:n,promoType:i,promoValue:a})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e?Object(l.a)(Object(m.a)(Object(f.a)("integrationId")),Object(b.a)((function(e,s){var n=s.placements.filter((function(e){return e.placementName===t})).map((function(e){return y(s,e)}));return e.push.apply(e,i()(n)),e}),(function(){return[]})))(e):[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelKey,s=e.promoType,n=e.promoValue,i=e.promoCurrency,a=[];return n&&a.push(S(s,n,i)),t?r.default.t(t,a):r.default.t("promotion-type-".concat(Object(g.a)(s)),a)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelKey,s=e.promoType,n=e.promoValue,i=e.promoCurrency,a=[];return n&&a.push(S(s,n,i)),r.default.t(t,a)}},1143:function(e,t,s){"use strict";var n=s(5),i=Object(n.a)((function(e,t){for(var s,n,i=new Set,a=[],o=0;o<t.length;)s=e(n=t[o]),i.has(s)||(i.add(s),a.push(n)),o+=1;return a}));t.a=i},1202:function(e,t,s){},1203:function(e,t,s){},1210:function(e,t,s){},1211:function(e,t,s){},1212:function(e,t,s){},129:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(35),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return new Promise((function(t,s){n.default.nextTick((function(){try{e(),t()}catch(e){s(e)}}))}))}},1371:function(e,t,s){"use strict";var n=s(1202);s.n(n).a},1372:function(e,t,s){"use strict";var n=s(1203);s.n(n).a},1379:function(e,t,s){"use strict";var n=s(1210);s.n(n).a},1380:function(e,t,s){"use strict";var n=s(1211);s.n(n).a},1381:function(e,t,s){"use strict";var n=s(1212);s.n(n).a},1390:function(e,t,s){"use strict";var n={},i=(s(1372),s(25)),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"check-in-footer"},[s("button",{staticClass:"content__link1",attrs:{type:"button","data-test":"check-in-footer-check-in-later"},on:{click:function(t){return e.$emit("click-check-in-later")}}},[e._v(" "+e._s(e.$t("check-in-later"))+" ")])])}),[],!1,null,null,null);t.a=a.exports},1391:function(e,t,s){"use strict";var n=s(47),i=s(122),a=s(30),o=s(34),r=s(243),c={vuex:{getters:{checkInSelectedPassengers:o.checkInSelectedPassengers,isTravelDocumentRequired:o.isTravelDocumentRequired,isContactDataRequired:o.isContactDataRequired,hasItemsInCart:n.hasItemsInCart,isNavigationButtonLoading:i.v,isAlreadyPaid:a.isAlreadyPaid,isEmptyPaymentOccurred:o.isEmptyPaymentOccurred,isConfirmDataStep:r.d}},props:{previousStepName:{type:String,required:!0},nextStepName:{type:String,required:!0}},computed:{isNextStepDisabled:function(){return 0===this.checkInSelectedPassengers.length},isPaymentOccurred:function(){return this.isEmptyPaymentOccurred||this.isAlreadyPaid},isNextStepVisible:function(){return Boolean(this.nextStepName)},isPreviousStepHidden:function(){return!this.previousStepName||this.isConfirmDataStep&&(!this.isTravelDocumentRequired||!this.isContactDataRequired)||this.isPaymentOccurred},nextButtonClassNames:function(){return{"rf-button":!0,"rf-button--medium":!0,"rf-button--primary":!0,disabled:this.isNextStepDisabled,loading:this.isNavigationButtonLoading}}}},l=(s(1371),s(25)),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"check-in-navigation",class:{"check-in-navigation--no-previous-step":e.isPreviousStepHidden}},[e.isPreviousStepHidden?e._e():s("button",{staticClass:"content__link1",attrs:{disabled:e.isNavigationButtonLoading},on:{click:function(t){return t.preventDefault(),e.$emit("go-to-previous-step")}}},[e._v(" "+e._s(e.$t("check-in-previous"))+" ")]),e._v(" "),e.isNextStepVisible?s("button",{class:e.nextButtonClassNames,attrs:{disabled:e.isNavigationButtonLoading||e.isNextStepDisabled,"data-test":"check-in-continue"},on:{click:function(t){return t.preventDefault(),e.$emit("go-to-next-step")}}},[e._v(" "+e._s(e.isConfirmDataStep?e.$t("check-in-status-accept-and-checkin"):e.$t("check-in-next"))+" ")]):e._e()])}),[],!1,null,null,null);t.a=u.exports},1605:function(e,t,s){},1854:function(e,t,s){"use strict";var n=s(1605);s.n(n).a},539:function(e,t,s){"use strict";s.r(t),s.d(t,"getData",(function(){return l})),s.d(t,"getDefaultData",(function(){return u})),s.d(t,"clearSession",(function(){return h})),s.d(t,"debouncedSaveToSession",(function(){return d}));var n=s(0),i=s(146),a=s(363),o=s(19),r=s(39),c="check-in-seat-selection-step",l=function(){var e=Object(o.f)(c)||{},t=u();return Object(i.a)(e,t)},u=function(){return{STEP_SEAT_SELECTION:n.Ig,isFitInView:!1,goneToNextStep:!1,isInitialized:!1,isMobileScreen:Object(r.p)(),mobileLanding:!1}},h=function(){return Object(o.i)(c)},d=Object(a.a)((function(e){return Object(o.o)(c,e)}),250)},543:function(e,t,s){"use strict";s.r(t);var n=s(274),i={mixins:[Object(n.a)({checkInFlow_showCheckInNotAvailableModal:"show"})],props:{passengers:{type:Array,default:function(){return[]}}},data:function(){return{isVisible:!1}},methods:{show:function(){this.isVisible=!0},hide:function(){this.isVisible=!1},confirm:function(){this.hide(),this.$emit("confirm-click")},cancel:function(){this.hide(),this.$emit("cancel-click")}}},a=(s(1381),s(25)),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isVisible?s("modal-new",{attrs:{"data-test":"passengers-without-seats-modal",title:e.$t("check-in-flow-check-in-not-available-modal-title"),"closeable-by-backdrop-click":!0},on:{close:e.hide}},[s("section",{staticClass:"check-in-flow-passengers-without-seats-modal-wrapper",attrs:{slot:"body"},slot:"body"},[s("p",{domProps:{innerHTML:e._s(e.$t("check-in-flow-check-in-not-available-modal-body"))}}),e._v(" "),s("div",{staticClass:"passengers-list"},e._l(e.passengers,(function(t){return s("div",{staticClass:"passenger"},[s("div",[s("strong",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"icon icon__bundle-ancillary-seat-selection--large"}),e._v(" "),s("span",[e._v("?")])])])})),0),e._v(" "),s("div",[s("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("check-in-flow-check-in-not-available-button-select-seats-now"))+" ")]),e._v(" "),s("div",{staticClass:"text-center"},[s("button",{staticClass:"link-button rf-button rf-button--link rf-button--medium rf-button--full-width",domProps:{innerHTML:e._s(e.$t("check-in-flow-check-in-not-available-check-in-later"))},on:{click:e.confirm}})])])])]):e._e()}),[],!1,null,null,null);t.default=o.exports},545:function(e,t,s){"use strict";s.r(t);var n=s(274),i={mixins:[Object(n.a)({checkInFlow_showPassengersWithoutSeatsWithin48HoursModal:"show"})],props:{passengers:{type:Array,default:function(){return[]}}},data:function(){return{isVisible:!1}},methods:{show:function(){this.isVisible=!0},hide:function(){this.isVisible=!1},confirm:function(){this.hide(),this.$emit("confirm-click")},cancel:function(){this.hide(),this.$emit("cancel-click")}}},a=(s(1380),s(25)),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isVisible?s("modal-new",{attrs:{"data-test":"passengers-without-seats-modal","data-test-title":"check-in-step-seat-selection-random-seat-modal-title",title:e.$t("check-in-flow-passengers-within-48-hours-without-seats-modal-title"),"closeable-by-backdrop-click":!0},on:{close:e.hide}},[s("div",{staticClass:"check-in-flow-passengers-without-seats-modal-wrapper",attrs:{slot:"body"},slot:"body"},[s("p",[e._v(e._s(e.$t("check-in-flow-passengers-within-48-hours-without-seats-modal-body")))]),e._v(" "),s("div",{staticClass:"passengers-list"},e._l(e.passengers,(function(t){return s("div",{staticClass:"passenger"},[s("div",[s("strong",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"icon icon__bundle-ancillary-seat-selection--large"}),e._v(" "),s("span",[e._v("?")])])])})),0),e._v(" "),s("div",[s("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",attrs:{type:"button","data-test":"check-in-step-seat-selection-random-seat-modal-select-seat"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("check-in-flow-passengers-within-48-hours-without-seats-button-select-seats-now"))+" ")]),e._v(" "),s("div",{staticClass:"text-center"},[s("button",{staticClass:"link-button rf-button rf-button--link rf-button--medium rf-button--full-width",attrs:{"data-test":"check-in-step-seat-selection-random-seat-modal-assign-seat"},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("check-in-flow-passengers-within-48-hours-without-seats-button-select-proceed-without-check-in"))+" ")])])])])]):e._e()}),[],!1,null,null,null);t.default=o.exports},546:function(e,t,s){"use strict";s.r(t);var n=s(274),i={mixins:[Object(n.a)({checkInFlow_showPassengersWithoutSeatsOutside48HoursModal:"show"})],props:{passengers:{type:Array,default:function(){return[]}},prmPassengersOnly:{type:Boolean,default:!1}},data:function(){return{isVisible:!1}},methods:{show:function(){this.isVisible=!0},hide:function(){this.isVisible=!1},confirm:function(){this.hide(),this.$emit("confirm-click")},cancel:function(){this.hide(),this.$emit("cancel-click")}}},a=(s(1379),s(25)),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isVisible?s("modal-new",{attrs:{"data-test":"passengers-without-seats-modal",title:e.$t("check-in-flow-passengers-outside-48-hours-without-seats-modal-title"),"closeable-by-backdrop-click":!0},on:{close:e.hide}},[s("div",{staticClass:"check-in-flow-passengers-without-seats-modal-wrapper",attrs:{slot:"body"},slot:"body"},[e.prmPassengersOnly?s("p",{domProps:{innerHTML:e._s(e.$t("check-in-flow-passengers-outside-48-hours-prm-only"))}}):s("p",[e._v(" "+e._s(e.$t("check-in-flow-passengers-outside-48-hours-without-seats-modal-body"))+" ")]),e._v(" "),e.prmPassengersOnly?e._e():s("div",{staticClass:"passengers-list"},e._l(e.passengers,(function(t){return s("div",{staticClass:"passenger"},[s("div",[s("strong",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]),e._v(" "),s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"icon icon__bundle-ancillary-seat-selection--large"}),e._v(" "),s("span",[e._v("?")])])])})),0),e._v(" "),e.prmPassengersOnly?s("div",[s("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",attrs:{type:"button"},domProps:{innerHTML:e._s(e.$t("check-in-flow-passengers-outside-48-hours-without-seats-button-select-proceed-without-check-in"))},on:{click:e.confirm}}),e._v(" "),s("div",{staticClass:"text-center"},[s("button",{staticClass:"link-button rf-button rf-button--link rf-button--medium rf-button--full-width",domProps:{innerHTML:e._s(e.$t("check-in-flow-check-in-not-available-check-in-later"))},on:{click:e.cancel}})])]):s("div",[s("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("check-in-flow-passengers-outside-48-hours-without-seats-button-select-seats-now"))+" ")]),e._v(" "),s("div",{staticClass:"text-center"},[s("button",{staticClass:"link-button rf-button rf-button--link rf-button--medium rf-button--full-width",domProps:{innerHTML:e._s(e.$t("check-in-flow-passengers-outside-48-hours-without-seats-button-select-proceed-without-check-in"))},on:{click:e.confirm}})])])])]):e._e()}),[],!1,null,null,null);t.default=o.exports},559:function(e,t,s){"use strict";s.r(t);var n=s(3),i=s.n(n),a=s(343),o=s.n(a),r=s(0),c=s(125),l=s(41),u=s(48),h=s(39),d=s(148),p=s(92),f=s(139),b=s(118),m=s(20),g=s(31),v=s(7),S=s(73),k=s(60),w=s(1222),y=s(51),_=s(57),O=s(96),C=s(147),I=s(138),P=s(104),j=s(12),x=s(107),N=s(129),A=s(1309),F=s(1300),M=s(1301),V=s(1298),T=s(1299),$=s(1315),D=s(1221),R=s(1314),B=s(1313),W=s(1312),E=s(1311),H=s(1310),q=s(254),L=s(34),G=s(47),K=s(197),z=s(133),J=s(122),Y=s(112),Q=s(1220),U=s(1308),X=s(1307),Z=s(1391),ee=s(1390),te=s(28),se=s(725),ne=s(730),ie=s(546),ae=s(545),oe=s(543),re=s(539),ce={components:{Airplane:F.a,MobileHud:$.a,LegendPane:D.a,Navigation:Z.a,ErrorsPanel:T.a,CheckInFooter:ee.a,SelectionPanel:V.a,SeatConfirmTooltip:R.a,RecommendedSeatsPanel:M.a,CheckInNotAvailableModal:oe.default,OneInfantPerRowSideModal:W.a,InfantChildInLastRowModal:B.a,ReducedMobilitySeatingModal:E.a,DidNotSelectAnySeatsInfoModal:H.a,PassengersWithoutSeatsWithin48HoursModal:ae.default,PassengersWithoutSeatsOutside48HoursModal:ie.default,SeatPriceGroups:Q.a,FloatingLegendPane:U.a,SeatPriceGroupPane:X.a},extends:A.a,vuex:{getters:{booking:L.booking,hasItemsInCart:G.hasItemsInCart,checkInSelectedPassengers:L.checkInSelectedPassengers,isReturnCheckInWithinRange:L.isReturnCheckInWithinRange,isOutboundCheckInWithinRange:L.isOutboundCheckInWithinRange,highlightedSeatsGroup:J.b},actions:{showConfirmModal:K.showConfirmModal,removeCheckInPassenger:K.removeCheckInPassenger,getPassengers:z.a,highlightSeatsGroup:Y.r}},mixins:[se.default],props:{previousStepName:{type:String,required:!0},nextStepName:{type:String,required:!0},lastName:{type:String,required:!0},pnr:{type:String,required:!0},direction:{type:String,required:!0}},data:re.getData,computed:{seatSelectionStepClasses:function(){return["booking-flow__step booking-flow__step--seat-selection container seat-selection-step",{"seat-selection-step--seat-map-shown":this.seatMapIsVisibleOnMobile,"seat-selection-step__ie-wrap":Object(h.m)()}]},flights:function(){return[this.isOutboundLegVisible?this.outboundFlight:this.returnFlight]},isCheckInAvailable:function(){return l.e(this.bundle)&&this.isCheckInWithinRange||!l.e(this.bundle)},isCheckInWithinRange:function(){return this.direction===r.Of?this.isReturnCheckInWithinRange:this.isOutboundCheckInWithinRange},airplaneClosed:function(){return!1},continueButtonIsVisible:function(){var e=this.confirmed,t=this.oneWayFlight,s=this.twoWayFlight,n=this.returnFlightSelected,i=this.hasSeriousSeatSelectionError,a=this.mobileLanding,o=this.seatMapIsVisibleOnMobile,r=this.prmPassengersOnly,c=this.outboundFlight.hasSeriousSeatSelectionError,l=this.returnFlight.hasSeriousSeatSelectionError;return r||(Object(h.p)()?e&&!a&&!o||t&&i||s&&c&&l:e||t&&i||s&&n&&c&&l)},confirmButtonIsVisible:function(){var e=this.confirmed,t=this.oneWayFlight,s=this.twoWayFlight,n=this.seatMapIsVisibleOnMobile,i=this.hasSeriousSeatSelectionError,a=this.outboundFlight.hasSeriousSeatSelectionError,o=this.returnFlight.hasSeriousSeatSelectionError;if(!this.isCheckInWithinRange&&(this.errors.length||i||t&&i||s&&a&&o))return!1;var r=!e&&!this.continueButtonIsVisible;return Object(h.p)()&&(r=r&&!n&&(!this.hasPassengerWithoutSelectedSeat||!this.continueToSeatMapButtonIsVisible)),r},ctaIsVisible:function(){return!Object(h.p)()||!this.seatMapIsVisibleOnMobile},isGroupBooking:function(){return l.l(this.booking.numberOfPassengers)},isStickinessDisabled:function(){return Object(h.p)()||this.isGroupBooking},isOutboundLegVisible:function(){return this.direction===r.if}},watch:{seatMapIsVisibleOnMobile:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,i.a.awrap(Object(N.a)());case 4:this.setHeightForSticky(!0);case 5:case"end":return t.stop()}}),null,this)}},created:function(){this.checkInSelectedPassengers.length||this.$router.push({name:c.h}),this.init(),this.isEcommerceTrackingDisabled||this.trackSeatSelectionImpression()},mounted:function(){var e=this;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(Object(N.a)());case 2:this.isGroupBooking||this.setFormStickiness(),Object(u.e)("checkInFlow_goToNextStep",(function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(e.callAssignSeat());case 2:case"end":return t.stop()}}))}));case 4:case"end":return t.stop()}}),null,this)},beforeDestroy:function(){Object(re.clearSession)(),Object(u.d)("checkInFlow_goToNextStep")},methods:{onSelectSeatPriceGroup:function(e){var t=e.isMobileScreen,s=e.category,n=e.isScrollBlocked;this.highlightSeatsGroup(s);var i=s?document.querySelector(".seatsel-airplane__seat-group.".concat(s)):null;i&&!n&&Object(x.j)({to:i,gap:t?-200:-120})},setFormStickiness:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isStickinessDisabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.a.awrap(Object(N.a)());case 4:if(this.setHeightForSticky(),this.isFitInView=document.querySelector(".passengers-form--in-view__sticky-wrapper").offsetHeight<=window.innerHeight,!this.isFitInView){e.next=8;break}return e.abrupt("return");case 8:this.scrollToElement(".seat-selection-step__selection-panel");case 9:case"end":return e.stop()}}),null,this)},setHeightForSticky:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this.isStickinessDisabled){var t=document.querySelector(".seatsel-airplane__plane"),s=Math.round(t.offsetHeight-t.offsetHeight/100*20),n=document.querySelector(".passengers-form");n.style.height="".concat(s,"px"),this.setFooterOffset(n)}},setFooterOffset:function(e){var t=document.querySelector(".check-in"),s=t.querySelector("div").querySelectorAll(".gutter-bottom"),n=document.querySelector(".check-in-flow-step"),i=Array.from(s).reduce((function(e,t){return e+t.offsetHeight}),n.offsetHeight),a=t.offsetHeight-i;a>0&&(e.style.marginBottom="".concat(a,"px"))},scrollToElement:function(e){var t=Object(h.m)()?0:800;setTimeout((function(){Object(x.j)(document.querySelector(e),!1,t,null,-80)}),400)},resetSeats:function(){var e,t,s;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.flights.filter(Object(m.a)("name",this.direction)),t=e.filter(q.F),e.forEach(this.resetSeatsToPaidAssignmentsBase),!Object(j.a)(t)){n.next=13;break}return t.map(Object(g.a)("name")).forEach(this.ancillariesAddResetFlightSeats),this.keepAirplaneOpen=!0,n.next=8,i.a.awrap(this.postAncillaries({withSummary:!0}));case 8:return e.forEach((function(e){e.previousSeatAssignments=e.paidSeatAssignments})),s=t.map(this.fetchSeatMapAndInit),n.next=12,i.a.awrap(Promise.all(s));case 12:this.keepAirplaneOpen=!1;case 13:case"end":return n.stop()}}),null,this)},handleLegendClick:function(){this.setFormStickiness()},init:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(P.a)(Object(ne.dataFrom)({itineraryBooking:this.booking,selectedCheckInPassengers:this.checkInSelectedPassengers}),this.$data),e.next=3,i.a.awrap(this.checkAndFetchData());case 3:Object(h.p)()||(this["select".concat(o()(this.direction),"Flight")](),this.selectFirstRegularPassenger()),this.isInitialized=!0;case 5:case"end":return e.stop()}}),null,this)},checkAndFetchData:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(this.fetchAncillaries());case 2:if(!Object(j.a)(this.errors)){t.next=4;break}return t.abrupt("return");case 4:return this.initSeatAssignments(),this.initSeatPrices(),e=this.flights.filter(q.d).map(this.fetchSeatMapAndInit),t.next=9,i.a.awrap(Promise.all(e));case 9:this.shouldShowRecommendedSeats=this.flights.some(Object(d.a)("recommendedSeats")),this.shouldShowRecommendedSeats||(this.isRecommendedSeatsDismissed=!0),this.setHeightForSticky();case 12:case"end":return t.stop()}}),null,this)},handleContinueWithoutSeatlessPassengers:function(){var e=this;this.passengersWithoutSeats.forEach((function(t){return e.removeCheckInPassenger(t.id)})),this.confirm(),this.checkAndGoToNextStep()},handleDidNotSelectModalConfirmClick:function(){this.confirm(),this.checkAndGoToNextStep()},handleDidNotSelectAnyModalConfirmClick:function(){this.confirm(),Object(te.j)(r.hd,r.gd,r.qd),this.checkAndGoToNextStep()},handleContinueButtonClick:function(){!this.prmPassengersOnly||this.isCheckInWithinRange?(this.isFitInView=!1,this.checkAndGoToNextStep()):this.checkAndConfirm()},confirm:function(){this.confirmed=!0},noneOfTheSelectedPassengersHasAssignedSeat:function(){var e=this;return Object(j.a)(this.rawPassengers)&&this.rawPassengers.every((function(t){return!Object(f.a)(Object.values,Object(b.a)("seatAssignments",e.flights)).includes(t.id)}))},someOfThePassengersHasNoAssignedSeat:function(){var e=this.rawPassengers.length;return Object(v.a)(Object(S.a)(Object(k.a)(y.a,0),Object(w.a)(y.a,e)),O.a,Object(_.a)(p.a),C.a)(this.selectedFlight.seatAssignments)},handleOutside48HoursCancelClick:function(){this.prmPassengersOnly&&this.quit(),this.allowSeatSelection()},checkAndConfirm:function(){if(this.noneOfTheSelectedPassengersHasAssignedSeat())this.isCheckInAvailable?Object(u.b)("checkInFlow_showPassengersWithoutSeatsWithin48HoursModal"):Object(u.b)("checkInFlow_showCheckInNotAvailableModal");else if(this.someOfThePassengersHasNoAssignedSeat()){var e="checkInFlow_showPassengersWithoutSeats".concat(this.isCheckInAvailable?"Within":"Outside","48HoursModal");Object(u.b)(e)}else this.confirm()},quit:function(){Object(I.j)(this.pnr,this.lastName)},callAssignSeat:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(this.postAncillaries({isConfirmOp:!0,withSummary:!0}));case 2:this.unsuccessfulSeatAssignment&&this.selectFirstRegularPassenger();case 3:case"end":return e.stop()}}),null,this)},onAcceptRecommendedSeatsClick:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(this.acceptRecommendedSeats());case 2:this.checkAndGoToNextStep();case 3:case"end":return e.stop()}}),null,this)},checkAndGoToNextStep:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.callAssignSeat(),e.next=3,i.a.awrap(Object(N.a)());case 3:this.$router.push({name:this.nextStepName});case 4:case"end":return e.stop()}}),null,this)},adjustScrollPosition:function(e){e<120&&window.scroll(0,window.scrollY+e-120)},trackInitTime:function(e){},handleDontWannaSelectSeatButtonClickOnMobile:function(){this.resetSeats(),this.autoSelectNextPassengerOnMobile?this.forwardOnMobile():this.backOnMobile()}}},le=(s(1854),s(25)),ue=Object(le.a)(ce,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container check-in-flow-step"},[s("article",{directives:[{name:"loading",rawName:"v-loading",value:!e.isInitialized,expression:"!isInitialized"}],class:e.seatSelectionStepClasses,attrs:{id:"check-on-flow-step-seat-selection","data-test":"check-in-flow-step-seat-selection"}},[s("form",{staticClass:"passengers-form",class:{"passengers-form--in-view":e.isFitInView},attrs:{name:"passengers-form","data-test":"check-in-step-seat-selection-passengers-form",novalidate:""}},[s("div",{class:{"passengers-form--in-view__sticky-wrapper":!e.isStickinessDisabled}},[e.seatMapIsVisibleOnMobile?s("mobile-hud",{staticClass:"seat-selection-step__summary",attrs:{"flight-title":e.flightTitle,"selected-passenger":e.selectedPassenger},on:{"back-button-click":e.handleBackButtonClickOnMobile,"dont-wanna-select-seat-button-click":e.handleDontWannaSelectSeatButtonClickOnMobile}}):e._e(),e._v(" "),e.showPriceGroupsOnMobile?[e.seatMapIsVisibleOnMobile?s("seat-price-group-pane",{staticClass:"seat-selection-step__legend-pane",attrs:{"price-groups":e.seatPriceGroups},on:{select:e.onSelectSeatPriceGroup,click:e.handleToggleClick}}):e._e(),e._v(" "),e.seatMapIsVisibleOnMobile?s("floating-legend-pane",{staticClass:"check-in-flow"}):e._e()]:[e.seatMapIsVisibleOnMobile?s("legend-pane",{staticClass:"seat-selection-step__legend-pane",on:{click:e.handleToggleClick}}):e._e()],e._v(" "),e.errors.length>0||e.hasSeriousSeatSelectionError?s("errors-panel",{staticClass:"seat-selection-step__errors",attrs:{errors:e.errors,"unsuccessful-seat-assignment":e.unsuccessfulSeatAssignment,"should-show-fully-booked-flight-notice":e.shouldShowFullyBookedFlightNotice,"should-show-neighboring-seats-not-available-notice":e.shouldShowNeighboringSeatsNotAvailableNotice,"should-show-seats-not-available-notice":e.shouldShowSeatsNotAvailableNotice,"should-show-seat-selection-not-available-notice":e.shouldShowSeatSelectionNotAvailableNotice}}):e._e(),e._v(" "),e.hasSeriousSeatSelectionError||e.shouldShowRecommendedSeats?e._e():s("selection-panel",{staticClass:"seat-selection-step__selection-panel",attrs:{confirmed:e.confirmed,"one-way-flight":e.oneWayFlight,"outbound-flight-title":e.outboundFlight.flightTitle,"return-flight-title":e.returnFlight.flightTitle,"regular-passengers":e.regularPassengers,"prm-passengers":e.prmPassengers,"outbound-flight-selected":e.outboundFlightSelected,"return-flight-selected":e.returnFlightSelected,"is-outbound-flight-flown":e.isOutboundFlightFlown,"selected-passenger-id":e.selectedPassengerId,"is-a321":e.isA321,"is-a321-neo":e.isA321Neo,"seat-availability":e.seatAvailability,"has-outbound-leg":e.isOutboundLegVisible,"has-return-leg":!e.isOutboundLegVisible},on:{"select-outbound-flight-and-passenger":e.handleSelectOutboundFlightAndPassenger,"select-return-flight-and-passenger":e.handleSelectReturnFlightAndPassenger,"select-outbound-flight":e.handleSelectOutboundFlight,"select-return-flight":e.handleSelectReturnFlight,"select-passenger":e.handleSelectPassenger,"legend-toggle-click":e.handleLegendClick}}),e._v(" "),e.shouldShowRecommendedSeats?s("recommended-seats-panel",{attrs:{"arrival-station-iata":e.arrivalStationIata,"departure-station-iata":e.departureStationIata,passengers:e.passengersWithRecommendedSeats,"one-way-flight":e.oneWayFlight,"currency-code":e.currencyCode},on:{skip:e.onSkipRecommendationClick,accept:e.onAcceptRecommendedSeatsClick}}):e._e(),e._v(" "),s("div",{staticClass:"seat-selection-navigation"},[s("div",{staticClass:"check-in-navigation"},[e.ctaIsVisible&&!e.shouldShowRecommendedSeats?[s("div",{directives:[{name:"show",rawName:"v-show",value:e.resetSeatsButtonVisible,expression:"resetSeatsButtonVisible"}],staticClass:"reset-seats-cta-wrapper"},[s("button",{staticClass:"button button--medium button--link",attrs:{type:"button"},on:{click:e.resetSeats}},[e._v(" "+e._s(e.$t("reset-seats"))+" ")])]),e._v(" "),e.previousStepName?s("router-link",{staticClass:"content__link1",attrs:{to:e.previousStepName}},[e._v(" "+e._s(e.$t("check-in-previous"))+" ")]):e._e(),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.continueButtonIsVisible,expression:"continueButtonIsVisible"}],staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{id:"seat-selection-continue-btn","data-test":"check-in-step-seat-selection-continue-btn",type:"button"},on:{click:e.handleContinueButtonClick}},[e._v(" "+e._s(e.$t("check-in-next"))+" ")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.confirmButtonIsVisible,expression:"confirmButtonIsVisible"}],staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{id:"seat-selection-confirm-btn","data-test":"check-in-step-seat-selection-confirm-btn",type:"button"},on:{click:e.checkAndConfirm}},[e._v(" "+e._s(e.$t("confirm"))+" ")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.continueToSeatMapButtonIsVisible,expression:"continueToSeatMapButtonIsVisible"}],staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{id:"seat-selection-continue-to-seat-map-btn","data-test":"seat-selection-continue-to-seat-map-btn",type:"button"},on:{click:e.continueToSeatMap}},[e._v(" "+e._s(e.$t("continue-to-seat-map"))+" ")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.skipSeatSelectionButtonIsVisible,expression:"skipSeatSelectionButtonIsVisible"}],staticClass:"button button--medium button--link",attrs:{type:"button"},on:{click:e.checkAndConfirm}},[e._v(" "+e._s(e.$t("skip-seat-selection"))+" ")])]:e._e()],2),e._v(" "),e.seatMapIsVisibleOnMobile?e._e():s("check-in-footer",{on:{"click-check-in-later":e.showConfirmModal}})],1)],2),e._v(" "),s("airplane",{staticClass:"seat-selection-step__airplane",class:{"seat-selection-step__airplane--321":e.isA321,"seat-selection-step__airplane--321neo":e.isA321Neo,"is-disabled":e.confirmed},attrs:{closed:e.airplaneClosed,"plane-type":e.planeType,"seat-map":e.seatMap,"is-in-recommendation-state":e.shouldShowRecommendedSeats,"highlighted-seats-group":e.highlightedSeatsGroup},on:{"seat-click":e.handleSeatClick}}),e._v(" "),!e.seatMapIsVisibleOnMobile&&e.showPriceGroupsOnlyOnDesktopScreen?s("seat-price-groups",{staticClass:"box",attrs:{"price-groups":e.seatPriceGroups},on:{select:e.onSelectSeatPriceGroup}}):e._e()],1),e._v(" "),s("seat-confirm-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.preselectedSeatCode,expression:"preselectedSeatCode"}],attrs:{seat:e.preselectedSeat},on:{confirm:e.handleSeatTooltipConfirm,"adjust-scroll-position":e.adjustScrollPosition}}),e._v(" "),s("passengers-without-seats-outside-48-hours-modal",{attrs:{passengers:e.passengersWithoutSeats,"prm-passengers-only":e.prmPassengersOnly},on:{"confirm-click":e.handleContinueWithoutSeatlessPassengers,"cancel-click":e.handleOutside48HoursCancelClick}}),e._v(" "),s("passengers-without-seats-within-48-hours-modal",{attrs:{passengers:e.passengersWithoutSeats},on:{"confirm-click":e.handleDidNotSelectModalConfirmClick,"cancel-click":e.allowSeatSelection}}),e._v(" "),s("check-in-not-available-modal",{attrs:{passengers:e.passengersWithoutSeats},on:{"confirm-click":e.quit,"cancel-click":e.allowSeatSelection}}),e._v(" "),s("infant-child-in-last-row-modal"),e._v(" "),s("one-infant-per-row-side-modal"),e._v(" "),s("reduced-mobility-seating-modal",{on:{"confirm-click":e.selectSeat}}),e._v(" "),s("did-not-select-any-seats-info-modal",{on:{"confirm-click":e.handleDidNotSelectAnyModalConfirmClick,"cancel-click":e.allowSeatSelection}})],1)])}),[],!1,null,null,null);t.default=ue.exports},725:function(e,t,s){"use strict";s.r(t);var n=s(34),i=s(30),a=s(47),o=s(63),r=s(20);t.default={props:{currentStep:{type:Object,required:!0},previousStepName:{type:String,required:!0},paymentStep:{type:Object,required:!0},nextStepName:{type:String,required:!0},steps:{tpye:Array,required:!0}},vuex:{getters:{hasItemsInCart:a.hasItemsInCart,isEmptyPaymentOccurred:n.isEmptyPaymentOccurred,isAlreadyPaid:i.isAlreadyPaid}},beforeRouteLeave:function(e,t,s){var n=this.steps.find(Object(r.a)("name",e.name)),i=this.steps.find(Object(r.a)("name",t.name)),a=!!Object(o.a)(e.params.ignoreGuard)&&e.params.ignoreGuard;return(this.isAlreadyPaid||this.isEmptyPaymentOccurred)&&i.order>n.order&&n.order<this.paymentStep.order&&!a?s(!1):s()}}},730:function(e,t,s){"use strict";s.r(t),s.d(t,"dataFrom",(function(){return c})),s.d(t,"flightFrom",(function(){return l}));var n=s(52),i=s(206),a=s(0),o=s(20),r=s(41),c=function(e){var t=e.itineraryBooking,s=t.passengers,n=t.outboundFlight,c=t.returnFlight,u=t.departureStationCurrencyCode,h=e.selectedCheckInPassengers,d=s.filter((function(e){return h.some(Object(o.a)("passengerNumber",e.passengerNumber))})),p=function(e){return!!e&&Boolean(e.flightNumber)},f=!p(c),b=p(n)?l(a.if,n,d):{},m=Object(r.k)(n),g=p(c)&&!f?l(a.Of,c,d):{};return{oneWayFlight:f,isOutboundFlightFlown:m,currencyCode:u,rawPassengers:Object(i.d)(d),outboundFlight:b,returnFlight:g}},l=function(e,t){var s=t.departureStation,i=t.arrivalStation;return{name:e,departureStationIata:s,arrivalStationIata:i,departureDateTime:t.departureDateTime,carrierCode:t.carrier,flightNumber:t.flightNumber,flightTitle:Object(n.k)(s,i)}}}}]);
//# sourceMappingURL=30.min.4f45781d.js.map