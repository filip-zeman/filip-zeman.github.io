(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1059:function(e,t,n){"use strict";var i=n(514);n.n(i).a},1060:function(e,t,n){"use strict";var i=n(515);n.n(i).a},1061:function(e,t,n){"use strict";var i=n(516);n.n(i).a},1062:function(e,t,n){"use strict";var i=n(517);n.n(i).a},430:function(e,t,n){"use strict";var i=n(9),o=n.n(i),r=n(33),s=n(43);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{data:function(){return{specialValidationFlags:{},isFirstTimeEdit:null}},computed:{specialValidationErrors:function(){var t=this,n=e?this.validatorFields["$".concat(e)]:this.validatorFields;return(Object.entries(n||{})||[]).reduce((function(e,n){var i=o()(n,2),r=i[0],a=i[1];return Object(s.a)(a.invalid)?e[r]=!1:t.specialValidationFlags.hasOwnProperty(r)?e[r]=t.specialValidationFlags[r]&&a.invalid&&a.touched:e[r]=a.invalid&&a.touched,e}),{})}},methods:{handleInputBlur:function(e){this.$set(this.specialValidationFlags,e,!0),this.isFirstTimeEdit&&(this.isFirstTimeEdit=!1)},handleInputFocus:function(e){this.$set(this.specialValidationFlags,e,!1)},setFirstTimeEdit:function(){Object(r.a)(this.isFirstTimeEdit)||(this.isFirstTimeEdit=!0)}}}}},514:function(e,t,n){},515:function(e,t,n){},516:function(e,t,n){},517:function(e,t,n){},631:function(e,t,n){"use strict";var i=n(2),o=n.n(i),r=n(250),s=n(18),a=n(12),c=n(43),l=n(104),u=n(3),d=n.n(u),h=n(658),p=n(129),m=n(63),_=n(68),f=n(20),v=n(124),b=n(110),g={props:{countryCode:{type:String,default:"NP"}},computed:{flagIcon:function(){return Object(b.a)(this.countryCode)}}},C=(n(1059),n(25)),y=Object(C.a)(g,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"cc-flag",class:this.flagIcon})}),[],!1,null,null,null).exports,w={components:{Flag:y},mixins:[h.a],inject:["$validator"],props:{callingCode:{type:String,required:!0},countryCodeHint:{type:String,default:""}},data:function(){return{INPUT_FIELD_NAME:"phoneNumberCallingCode",isSearchingInPhonePrefix:!0}},computed:{isValid:function(){var e=this.validatorFields.phoneNumberCallingCode;return!!Object(_.a)(e)||(!e.validated||e.validated&&e.valid||this.hasSelectedCountry)},hasCountryCodeHint:function(){return Object(a.a)(this.countryCodeHint)}},created:function(){this.setDefaultCountry()},methods:{setDefaultCountry:function(){if(!Object(s.a)(this.callingCode)){var e,t=this.countries.filter(Object(f.a)("phonePrefix",this.callingCode));t.length>1&&this.hasCountryCodeHint&&(e=t.find(Object(f.a)("code",this.countryCodeHint))),e=e||Object(v.a)(t),Object(m.a)(e)&&(this.selectedCountry=e)}},onShowCountries:function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onFocus(),e.next=3,d.a.awrap(Object(p.a)());case 3:this.$refs.searchInput.focus();case 4:case"end":return e.stop()}}),null,this)},onSelectedCountryClick:function(){this.isCountryFocused?this.onBlur():this.onShowCountries()},isSelected:function(e){return this.selectedCountry.code===e.code},countryNameWithPhonePrefix:function(e){var t=e.name,n=e.phonePrefix;return"".concat(t," (").concat(n,")")}}},N=(n(1060),Object(C.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onBlur,expression:"onBlur"}],staticClass:"phone-number__calling-code-selector",class:{"phone-number__calling-code-selector--active":e.areCountriesVisible,"phone-number__calling-code-selector--invalid":!e.isValid},attrs:{"data-test":"booking-register-country-code"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCountry.phonePrefix,expression:"selectedCountry.phonePrefix"},{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],attrs:{type:"hidden",name:e.INPUT_FIELD_NAME},domProps:{value:e.selectedCountry.phonePrefix},on:{input:function(t){t.target.composing||e.$set(e.selectedCountry,"phonePrefix",t.target.value)}}}),e._v(" "),n("div",{staticClass:"phone-number__calling-code-selector__fake-input"},[e.hasSelectedCountry?e._e():n("div",{staticClass:"phone-number__calling-code-selector__empty",on:{click:e.onShowCountries}},[n("i",{staticClass:"icon icon__phone-globe"}),e._v(" "),n("div",{staticClass:"phone-number__calling-code-selector__empty__placeholder"},[e._v(" "+e._s(e.$t("phone-number-calling-code-placeholder"))+" ")]),e._v(" "),n("i",{staticClass:"icon icon__arrow--small--todown--black"})]),e._v(" "),e.hasSelectedCountry?n("div",{staticClass:"phone-number__calling-code-selector__filled",on:{click:e.onSelectedCountryClick}},[n("div",{staticClass:"phone-number__calling-code-selector__filled__placeholder"},[e._v(" "+e._s(e.$t("phone-number-calling-code-placeholder"))+" ")]),e._v(" "),n("div",{staticClass:"phone-number__calling-code-selector__filled__country"},[n("flag",{staticClass:"phone-number__calling-code-selector__filled__country__flag",attrs:{"country-code":e.selectedCountry.code}}),e._v(" "),n("div",{staticClass:"phone-number__calling-code-selector__filled__country__name"},[e._v(" "+e._s(e.countryNameWithPhonePrefix(e.selectedCountry))+" ")])],1),e._v(" "),n("i",{staticClass:"icon icon__arrow--small--todown--black"})]):e._e(),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.areCountriesVisible,expression:"areCountriesVisible"}],staticClass:"phone-number__calling-code-selector__dropdown",class:{"phone-number__calling-code-selector__dropdown--covering":!e.hasSelectedCountry}},[n("li",{staticClass:"phone-number__calling-code-selector__dropdown__search"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchCountry,expression:"searchCountry",modifiers:{trim:!0}}],ref:"searchInput",attrs:{type:"text",name:"phone-number-country-code",maxlength:"256",autocomplete:"off",placeholder:e.$t("phone-number-calling-code-search")},domProps:{value:e.searchCountry},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),t.stopPropagation(),e.selectCountry())},input:function(t){t.target.composing||(e.searchCountry=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),e._l(e.filteredCountries,(function(t,i){return n("li",{directives:[{name:"active-element-scrolltop",rawName:"v-active-element-scrolltop",value:e.isSelected(t),expression:"isSelected(country)"}],key:i,staticClass:"phone-number__calling-code-selector__dropdown__item",class:{"phone-number__calling-code-selector__dropdown__item--selected":e.isSelected(t)},attrs:{"data-test":t.code},on:{mousedown:function(n){return e.selectCountry(t)}}},[n("flag",{staticClass:"phone-number__calling-code-selector__dropdown__item__flag",attrs:{"country-code":t.code}}),e._v(" "),n("div",{staticClass:"phone-number__calling-code-selector__dropdown__item__country",domProps:{innerHTML:e._s(e.countryNameWithPhonePrefix(t))}})],1)})),e._v(" "),e.hasFilteredCountries?e._e():n("li",{staticClass:"phone-number__calling-code-selector__dropdown__item phone-number__calling-code-selector__dropdown__item--no-results",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[e._v(" "+e._s(e.$t("phone-number-calling-code-no-results"))+" ")])],2)]),e._v(" "),n("input-error",{directives:[{name:"show",rawName:"v-show",value:!e.isValid,expression:"!isValid"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"phone-number-calling-code","error-label":"phone-number-calling-code-invalid"}})],1)}),[],!1,null,null,null).exports),P=n(430),x={mixins:[Object(P.a)()],inject:["$validator"],props:{digits:{type:String,required:!0},maxDigits:{type:Number,required:!0}},data:function(){return{INPUT_FIELD_NAME:"phoneNumberValidDigits",isPhoneNumberFieldFocused:!1}},computed:{digitsInt:{get:function(){return this.digits},set:function(e){this.$emit("update:digits",e.replace(/\D/g,""))}},hasDigits:function(){return Object(a.a)(this.digits)},hasSpecialValidationError:function(){return Boolean(o()(this,"specialValidationErrors.phoneNumberValidDigits"))}},methods:{onFocusPhoneNumber:function(){this.isPhoneNumberFieldFocused=!0,this.handleInputFocus("phoneNumberValidDigits")},onBlurPhoneNumber:function(){this.isPhoneNumberFieldFocused=!1,this.handleInputBlur("phoneNumberValidDigits")}}},F=(n(1061),Object(C.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"phone-number__digits"},[n("div",{directives:[{name:"input",rawName:"v-input"}],staticClass:"rf-input rf-input--large phone-number__digits__input",class:{"rf-input--with-prefix-icon":!e.hasDigits}},[n("label",{directives:[{name:"validate-class",rawName:"v-validate-class"}],staticClass:"rf-input__wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.digitsInt,expression:"digitsInt"},{name:"validate",rawName:"v-validate",value:{required:!0,max:e.maxDigits,decimalNumber:!0},expression:"{ required: true, max: maxDigits, decimalNumber: true }"},{name:"special-validate",rawName:"v-special-validate",value:e.INPUT_FIELD_NAME,expression:"INPUT_FIELD_NAME"}],staticClass:"rf-input__input",attrs:{type:"tel",inputmode:"numeric",autocomplete:"off","data-hj-masked":"",maxlength:e.maxDigits,name:e.INPUT_FIELD_NAME,placeholder:e.$t("phone-number-mobile-phone-number-label"),"data-test":"check-in-step-contact-phone-number"},domProps:{value:e.digitsInt},on:{focus:e.onFocusPhoneNumber,blur:e.onBlurPhoneNumber,input:function(t){t.target.composing||(e.digitsInt=t.target.value)}}}),e._v(" "),n("label",{staticClass:"rf-input__label"},[e._v(" "+e._s(e.$t("phone-number-mobile-phone-number-label"))+" ")]),e._v(" "),e.hasDigits?e._e():n("i",{staticClass:"rf-input__prefix-icon icon icon__phone-handset"})])]),e._v(" "),n("input-error",{directives:[{name:"show",rawName:"v-show",value:e.hasSpecialValidationError,expression:"hasSpecialValidationError"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"phone-number-valid-digits","error-label":"phone-number-digits-invalid"}}),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isPhoneNumberFieldFocused?n("div",{staticClass:"phone-number__digits__note"},[n("i",{staticClass:"icon icon__info"}),e._v(" "+e._s(e.$t("phone-number-mobile-phone-number-hint"))+" ")]):e._e()])],1)}),[],!1,null,null,null).exports),O=/(\+[0-9]{1,3})-([0-9]+)/,S={components:{CallingCodeSelector:N,Digits:F},props:{dataTest:{type:String,default:"phone-number"},phoneNumber:{type:String,default:""},shouldPassFocusAutomatically:{type:Boolean,default:!0},wrapAt:{type:Number,default:500},countryCodeHint:{type:String,default:""}},data:function(){return{model:{callingCode:"",digits:""},resizeObserver:null,shouldWrap:!1}},computed:{formattedPhoneNumber:function(){var e=this.model,t=e.callingCode,n=e.digits;return Object(s.a)(t)||Object(s.a)(n)?"":"".concat(t,"-").concat(n)},maxDigits:function(){return 20-(this.model.callingCode.length+1)}},created:function(){this.parseModel()},mounted:function(){this.resizeObserver=new r.a(this.handleResize),this.resizeObserver.observe(this.$el)},destroyed:function(){this.resizeObserver.unobserve(this.$el)},methods:{parseModel:function(){if(!Object(s.a)(this.phoneNumber)){var e=this.phoneNumber.match(O);Object(c.a)(e)||Object(l.a)({callingCode:e[1],digits:e[2]},this.model)}},onSelectCountry:function(e){this.model.callingCode=e.phonePrefix||"",this.emitUpdatePhoneNumber(),this.shouldPassFocusAutomatically&&this.$refs.digits.$el.querySelector("input").focus()},onUpdateDigits:function(e){this.model.digits=e,this.emitUpdatePhoneNumber()},emitUpdatePhoneNumber:function(){!O.test(this.formattedPhoneNumber)&&Object(a.a)(this.formattedPhoneNumber)||this.$emit("update:phone-number",this.formattedPhoneNumber)},handleResize:function(e){if(!Object(s.a)(e)){var t=o()(e[0],"contentRect.width")||0;this.shouldWrap=t<=this.wrapAt}},reset:function(){Object(l.a)({callingCode:"",digits:""},this.model),this.$refs.callingCodeSelector.resetCountry()}}},j=(n(1062),Object(C.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"phone-number",class:{"phone-number--wrapped":e.shouldWrap},attrs:{"data-test":e.dataTest}},[n("div",{staticClass:"phone-number__container"},[n("calling-code-selector",{ref:"callingCodeSelector",attrs:{"calling-code":e.model.callingCode,"country-code-hint":e.countryCodeHint},on:{"select:country":e.onSelectCountry}})],1),e._v(" "),n("div",{staticClass:"phone-number__container"},[n("digits",{ref:"digits",attrs:{digits:e.model.digits,"max-digits":e.maxDigits},on:{"update:digits":e.onUpdateDigits}})],1)])}),[],!1,null,null,null));t.a=j.exports},658:function(e,t,n){"use strict";var i=n(2),o=n.n(i),r=n(86),s=n(12),a=n(63),c=n(204);t.a={data:function(){return{countries:Object(r.b)(),scrollTop:0,isCountryFocused:!1,searchCountry:"",selectedCountry:{code:"",isEu:!1,isSchengen:!1,name:"",phonePrefix:""},isSearchingInPhonePrefix:!1}},computed:{hasFilteredCountries:function(){return Object(s.a)(this.filteredCountries)},filteredCountries:function(){var e=this,t=[];if(!this.countries.length)return t;if(t=this.countries.filter(Object(c.a)("code",this.selectedCountry.code)),this.searchCountry){var n=this.searchCountry.toLowerCase();return t.filter((function(t){var i=t.name.toLowerCase().startsWith(n),o=t.code.toLowerCase().startsWith(n),r=!!e.isSearchingInPhonePrefix&&t.phonePrefix.includes(n);return i||o||r}))}return t},areCountriesVisible:function(){return this.isCountryFocused},hasSelectedCountry:function(){return Object(s.a)(this.selectedCountry.code)},selectedCountryInt:{get:function(){return this.selectedCountry},set:function(e){this.selectedCountry=e,this.$emit("select:country",this.selectedCountry)}}},watch:{filteredCountries:function(){this.updateScrollTop()}},methods:{onFocus:function(){this.searchCountry="",this.isCountryFocused=!0},onBlur:function(){this.isCountryFocused=!1,this.searchCountry=this.selectedCountry.name},selectCountry:function(e){this.hasFilteredCountries?(e=Object(a.a)(e)?e:o()(this.filteredCountries,"0"),this.selectedCountryInt=e,this.searchCountry=e.name,this.onBlur()):this.onBlur()},updateScrollTop:function(){this.scrollTop=.1===this.scrollTop?0:.1},resetCountry:function(){this.selectedCountry={code:"",isEu:!1,isSchengen:!1,name:"",phonePrefix:""}}}}}}]);
//# sourceMappingURL=1.min.a89c76c0.js.map