(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{1202:function(e,t,i){},1203:function(e,t,i){},1247:function(e,t,i){},1265:function(e,t,i){},1266:function(e,t,i){},1267:function(e,t,i){},1268:function(e,t,i){},1269:function(e,t,i){},1270:function(e,t,i){},1371:function(e,t,i){"use strict";var n=i(1202);i.n(n).a},1372:function(e,t,i){"use strict";var n=i(1203);i.n(n).a},1390:function(e,t,i){"use strict";var n={},a=(i(1372),i(25)),s=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("footer",{staticClass:"check-in-footer"},[i("button",{staticClass:"content__link1",attrs:{type:"button","data-test":"check-in-footer-check-in-later"},on:{click:function(t){return e.$emit("click-check-in-later")}}},[e._v(" "+e._s(e.$t("check-in-later"))+" ")])])}),[],!1,null,null,null);t.a=s.exports},1391:function(e,t,i){"use strict";var n=i(47),a=i(122),s=i(30),r=i(34),c=i(243),o={vuex:{getters:{checkInSelectedPassengers:r.checkInSelectedPassengers,isTravelDocumentRequired:r.isTravelDocumentRequired,isContactDataRequired:r.isContactDataRequired,hasItemsInCart:n.hasItemsInCart,isNavigationButtonLoading:a.v,isAlreadyPaid:s.isAlreadyPaid,isEmptyPaymentOccurred:r.isEmptyPaymentOccurred,isConfirmDataStep:c.d}},props:{previousStepName:{type:String,required:!0},nextStepName:{type:String,required:!0}},computed:{isNextStepDisabled:function(){return 0===this.checkInSelectedPassengers.length},isPaymentOccurred:function(){return this.isEmptyPaymentOccurred||this.isAlreadyPaid},isNextStepVisible:function(){return Boolean(this.nextStepName)},isPreviousStepHidden:function(){return!this.previousStepName||this.isConfirmDataStep&&(!this.isTravelDocumentRequired||!this.isContactDataRequired)||this.isPaymentOccurred},nextButtonClassNames:function(){return{"rf-button":!0,"rf-button--medium":!0,"rf-button--primary":!0,disabled:this.isNextStepDisabled,loading:this.isNavigationButtonLoading}}}},l=(i(1371),i(25)),u=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check-in-navigation",class:{"check-in-navigation--no-previous-step":e.isPreviousStepHidden}},[e.isPreviousStepHidden?e._e():i("button",{staticClass:"content__link1",attrs:{disabled:e.isNavigationButtonLoading},on:{click:function(t){return t.preventDefault(),e.$emit("go-to-previous-step")}}},[e._v(" "+e._s(e.$t("check-in-previous"))+" ")]),e._v(" "),e.isNextStepVisible?i("button",{class:e.nextButtonClassNames,attrs:{disabled:e.isNavigationButtonLoading||e.isNextStepDisabled,"data-test":"check-in-continue"},on:{click:function(t){return t.preventDefault(),e.$emit("go-to-next-step")}}},[e._v(" "+e._s(e.isConfirmDataStep?e.$t("check-in-status-accept-and-checkin"):e.$t("check-in-next"))+" ")]):e._e()])}),[],!1,null,null,null);t.a=u.exports},1486:function(e,t,i){"use strict";var n=i(1247);i.n(n).a},1522:function(e,t,i){"use strict";var n=i(1265);i.n(n).a},1523:function(e,t,i){"use strict";var n=i(1266);i.n(n).a},1524:function(e,t,i){"use strict";var n=i(1267);i.n(n).a},1525:function(e,t,i){"use strict";var n=i(1268);i.n(n).a},1526:function(e,t,i){"use strict";var n=i(1269);i.n(n).a},1527:function(e,t,i){"use strict";var n=i(1270);i.n(n).a},1573:function(e,t,i){},1574:function(e,t,i){},1575:function(e,t,i){},1678:function(e,t,i){"use strict";var n=i(112),a={props:{isModifyServicesModalVisible:{type:Boolean,required:!0}},data:function(){return{selected:{},options:[{label:"bags",route:"services"},{label:"seats",route:"seat-selection"},{label:"other-services",route:"services"}]}},methods:{hide:function(){this.$emit("close")},handleOnContinue:function(){this.$emit("modify-services",this.selected)}}},s=i(25),r=Object(s.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("confirm-modal",{attrs:{"data-test-title":"confirm-modal--cancel-is-link-title",title:"modify-services-modal-title","continue-label":"modify-services-modal-ok","cancel-label":"modify-services-modal-cancel","is-visible":e.isModifyServicesModalVisible,"on-continue":e.handleOnContinue,"on-cancel":e.hide},on:{close:e.hide}},[i("div",{staticClass:"services-modify-modal__content"},[i("p",{staticClass:"gutter-bottom services-modify-modal__content__text"},[e._v(" "+e._s(e.$t("modify-services-content-text"))+" ")]),e._v(" "),e._l(e.options,(function(t){return i("div",{staticClass:"gutter-bottom"},[i("span",{staticClass:"rf-radio rf-radio--on-left services-modify-modal__content__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"rf-radio__input",attrs:{id:"services-modify-"+t.label,type:"radio",name:"services-modify-modal-option-"+t.label},domProps:{value:t,checked:e._q(e.selected,t)},on:{change:function(i){e.selected=t}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"services-modify-"+t.label}}),e._v(" "),i("label",{attrs:{for:"services-modify-"+t.label}},[i("strong",[e._v(e._s(e.$t("modify-services-option-"+t.label)))])])])])}))],2)])}),[],!1,null,null,null).exports,c={props:{isCheckInFlow:{type:Boolean,default:!1}},methods:{openModifyServicesModal:function(){this.$emit("open-modify-services-modal")}}},o=(i(1522),Object(s.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-overview__shopping-cart__title"},[i("div",{staticClass:"itinerary-overview__shopping-cart__container"},[i("div",{staticClass:"itinerary-overview__shopping-cart__title__label"},[e._v(" "+e._s(e.$t("itinerary-overview-cart-title"))+" ")]),e._v(" "),e.isCheckInFlow?i("button",{staticClass:"content__link1",on:{click:e.openModifyServicesModal}},[e._v(" "+e._s(e.$t("itinerary-overview-cart-modify"))+" ")]):e._e()])])}),[],!1,null,null,null).exports),l=i(11),u=i.n(l),d=i(1),p=i.n(d),h=i(2),_=i.n(h),v=i(12),f=i(18),m=i(81),g=i(0),b=i(44),y=i(131),k=i(63),C={props:{ancillary:{type:Object,required:!0}},computed:{price:function(){return this.ancillary.price.amount?Object(y.a)(this.ancillary.price.amount,this.ancillary.price.currencyCode):this.$t("included")},hasStation:function(){return Object(k.a)(this.ancillary.station)},dataTestAncillaryCode:function(){return this.ancillary.feeCode||this.ancillary.specificType},dataTestPrice:function(){return this.ancillary.price.amount?this.ancillary.price.amount:"included"}}},S=(i(1523),Object(s.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-overview__shopping-cart__details__ancillary",attrs:{"data-test":e.dataTestAncillaryCode}},[i("div",{staticClass:"itinerary-overview__shopping-cart__details__ancillary__icon"},[i("i",{staticClass:"icon",class:e.ancillary.iconClass})]),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__details__ancillary__label",attrs:{"data-test":e.ancillary.displayCount}},[e.ancillary.displayCount>0?i("span",{staticClass:"itinerary-overview__shopping-cart__details__ancillary__label__counter"},[e._v(" "+e._s(e.ancillary.displayCount)+" Ã— ")]):e._e(),e._v(" "+e._s(e.ancillary.label)+" "),e.hasStation?i("span",{staticClass:"itinerary-overview__shopping-cart__details__ancillary__label__station"},[e._v(" ("+e._s(e.ancillary.station)+") ")]):e._e()]),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__details__ancillary__price",attrs:{"data-test":e.dataTestPrice}},[e._v(" "+e._s(e.price)+" ")])])}),[],!1,null,null,null).exports),w={components:{CartAncillary:S},props:{passenger:{type:Object,required:!0},hasAccountAncillaries:{type:Boolean,required:!0},hasOutboundAncillaries:{type:Boolean,required:!0},hasReturnAncillaries:{type:Boolean,required:!0},departureStationIata:{type:String,required:!0},arrivalStationIata:{type:String,required:!0}},computed:{accountAncillaries:function(){return this.passenger.account},outboundAncillaries:function(){return this.passenger.outbound},returnAncillaries:function(){return this.passenger.return},dataTest:function(){return"".concat(this.departureStationIata).concat(this.arrivalStationIata)}},methods:{isAdult:b.q,isInfant:b.u,isFemale:b.t,isMale:b.w,isChild:b.r}};i(1524);function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function A(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(i,!0).forEach((function(t){p()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var O={components:{CartAncillary:S,CartPassenger:Object(s.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger"},[i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__name"},[i("div",{staticClass:"circled-avatar"},[i("i",{staticClass:"icon",class:{"icon__person--detailed--woman":e.isAdult(e.passenger)&&e.isFemale(e.passenger),"icon__person--detailed--man":e.isAdult(e.passenger)&&e.isMale(e.passenger),"icon__person--detailed--child":e.isChild(e.passenger),"icon__person--detailed--infant":e.isInfant(e.passenger)}})]),e._v(" "+e._s(e.passenger.firstName)+" "+e._s(e.passenger.lastName)+" ")]),e._v(" "),e.hasAccountAncillaries?i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__ancillaries itinerary-overview__shopping-cart__details__passenger__ancillaries--account"},e._l(e.accountAncillaries,(function(e,t){return i("cart-ancillary",{key:t,attrs:{ancillary:e}})})),1):e._e(),e._v(" "),e.hasOutboundAncillaries?i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__ancillaries itinerary-overview__shopping-cart__details__passenger__ancillaries--outbound"},[i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__ancillaries__stations",attrs:{"data-test":e.dataTest}},[e._v(" "+e._s(e._f("resource")(e.departureStationIata,"shortName"))+" - "+e._s(e._f("resource")(e.arrivalStationIata,"shortName"))+" ")]),e._v(" "),e._l(e.outboundAncillaries,(function(e,t){return i("cart-ancillary",{key:t,attrs:{ancillary:e}})}))],2):e._e(),e._v(" "),e.hasReturnAncillaries?i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__ancillaries itinerary-overview__shopping-cart__details__passenger__ancillaries--return"},[i("div",{staticClass:"itinerary-overview__shopping-cart__details__passenger__ancillaries__stations"},[e._v(" "+e._s(e._f("resource")(e.arrivalStationIata,"shortName"))+" - "+e._s(e._f("resource")(e.departureStationIata,"shortName"))+" ")]),e._v(" "),e._l(e.returnAncillaries,(function(e,t){return i("cart-ancillary",{key:t,attrs:{ancillary:e}})}))],2):e._e()])}),[],!1,null,null,null).exports},props:{bookingPassengers:{type:Array,required:!0},items:{type:Object,required:!0}},computed:{hasFlightSpecificAncillaries:function(){var e=this;return[g.if,g.Of].some((function(t){return!e.passengersWithAncillaries.reduce((function(e,i){return e=e&&Object(f.a)(i[t])}),!0)}))},hasGlobalAncillaries:function(){return Object(v.a)(this.globalAncillaries)},globalAncillaries:function(){var e=this;return(_()(this,"items.services.globals")||[]).map((function(t){return A({},Object(m.a)(t,"displayCount","price","iconClass","station","feeCode","specificType"),{label:e.$t(t.label)})}))},independentPassengers:function(){return this.bookingPassengers.filter((function(e){return e.passengerType!==g.yd}))},numberOfIndependentPassengers:function(){return this.independentPassengers.length},passengersWithAncillaries:function(){var e=this;return this.independentPassengers.map((function(t){return{firstName:t.firstName,lastName:t.lastName,gender:t.gender,passengerType:t.passengerType,account:e.getAccountSpecificAncillaries(t),outbound:e.getFlightSpecificAncillaries(t,g.if),return:e.getFlightSpecificAncillaries(t,g.Of)}}))},departureStationIata:function(){return this.items.stations.departure},arrivalStationIata:function(){return this.items.stations.arrival}},methods:{getAccountSpecificAncillaries:function(e){var t=this;return(_()(this,"items.ancillaries[".concat(e.passengerNumber,"].generic"))||[]).map((function(e){return A({},Object(m.a)(e,"displayCount","price","iconClass"),{label:t.$t(e.label)})}))},getFlightSpecificAncillaries:function(e,t){var i=this,n=(_()(this,"items.ancillaries[".concat(e.passengerNumber,"].").concat(t,"Flight"))||[]).map((function(e){return A({},Object(m.a)(e,"displayCount","price","iconClass","feeCode","specificType"),{label:i.$t(e.label)})})).sort((function(e,t){return e.specificType&&e.specificType.startsWith(g.Hb)?-1:0})),a=[],s=_()(this,"items.seats[".concat(e.passengerNumber,"].").concat(t,"Seat"));Object(v.a)(s)&&a.push(A({},Object(m.a)(s,"price","iconClass"),{label:s.code,displayCount:0}));var r=(_()(this,"items.services[".concat(t,"Flight]"))||[]).map((function(e){var t=e.displayCount,n=e.price,a=n.amount,s=n.currencyCode,r=e.iconClass,c=e.label,o=e.feeCode,l=e.specificType;return{displayCount:t/i.numberOfIndependentPassengers,price:{amount:a/i.numberOfIndependentPassengers,currencyCode:s},iconClass:r,feeCode:o,specificType:l,label:i.$t(c)}}));return[].concat(u()(n),a,u()(r))},hasAncillariesForFlight:function(e,t){return Object(v.a)(e[t])},hasAncillaries:function(e){return this.hasOutboundAncillaries(e)||this.hasReturnAncillaries(e)},hasAccountAncillaries:function(e){return Object(v.a)(e.account)},hasOutboundAncillaries:function(e){return this.hasAncillariesForFlight(e,g.if)},hasReturnAncillaries:function(e){return this.hasAncillariesForFlight(e,g.Of)}}},P=(i(1525),Object(s.a)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-overview__shopping-cart__details"},[i("div",{staticClass:"itinerary-overview__shopping-cart__container"},[e.hasGlobalAncillaries?i("div",{staticClass:"itinerary-overview__shopping-cart__details__flight-services",class:{"itinerary-overview__shopping-cart__details__flight-services--with-divider":e.hasFlightSpecificAncillaries}},[i("div",{staticClass:"title--2 itinerary-overview__shopping-cart__details__flight-services__title"},[e._v(" "+e._s(e.$t("itinerary-overview-cart-flight-services-title"))+" ")]),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__details__flight-services__ancillaries"},e._l(e.globalAncillaries,(function(e,t){return i("cart-ancillary",{key:t,attrs:{ancillary:e}})})),1)]):e._e(),e._v(" "),e.hasFlightSpecificAncillaries?i("div",{staticClass:"itinerary-overview__shopping-cart__details__passengers"},e._l(e.passengersWithAncillaries,(function(t,n){return e.hasAncillaries(t)?i("cart-passenger",{key:n,attrs:{"departure-station-iata":e.departureStationIata,"arrival-station-iata":e.arrivalStationIata,passenger:t,"has-account-ancillaries":e.hasAccountAncillaries(t),"has-outbound-ancillaries":e.hasOutboundAncillaries(t),"has-return-ancillaries":e.hasReturnAncillaries(t)}}):e._e()})),1):e._e()])])}),[],!1,null,null,null).exports),N={props:{isOpened:{type:Boolean,required:!0},cartAmountDue:{type:Object,required:!0},currencies:{type:Array,default:function(){return[]}},isContinueDisabled:{type:Boolean,default:!1},isBackLinkVisible:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!0},isCheckInFlow:{type:Boolean,default:!1},currentStep:{type:Object,default:function(){return{}}}},computed:{selectedCurrency:{get:function(){return this.cartAmountDue.currencyCode},set:function(e){this.emitChangeOrRollbackCurrency(e),this.$forceUpdate()}},isEmptyPayment:function(){return 0===this.cartAmountDue.amount},hasCurrencies:function(){return Object(v.a)(this.currencies)},continueButtonText:function(){return this.isEmptyPayment?this.isCheckInFlow?this.$t("itinerary-overview-cart-go-to-check-in"):this.$t("itinerary-overview-cart-confirm-changes"):this.isCheckInFlow&&this.isStepNextPayment?this.$t("itinerary-overview-cart-go-to-payment"):!this.isStepNextPayment&&Object(v.a)(this.currentStep)&&this.currentStep.order<2&&this.isCheckInFlow?this.$t("itinerary-overview-cart-next"):this.$t("itinerary-overview-cart-continue")},linkText:function(){return this.isCheckInFlow?this.$t("itinerary-overview-cart-previous"):this.$t("itinerary-overview-keep-adding-services")},isLinkVisible:function(){return this.isCheckInFlow?this.isBackLinkVisible&&this.currentStep.order>0:this.isBackLinkVisible},isStepNextPayment:function(){return 2===this.currentStep.order}},methods:{emitToggle:function(){this.$emit("toggle")},emitChangeOrRollbackCurrency:function(e){this.$emit("change-currency",e)}}},$=(i(1526),{components:{CartTitle:o,CartDetails:P,CartStatus:Object(s.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-overview__shopping-cart__status",class:{"itinerary-overview__shopping-cart__status--opened":e.isOpened}},[i("div",{staticClass:"itinerary-overview__shopping-cart__container",attrs:{"data-test":"itinerary-overview-shopping-cart-status"},on:{click:e.emitToggle}},[e._m(0),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__status__total"},[i("div",{staticClass:"itinerary-overview__shopping-cart__status__total__label"},[e._v(" "+e._s(e.$t("itinerary-overview-cart-total"))+": ")]),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__status__total__value",attrs:{"data-test":e.cartAmountDue.amount}},[e._v(" "+e._s(e._f("currency")(e.cartAmountDue,e.cartAmountDue.currencyCode))+" ")]),e._v(" "),e.hasCurrencies?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"dropdown dropdown--small itinerary-overview__shopping-cart__status__total__currency-selector"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCurrency,expression:"selectedCurrency"}],staticClass:"dropdown__select",attrs:{"data-test":"cart-status-currency-dropdown"},on:{click:function(e){e.preventDefault(),e.stopPropagation()},change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedCurrency=t.target.multiple?i:i[0]}}},e._l(e.currencies,(function(t){return i("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]):e._e()]),e._v(" "),i("div",{staticClass:"itinerary-overview__shopping-cart__status__cta",attrs:{"data-test":"itinerary-overview-shopping-cart-status-container"}},[e.isLinkVisible?i("button",{staticClass:"content__link1 itinerary-overview__shopping-cart__status__cta__back-link",attrs:{"data-test":"itinerary-overview-shopping-cart-status-cta-back"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("click-back-link")}}},[e._v(" "+e._s(e.linkText)+" ")]):e._e(),e._v(" "),i("button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"rf-button rf-button--medium rf-button--primary itinerary-overview__shopping-cart__status__cta__continue",attrs:{disabled:e.isContinueDisabled,"data-test":"itinerary-overview-shopping-cart-status-cta-continue"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("continue")}}},[e._v(" "+e._s(e.continueButtonText)+" ")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"itinerary-overview__shopping-cart__status__toggle"},[t("i",{staticClass:"icon icon__arrow--toup--pink"})])}],!1,null,null,null).exports,ModifyServicesModal:r},vuex:{actions:{setModifyServicesModal:n.D}},props:{cartAmountDue:{type:Object,required:!0},bookingPassengers:{type:Array,default:function(){return[]}},items:{type:Object,default:function(){return{}}},currencies:{type:Array,default:function(){return[]}},isContinueDisabled:{type:Boolean,default:!1},isBackLinkVisible:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isModifyServicesModalVisible:{type:Boolean,default:!1},isCheckInFlow:{type:Boolean,default:!1},currentStep:{type:Object,default:function(){return{}}}},data:function(){return{isOpened:!1}},computed:{transitionName:function(){return this.isCartOpened?"slide-with-details":"slide"}},methods:{toggle:function(){this.isOpened=!this.isOpened},handleOpenModifyServices:function(){this.setModifyServicesModal(!0),this.toggle()},hideModifyServicesModal:function(){this.setModifyServicesModal(!1)},handleModifyServices:function(e){this.isOpened=!1,this.$emit("modify-services",e)}}}),x=(i(1527),Object(s.a)($,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:e.transitionName}},[i("div",{staticClass:"itinerary-overview__shopping-cart",attrs:{"data-test":"itinerary-overview-shopping-cart"}},[e.isOpened?i("cart-title",{attrs:{"is-check-in-flow":e.isCheckInFlow},on:{"open-modify-services-modal":e.handleOpenModifyServices}}):e._e(),e._v(" "),e.isOpened?i("cart-details",{attrs:{"booking-passengers":e.bookingPassengers,items:e.items}}):e._e(),e._v(" "),i("cart-status",{attrs:{"is-opened":e.isOpened,"cart-amount-due":e.cartAmountDue,currencies:e.currencies,"is-continue-disabled":e.isContinueDisabled,"is-back-link-visible":e.isBackLinkVisible,"is-check-in-flow":e.isCheckInFlow,"current-step":e.currentStep,"is-loading":e.isLoading},on:{toggle:e.toggle,"change-currency":function(t){return e.$emit("change-currency",t)},continue:function(t){return e.$emit("continue")},"click-back-link":function(t){return e.$emit("click-back-link")}}}),e._v(" "),i("modify-services-modal",{attrs:{"is-modify-services-modal-visible":e.isModifyServicesModalVisible},on:{"modify-services":e.handleModifyServices,close:e.hideModifyServicesModal}})],1)])}),[],!1,null,null,null));t.a=x.exports},1688:function(e,t,i){"use strict";var n={props:{titleLabelKey:{type:String,required:!0},buttonLabelKey:{type:String,required:!0},isButtonVisible:{type:Boolean,default:!0}},methods:{emitGoBack:function(){this.$emit("go-back")}}},a=(i(1486),i(25)),s=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itinerary-header",attrs:{"data-test":"itinerary-common-header"}},[i("div",{staticClass:"itinerary-header__title heading heading--1",attrs:{"data-test":"itinerary-common-header-title"}},[e._v(" "+e._s(e.$t(e.titleLabelKey))+" ")]),e._v(" "),e.isButtonVisible?i("button",{staticClass:"itinerary-header__button content__link1",attrs:{"data-test":"itinerary-common-header-button-back"},on:{click:e.emitGoBack}},[i("i",{staticClass:"icon icon__arrow--small--toleft--pink"}),e._v(" "+e._s(e.$t(e.buttonLabelKey))+" ")]):e._e()])}),[],!1,null,null,null);t.a=s.exports},1826:function(e,t,i){"use strict";var n=i(1573);i.n(n).a},1827:function(e,t,i){"use strict";var n=i(1574);i.n(n).a},1828:function(e,t,i){"use strict";var n=i(1575);i.n(n).a},1932:function(e,t,i){"use strict";i.r(t);var n=i(3),a=i.n(n),s=i(9),r=i.n(s),c=i(1),o=i.n(c),l=i(35),u=i(14),d=i.n(u),p=i(2),h=i.n(p),_=i(21),v=i(17),f=i.n(v),m=i(343),g=i.n(m),b=i(66),y=i(69),k=i(57),C=i(48),S=i(220),w=i(138),I=i(125),A=i(197),O=i(112),P=i(34),N=i(243),$=i(74),x=i(282),M=i(122),j=i(47),B=i(56),L=i(1688),D=i(1678),F=i(52),q=i(285),T=i(0),E=i(39),V=i(160),R=i(124),H={props:{step:{type:Object,required:!0},steps:{type:Array,required:!0},currentStep:{type:Object,required:!0},labelPrefix:{type:String,required:!0},isLastStepCheckMarkIcon:{type:Boolean,default:!1}},computed:{dataTest:function(){return"".concat(this.labelPrefix,"-step-selector-step-").concat(this.step.name)},isActiveStep:function(){return this.step===this.currentStep},stepLabel:function(){return this.$t("".concat(this.labelPrefix,"-step-").concat(this.step.name))},stepIndex:function(){return this.steps.indexOf(this.step)},isLastStepAndCheckMarkIcon:function(){return this.step===Object(V.a)(this.steps)&&this.isLastStepCheckMarkIcon},stepClass:function(){return["breadcrumb-step","breadcrumb-step--".concat(this.step.name),{"breadcrumb-step--active":this.isActiveStep}]},checkMarkIconClass:function(){return["icon","breadcrumb-step__icon","icon__tick--".concat(this.step.name===this.currentStep.name?"green":"light-gray")]}}},G=(i(1826),i(25)),W={name:"Breadcrumbs",components:{Step:Object(G.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{class:e.stepClass},[i("div",{staticClass:"title title--1 breadcrumb-step__index"},[e.isLastStepAndCheckMarkIcon?i("i",{class:e.checkMarkIconClass}):i("span",[e._v(e._s(e.stepIndex+1))])]),e._v(" "),i("div",{staticClass:"title title--2 breadcrumb-step__title"},[e._v(" "+e._s(e.stepLabel)+" ")]),e._v(" "),e.step.isEditable?i("router-link",{staticClass:"content__link1 breadcrumb-step__modify",attrs:{"data-test":e.dataTest,to:{name:e.step.name,params:{ignoreGuard:!0}}}},[e._v(" "+e._s(e.$t("breadcrumb-modify"))+" ")]):e._e()],1)}),[],!1,null,null,null).exports},props:{steps:{type:Array,required:!0},currentStep:{type:Object,required:!0},labelPrefix:{type:String,required:!0},isLastStepCheckMarkIcon:{type:Boolean,default:!1}},data:function(){return{isMobile:Object(E.p)(),isForward:!0}},computed:{direction:function(){return this.isForward?T.sb:T.rb},currentStepIndex:function(){return this.steps.indexOf(this.currentStep)},stepRange:function(){if(!this.isMobile||this.steps.length<=3)return this.steps;var e=this.steps.length-1,t=this.currentStepIndex-1,i=this.currentStepIndex+1;return this.currentStepIndex<=0?(t=0,i=2):this.currentStepIndex>=e&&(t=e-2,i=e),this.steps.slice(t,i+1)},isFirstStepVisible:function(){return this.stepRange.includes(Object(R.a)(this.steps))},isLastStepVisible:function(){return this.stepRange.includes(Object(V.a)(this.steps))},breadcrumbClass:function(){return{breadcrumb__list:!0,"breadcrumb__list--first-step-visible":this.isFirstStepVisible,"breadcrumb__list--last-step-visible":this.isLastStepVisible}}},watch:{currentStep:function(e,t){e.order>t.order?this.isForward=!0:this.isForward=!1}},mounted:function(){window.addEventListener("resize",this.updateBreadcrumb)},beforeDestroy:function(){window.removeEventListener("resize",this.updateBreadcrumb)},methods:{updateBreadcrumb:function(){this.isMobile=Object(E.p)()}}},z=(i(1827),Object(G.a)(W,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"container breadcrumb",attrs:{"data-test":"breadcrumb"}},[i("transition-group",{class:e.breadcrumbClass,attrs:{name:e.direction,mode:"in-out",tag:"ul"}},e._l(e.stepRange,(function(t){return i("step",{key:t.order,attrs:{step:t,steps:e.steps,"current-step":e.currentStep,"label-prefix":e.labelPrefix,"is-last-step-check-mark-icon":e.isLastStepCheckMarkIcon}})})),1)],1)}),[],!1,null,null,null).exports),K=i(1391),U=i(1390),J={props:{reasons:{type:Array,required:!0}}},Q=Object(G.a)(J,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal-new",{attrs:{"data-test":"check-in-not-available-modal",title:e.$t("check-in-status-check-in-not-available"),closeable:!1}},[i("section",{attrs:{slot:"body"},slot:"body"},[e._l(e.reasons,(function(t,n){return i("p",{key:n,staticClass:"gutter-bottom"},["seating-outage"===t?i("span",{attrs:{"data-test":"itinerary-check-in-possible"}},[e._v(" "+e._s(e.$t("check-in-is-blocked-by-seating-service"))+" ")]):e._e(),e._v(" "),"early"===t?i("span",[i("strong",{attrs:{"data-test":"itinerary-check-in-possible"}},[e._v(e._s(e.$t("online-checkin"))+":")]),e._v(" "+e._s(e.$t("check-in-is-not-yet-available"))+" "),i("br"),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.$t("online-check-in-times-changed",[e.$root.safeGetUrl("checkIn")]))}})]):e._e(),e._v(" "),"blockedByOutbound"===t?i("span",{attrs:{"data-test":"itinerary-check-in-impossible-dueto-outbond"}},[e._v(" "+e._s(e.$t("check-in-blocked-by-outbound-flight"))+" "),i("br"),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.$t("online-check-in-times-changed",[e.$root.safeGetUrl("checkIn")]))}})]):e._e(),e._v(" "),"late"===t?i("span",[e._v(" "+e._s(e.$t("check-in-is-not-available-anymore"))+" ")]):e._e(),e._v(" "),"payment"===t?i("span",[e._v(" "+e._s(e.$t("itinerary-over-or-under-payment"))+" ")]):e._e(),e._v(" "),"station"===t?i("span",{attrs:{"data-test":"itinerary-check-in-impossible-dueto-station"}},[e._v(" "+e._s(e.$t("online-checkin-is-not-available"))+" ")]):e._e(),e._v(" "),"passenger-has-invalid-character-in-name"===t?i("span",[e._v(" "+e._s(e.$t("online-checkin-passenger-has-invalid-character-in-name"))+" ")]):e._e(),e._v(" "),"disrupted"===t?i("span",[e._v(" "+e._s(e.$t("check-in-not-available-disrupted"))+" ")]):e._e()])})),e._v(" "),i("div",{staticClass:"add-passenger-names-modal__footer text-center"},[i("button",{staticClass:"rf-button rf-button--primary rf-button--medium",attrs:{disabled:!1,"data-test":"check-in-not-available-modal-back-to-itinerary"},on:{click:function(t){return e.$emit("go-to-itinerary")}}},[e._v(" "+e._s(e.$t("check-in-status-go-to-itinerary"))+" ")])])],2)])}),[],!1,null,null,null).exports,X={name:"CheckIn",components:{CheckInNotAvailableModal:Q,ItineraryHeader:L.a,CheckInFooter:U.a,ShoppingCart:D.a,Breadcrumbs:z,Navigation:K.a},mixins:[q.a],vuex:{getters:{flights:P.flights,isConfirmModalAtCheckInServicesVisible:P.isConfirmModalAtCheckInServicesVisible,checkInSelectedPassengers:P.checkInSelectedPassengers,cartAmountDue:P.cartAmountDue,hasItemsInCart:j.hasItemsInCart,bookingPassengers:$.j,currencies:x.b,isLoading:P.isLoading,isSummaryLoading:j.isLoading,isSeatSelectionHasUnconfirmedChangesFromPrevious:M.E,isAddBagsFlow:P.isAddBagsFlow,isSeatChangeFlow:P.isSeatChangeFlow,isModifyServicesModalVisible:M.u,isNavigationButtonLoading:M.v,checkInPassengers:P.checkInPassengers,isPaymentPending:P.isPaymentPending,itineraryStatus:P.status,isNewVersionSupported:P.isNewVersionSupported,groupedServices:j.groupedServices,passengersAncillaries:j.passengersAncillaries,seatsPassengers:j.seatsPassengers,departureStationIata:j.departureStationIata,arrivalStationIata:j.arrivalStationIata,isAncillaryPostPending:B.p,isOutboundSeatAssignmentSuccessful:B.u,isReturnSeatAssignmentSuccessful:B.C,currentStep:N.b,hasAmountDue:j.hasAmountDue,availableSteps:N.a,paymentStep:N.f,previousStepName:N.g,nextStepName:N.e,stepAfterPayment:N.h},actions:{clearSelectedCheckInPassengers:A.clearSelectedCheckInPassengers,fetchCheckInPassengers:A.fetchCheckInPassengers,startStandardFlow:A.startStandardFlow,showConfirmModal:A.showConfirmModal,hideActiveModal:A.hideActiveModal,changeCurrency:A.changeCurrency,loadItinerary:A.loadItinerary,submitCheckIn:A.submitCheckIn,showAddBagsModal:A.showAddBagsModal,setNavigationButtonState:O.E}},props:{pnr:{type:String,required:!0},lastName:{type:String,required:!0},direction:{type:String,required:!0}},data:function(){return{isVisible:!0,initializing:!0,isCheckInNotAvailableModalVisible:!1}},computed:{isShoppingCartVisible:function(){return this.hasAmountDue&&this.isStepBeforePayment},isStepBeforePayment:function(){return this.currentStep.order<this.paymentStep.order},confirmModalMainContent:function(){return this.isStepBeforePayment?l.default.t("check-in-confirm-intend-to-quit-text-before-payment"):l.default.t("check-in-confirm-intend-to-quit-text-after-payment")},flight:function(){return this.flights[this.direction]||{}},departureStationName:function(){return Object(F.m)(this.flight.departureStation)},arrivalStationName:function(){return Object(F.m)(this.flight.arrivalStation)},formattedDepartureDate:function(){return d()(this.flight.departureDate).format("D MMM")},shouldIgnorePayment:function(){return!this.hasItemsInCart},isFooterVisible:function(){return this.$route.name!==I.l&&this.$route.name!==I.e},noCheckInReasons:function(){var e=this.checkInPassengers[this.direction].find((function(e){return e.noCheckInReasons}))||{};if(!this.isSeatAssignmentSuccessful)return["seating-outage"];var t=[];return e.noCheckInReasons&&(t=this.gatherErrors(e.noCheckInReasons)),this.isPaymentPending&&t.push(this.itineraryStatus),t},checkInStartDate:function(){return h()(this,"checkInPassengers.".concat(this.direction,"[0].checkInStartDate"))},checkInPassengersWithFilteredReasons:function(){var e=this;return Object(b.a)(this.checkInPassengers[this.direction]).map((function(t){return Object(y.a)(o()({},"noCheckInReasons",Object(k.a)(e.shouldKeepReason)),t),t}))},returnCheckInPassengersWithFilteredReasons:function(){var e=this;return Object(b.a)(this.checkInPassengers[T.Of]).map((function(t){return Object(y.a)(o()({},"noCheckInReasons",Object(k.a)(e.shouldKeepReason)),t),t}))},canCheckin:function(){var e=this.checkInPassengersWithFilteredReasons;return!!e&&e.some((function(e){return 0===e.noCheckInReasons.length}))},cartItems:function(){return{stations:{departure:this.departureStationIata,arrival:this.arrivalStationIata},services:this.groupedServices,ancillaries:this.passengersAncillaries,seats:this.seatsPassengers}},isSeatAssignmentSuccessful:function(){return this["is".concat(g()(this.direction),"SeatAssignmentSuccessful")]}},beforeResolve:function(e,t,i){i((function(e){if(0===e.checkInSelectedPassengers.length)return!1}))},created:function(){this.currentStep.name!==I.h&&this.handleCheckInAvailability()},mounted:function(){document.body.classList.add("body--check-in-flow")},methods:{gatherErrors:function(e){return e.map((function(e){return"onlineCheckinNotAvailableTooEarly"===e?"early":"onlineCheckinNotAvailableTooLate"===e?"late":"overOrUnderPayment"===e?"payment":"onlineCheckinNotAvailable"===e?"station":"onlineCheckinBlockedByOutboundFlightCheckinState"===e?"blockedByOutbound":"onlineCheckinNotAvailablePassengerHasInvalidCharacterInName"===e?"passenger-has-invalid-character-in-name":"bookingHasDisruptedFlight"===e||"onlineCheckinNotAvailableBookingIsInQueue"===e?"disrupted":""}))},goToNextStep:function(){Object(C.b)("checkInFlow_goToNextStep"),this.$router.push({name:this.nextStepName}).catch(f.a.warn)},goToPreviousStep:function(){this.$router.push({name:this.previousStepName}).catch(f.a.warn)},goToSelectedStep:function(e){this.$router.push({name:e.route}),"bags"===e.label&&this.showAddBagsModal()},handleGoBack:function(){this.startStandardFlow()},quit:function(){this.clearSelectedCheckInPassengers(),Object(w.j)(this.pnr,this.lastName)},handleError:function(e){this.setNavigationButtonState(!1),this.onError(e)},checkIn:function(){var e,t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.isNavigationButtonLoading){n.next=2;break}return n.abrupt("return");case 2:return this.setNavigationButtonState(!0),n.next=5,a.a.awrap(Object(_.a)(this.submitCheckIn()));case 5:if(e=n.sent,t=r()(e,1),!(i=t[0])){n.next=12;break}return this.handleError(i),this.$router.push({name:this.stepAfterPayment}),n.abrupt("return");case 12:return n.next=14,a.a.awrap(this.fetchCheckInPassengers());case 14:this.setNavigationButtonState(!1),this.$router.push({name:I.e,params:{ignoreGuard:!0}});case 16:case"end":return n.stop()}}),null,this)},handleCheckInAvailability:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.initializing=!1,this.isNewVersionSupported&&this.canCheckin&&this.isSeatAssignmentSuccessful||this.showCheckInNotAvailableModal()):this.initializing=!0},showCheckInNotAvailableModal:function(){this.updateCheckInNotAvailableModalVisible(!0)},updateCheckInNotAvailableModalVisible:function(e){this.isCheckInNotAvailableModalVisible=e},shouldKeepReason:function(e){return e!==S.j||d()().isBefore(d()(this.checkInStartDate))}}},Y=(i(1828),Object(G.a)(X,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container check-in",attrs:{"data-test":"check-in"}},[i("div",{staticClass:"row gutter-bottom"},[i("div",{staticClass:"gr-12"},[i("itinerary-header",{attrs:{"title-label-key":"check-in-flow-title","button-label-key":"itinerary-overview-back-to-itinerary","is-button-visible":!1},on:{"go-back":e.handleGoBack}}),e._v(" "),i("div",{staticClass:"check-in-route"},[i("h2",{staticClass:"heading heading--2",attrs:{"data-test":"check-in-destnations-header"}},[e._v(" "+e._s(e.departureStationName)+" "),i("i",{staticClass:"icon icon__arrow--big--toright--blue check-in-route__icon"}),e._v(" "+e._s(e.arrivalStationName)+" ")]),e._v(" "),i("h2",{staticClass:"heading heading--4 check-in-route__date",attrs:{"data-test":"check-in-departure-date-header"}},[e._v(" "+e._s(e.formattedDepartureDate)+" ")])])],1)]),e._v(" "),i("div",{staticClass:"row gutter-bottom"},[i("breadcrumbs",{attrs:{steps:e.availableSteps,"current-step":e.currentStep,"is-last-step-check-mark-icon":!0,"label-prefix":"check-in"}})],1),e._v(" "),i("transition",{attrs:{name:"page",mode:"out-in"}},[i("router-view",{directives:[{name:"loading",rawName:"v-loading",value:e.initializing,expression:"initializing"}],attrs:{"current-step":e.currentStep,"previous-step-name":e.previousStepName,"next-step-name":e.nextStepName,steps:e.availableSteps,"payment-step":e.paymentStep,"is-check-in-disabled":e.isCheckInNotAvailableModalVisible,"check-in-errors":e.errors,"return-check-in-passengers-with-filtered-reasons":e.returnCheckInPassengersWithFilteredReasons},on:{"submit-checkin":e.checkIn,"go-to-itinerary":e.quit,"passengers-loaded":e.handleCheckInAvailability}})],1),e._v(" "),i("confirm-modal",{attrs:{"data-test-title":"confirm-modal--cancel-is-link-title",title:"check-in-confirm-intend-to-quit-title","continue-label":"check-in-confirm-intend-to-quit-quit","cancel-label":"check-in-confirm-intend-to-quit-cancel","is-visible":e.isConfirmModalAtCheckInServicesVisible,"on-continue":e.quit,"on-cancel":e.hideActiveModal,"cancel-type":"link"},on:{close:e.hideActiveModal}},[i("div",{staticClass:"check-in__confirm-modal-content",domProps:{innerHTML:e._s(e.confirmModalMainContent)}})]),e._v(" "),e.isFooterVisible?[i("navigation",{attrs:{"previous-step-name":e.previousStepName,"next-step-name":e.nextStepName},on:{"go-to-next-step":e.goToNextStep,"go-to-previous-step":e.goToPreviousStep}}),e._v(" "),i("check-in-footer",{on:{"click-check-in-later":e.showConfirmModal}})]:e._e(),e._v(" "),e.isShoppingCartVisible?i("shopping-cart",{attrs:{"cart-amount-due":e.cartAmountDue,"booking-passengers":e.bookingPassengers,items:e.cartItems,currencies:e.currencies,"is-continue-disabled":e.isLoading||e.isSeatSelectionHasUnconfirmedChangesFromPrevious,"is-back-link-visible":!0,"is-loading":e.isLoading||e.isSummaryLoading||e.isAncillaryPostPending,"is-modify-services-modal-visible":e.isModifyServicesModalVisible,"is-check-in-flow":!0,"current-step":e.currentStep},on:{"modify-services":e.goToSelectedStep,continue:e.goToNextStep,"click-back-link":e.goToPreviousStep,"change-currency":e.changeCurrency}}):e._e(),e._v(" "),e.isCheckInNotAvailableModalVisible?i("check-in-not-available-modal",{attrs:{reasons:e.noCheckInReasons},on:{"go-to-itinerary":e.quit}}):e._e()],2)}),[],!1,null,null,null));t.default=Y.exports},282:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return c})),i.d(t,"d",(function(){return o}));var n=i(45),a=function(e){return Object(n.a)("locale.".concat(e))},s=a("languageCode"),r=a("currencies"),c=a("availableLocales"),o=a("shouldRefreshAncillaries")},285:function(e,t,i){"use strict";var n=i(89),a=i.n(n),s=i(17),r=i.n(s),c=i(2),o=i.n(c),l=i(106),u=i(18),d=i(156),p={data:function(){return{errors:[],hasCriticalError:!1}},methods:{onError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"errors",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if("object"===a()(e)){this.postSubmitErrorHandling();var s=o()(e||{},"data.validationCodes");r.a.error(s||e);var c=this[t]=Object(l.a)(s||[]),p=e.headers,h=e.status,_=e.data,v=p&&h;h===d.d?c.push("".concat(i).concat("service-unavailable-error")):h===d.c?c.push("".concat(i).concat("service-not-found")):Object(u.a)(_)&&v&&c.push("".concat(i).concat("critical-error")),h>=d.b&&(this.hasCriticalError=!0),"function"==typeof n&&n(e),this.$emit("error",c)}},preSubmitErrorHandling:function(){this.errors=[],"isLoadingInt"in this&&(this.isLoadingInt=!0)},postSubmitErrorHandling:function(){"isLoadingInt"in this&&(this.isLoadingInt=!1)}}};t.a=p}}]);
//# sourceMappingURL=141.min.8917d174.js.map