(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1129:function(e,t,i){"use strict";i.d(t,"c",(function(){return y})),i.d(t,"a",(function(){return P})),i.d(t,"b",(function(){return k}));var s=i(11),a=i.n(s),r=i(1),n=i.n(r),o=i(35),l=i(116),c=i(7),d=i(57),u=i(183),g=i(50),h=i(118),p=i(31),b=i(100),m=i(1143),f=i(62);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}var _=function(e,t,i){return"percentage"===e?"".concat(t,"%"):Object(l.a)(t,i)},y=Object(c.a)(Object(m.a)(Object(p.a)("integrationId")),u.a,Object(d.a)(Boolean),Object(h.a)("promotions")),P=Object(c.a)(Object(m.a)(Object(p.a)("integrationId")),Object(g.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.integrationId,i=e.labelKey,s=e.formatting,a=e.disclaimerLabelKey;return{integrationId:t,title:o.default.t(i,[s||""]),disclaimer:o.default.t(a)}}))),w=function(e,t){var i=e.integrationId,s=e.promoCurrency,a=e.promoType,r=e.promoValue;return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(i,!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{title:C({labelKey:t.labelKey,promoType:a,promoValue:r,promoCurrency:s}),disclaimer:A({labelKey:t.disclaimerLabelKey,promoType:a,promoValue:r,promoCurrency:s}),integrationId:i,promoCurrency:s,promoType:a,promoValue:r})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e?Object(c.a)(Object(m.a)(Object(p.a)("integrationId")),Object(b.a)((function(e,i){var s=i.placements.filter((function(e){return e.placementName===t})).map((function(e){return w(i,e)}));return e.push.apply(e,a()(s)),e}),(function(){return[]})))(e):[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelKey,i=e.promoType,s=e.promoValue,a=e.promoCurrency,r=[];return s&&r.push(_(i,s,a)),t?o.default.t(t,r):o.default.t("promotion-type-".concat(Object(f.a)(i)),r)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelKey,i=e.promoType,s=e.promoValue,a=e.promoCurrency,r=[];return s&&r.push(_(i,s,a)),o.default.t(t,r)}},1143:function(e,t,i){"use strict";var s=i(5),a=Object(s.a)((function(e,t){for(var i,s,a=new Set,r=[],n=0;n<t.length;)i=e(s=t[n]),a.has(i)||(a.add(i),r.push(s)),n+=1;return r}));t.a=a},1223:function(e,t,i){"use strict";var s=i(1224);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(s.a)("round",e,t)}},1224:function(e,t,i){"use strict";t.a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=Math.pow(10,i);return Math[e](t*s)/s}},1231:function(e,t,i){"use strict";var s=i(2),a=i.n(s),r=i(98),n=i.n(r),o=i(28),l=i(171),c=i(78),d=i(46),u=i(0),g=i(79);t.a={vuex:{getters:{analyticsExchangeRate:g.b,metadata:g.d}},computed:{ecommerceList:function(){return u.q.get(u.Gg)}},methods:{trackImpressions:function(){var e=this;if(this.model.options.length&&!this.isEcommerceTrackingDisabled&&!d.j){var t=this.metadata;this.model.options.forEach((function(i){c.sendEcommerceViewItemListEventWithoutFormatting({id:c.getProductId(n()({},i,{type:"ancillary",metadata:t}),e.type),name:c.getProductName(n()({},i,{flight:e.type,metadata:t})),category:"ancillary",list:e.ecommerceList,price:Object(l.a)(a()(i,"price.amount")*e.analyticsExchangeRate)})})),Object(o.j)("UX","Product impression",this.ecommerceList)}}}}},1239:function(e,t,i){},1240:function(e,t,i){},1241:function(e,t,i){},1242:function(e,t,i){},1243:function(e,t,i){},1244:function(e,t,i){},1245:function(e,t,i){},1246:function(e,t,i){},1297:function(e,t,i){"use strict";i.r(t);var s=i(3),a=i.n(s),r=i(9),n=i.n(r),o=i(2),l=i.n(o),c=i(21),d=i(115),u=i(0),g=i(41),h=i(44),p=i(48),b=i(165),m=i(20),f=i(124),v=i(7),_=i(50),y=i(139),P=i(70),w=i(114),k=i(63),C=i(129),A=i(274),B=i(285),F=i(5),N=i(31),x=Object(F.a)((function(e,t){return l()(t.addServices,e)})),O=Object(N.a)("addServices"),E=x("passengerNumber"),S=(x("shouldTrackUpsell"),i(71)),T=i(136),I=i(56),R=i(122),j=i(112),D=i(30),$=i(231),M=i(10),L=i(34),V=i(74),W=i(133),q=i(113),G=i(230),U=i(47),z=i(38),H=i(1154),K=i(1156),Q=i(107),Y=i(79),J=i(28),X=i(1223),Z=i(193),ee=i(11),te=i.n(ee),ie=i(1),se=i.n(ie),ae=i(33),re=i(118),ne=i(134),oe={props:{passengers:{type:Array,required:!0}},data:function(){return{indexOfPassenger:0}},computed:{selectedPassenger:function(){return this.passengers[this.indexOfPassenger]},passengerIconName:function(){switch(this.selectedPassenger.gender){case"male":return"icon__person--detailed--man";case"female":return"icon__person--detailed--woman";case null:return"icon__person--detailed--unknown";default:return"icon__passengers"}},displayedText:function(){return"all"!==this.selectedPassenger.passengerNumber?this.selectedPassenger.name:this.$t("all-passengers")},isRightPagerDisabled:function(){return this.indexOfPassenger===this.passengers.length-1},isLeftPagerDisabled:function(){return 0===this.indexOfPassenger}},methods:{handleRightPagerClick:function(){this.indexOfPassenger<this.passengers.length-1&&(this.indexOfPassenger+=1,this.emitSelectPassenger())},handleLeftPagerClick:function(){this.indexOfPassenger>0&&(this.indexOfPassenger-=1,this.emitSelectPassenger())},emitSelectPassenger:function(){this.$emit("select-passenger",{passengerNumber:this.selectedPassenger.passengerNumber})}}},le=(i(1479),i(25));function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function de(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(i,!0).forEach((function(t){se()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ue={components:{CopyDataCarousel:Object(le.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"copy-data-carousel"},[i("div",{staticClass:"copy-data-carousel__arrow-left",class:{"copy-data-carousel__arrow-left--disabled":e.isLeftPagerDisabled},on:{click:e.handleLeftPagerClick}}),e._v(" "),i("div",{staticClass:"copy-data-carousel__content"},[i("div",{staticClass:"circled-avatar"},[i("i",{staticClass:"icon",class:e.passengerIconName})]),e._v(" "),i("p",[e._v(e._s(e.displayedText))])]),e._v(" "),i("div",{staticClass:"copy-data-carousel__arrow-right",class:{"copy-data-carousel__arrow-right--disabled":e.isRightPagerDisabled},on:{click:e.handleRightPagerClick}})])}),[],!1,null,null,null).exports},mixins:[Object(A.a)({bookingFlow_passengers_showAddTheSameToAllPassengersModal:"show"}),B.a],props:{canQueryBundleUpsellInfo:{type:Boolean,default:!1}},vuex:{getters:{passengers:V.j,isAddServicesFlow:D.isAddServicesFlow,passengerAncillaries:I.N,passengersWithDisabledSameCheckbox:D.passengersWithDisabledSameCheckbox},actions:{handleAncillaries:S.h,fetchBundleUpsell:G.a,_setSameForBothFlightsChecked:q.K,copyPassengerAncillariesToAllPassengers:S.d}},data:function(){return{isVisible:!1,sourcePassengerNumber:0,destinationPassengerNumber:"all",onConfirm:function(){}}},computed:{sourcePassengers:function(){var e=this;return this.passengers.filter(h.x).map((function(t){var i=e.passengerAncillaries.find(Object(m.a)("passengerNumber",t.passengerNumber)),s=Object(h.i)(t),a="(".concat(t.passengerType," ").concat(t.passengerNumber+1,")");return de({name:s||a},i)}))},to:function(){var e=this,t=this.sourcePassengers.filter((function(t){return t.passengerNumber!==e.sourcePassengerNumber}));return[{passengerNumber:"all"}].concat(te()(t))}},methods:{updateSourcePassengerNumber:function(e){this.sourcePassengerNumber=e.passengerNumber},updateDestinationPassengerNumber:function(e){this.destinationPassengerNumber=e.passengerNumber},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passengerNumber,i=e.onConfirm;this.sourcePassengerNumber=t,this.onConfirm=i||function(){},this.isVisible=!0},hide:function(){this.isVisible=!1},copy:function(){var e,t,i,s,r,o,l,d,u,g=this;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(this.onConfirm(),e=this.sourcePassengers.find(Object(m.a)("passengerNumber",this.sourcePassengerNumber)),t="all"===this.destinationPassengerNumber?Object(ne.a)(Object(m.a)("passengerNumber",this.sourcePassengerNumber),this.sourcePassengers):this.sourcePassengers.filter(Object(m.a)("passengerNumber",this.destinationPassengerNumber)),this.copyPassengerAncillariesToAllPassengers({sourcePassengerNumber:e.passengerNumber,targetPassengerNumbers:Object(v.a)(Object(re.a)("passengerNumber"))(t)}),i=null,t.forEach((function(t){g.setSameForBothFlights(t.passengerNumber);var s,a=g.getFlightPayload(e.outboundFlight),r=t.returnFlight;r&&(s=g.getFlightPayload(e.returnFlight));var n=de({passengerNumber:t.passengerNumber,outboundFlight:a},r?{returnFlight:s}:{});i=g.handleAncillaries(n)})),!i){h.next=22;break}return h.next=9,a.a.awrap(Object(c.b)(i));case 9:if(s=h.sent,r=n()(s,1),!(o=r[0])){h.next=14;break}return h.abrupt("return",this.onError(o));case 14:if(!this.canQueryBundleUpsellInfo){h.next=22;break}return h.next=17,a.a.awrap(Object(c.b)(this.fetchBundleUpsell()));case 17:if(l=h.sent,d=n()(l,1),!(u=d[0])){h.next=22;break}return h.abrupt("return",this.onError(u));case 22:this.sendAnalyticsEvent(),this.hide();case 24:case"end":return h.stop()}}),null,this)},sendAnalyticsEvent:function(){var e="all"===this.destinationPassengerNumber?"All passengers":"1 passenger";Object(J.j)("Copy choices to other passengers","Copy",e)},setSameForBothFlights:function(e){var t={areSameSettingsCheckedForReturnFlight:!this.passengersWithDisabledSameCheckbox.includes(this.sourcePassengerNumber),passengerNumber:e};this._setSameForBothFlightsChecked(t)},getFlightPayload:function(e){var t=e.priorityBoarding.selected,i=e.baggage.selected,s=e.sportsEquipment.selected;return de({},!e.priorityBoarding.grantedDueInfant&&Object(ae.a)(t)&&{priorityBoarding:t},{},Object(ae.a)(i)&&{baggage:i},{sportsEquipment:s})}}},ge=(i(1480),Object(le.a)(ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("modal-new",{attrs:{"data-test":"copy-data",title:e.$t("copy-choices")},on:{close:e.hide}},[i("form",{staticClass:"copy-passenger-data",attrs:{slot:"body",name:"copy-passenger-data"},on:{submit:function(t){return t.preventDefault(),e.copy(t)}},slot:"body"},[i("h3",{staticClass:"copy-passenger-data__title heading heading--4"},[e._v(" "+e._s(e.$t("copy-choices-description"))+" ")]),e._v(" "),i("div",{staticClass:"copy-data-from"},[i("strong",{staticClass:"title title--3"},[e._v(e._s(e.$t("from-passenger")))]),i("br"),e._v(" "),i("copy-data-carousel",{attrs:{passengers:e.sourcePassengers},on:{"select-passenger":e.updateSourcePassengerNumber}})],1),e._v(" "),i("div",{staticClass:"rf-input__arrowed-separator horizontal copy-data__arrowed-separator"}),e._v(" "),i("div",{staticClass:"copy-data-to"},[i("strong",{staticClass:"title title--3"},[e._v(e._s(e.$t("to-passenger")))]),i("br"),e._v(" "),i("copy-data-carousel",{attrs:{passengers:e.to},on:{"select-passenger":e.updateDestinationPassengerNumber}})],1),e._v(" "),i("div",{staticClass:"two-btns"},[i("button",{staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{type:"submit"}},[e._v(" "+e._s(e.$t("copy"))+" ")]),e._v(" "),i("button",{staticClass:"rf-button rf-button--medium rf-button--secondary",attrs:{type:"button"},on:{click:e.hide}},[e._v(" "+e._s(e.$t("cancel"))+" ")])])])]):e._e()}),[],!1,null,null,null).exports),he=i(14),pe=i.n(he),be=i(1129),me=i(18),fe=i(12),ve=i(81),_e=i(26),ye=i(67),Pe=i(78),we=i(605),ke=i(131),Ce=i(171),Ae=i(275),Be=i(52),Fe=i(293),Ne=i(205),xe=i(364),Oe=i(97),Ee=i(43),Se=i(68),Te=i(1401),Ie=i(39),Re=i(1231),je=i(76),De=i(75),$e=function(){return Promise.all([i.e(0),i.e(79),i.e(102)]).then(i.bind(null,1993))},Me=function(){return Promise.all([i.e(0),i.e(79),i.e(103)]).then(i.bind(null,1927))},Le=function(){return Promise.all([i.e(0),i.e(104)]).then(i.bind(null,1945))},Ve=function(){return i.e(105).then(i.bind(null,2012))},We={components:{CheckedInBaggage:$e,PriorityBoarding:Ve,CheckedInBaggageNew:Me,NewPriorityBoarding:Le},props:{passengerNumber:{type:Number,required:!0},isAfterPassengers:{type:Boolean,default:!1},passenger:{type:Object,required:!0},flight:{type:Object,required:!0},isEpie:{type:Boolean,default:!1},departureStation:{type:String,default:""},arrivalStation:{type:String,default:""},type:{type:String,default:""},bundle:{type:String,default:""},isRoundTrip:{type:Boolean,required:!0},isOutboundTabVisible:{type:Boolean,required:!0},isEcommerceTrackingDisabled:{type:Boolean,default:!1},isAddServicesFlow:{type:Boolean,required:!0},isPriorityBoardingVisible:{type:Boolean,required:!0},isCopyToReturnFlight:{type:Boolean,default:!1},numberOfIndependentPassengers:{type:Number,required:!0},areSameSettingsForReturnFlight:{type:Boolean,default:!1},checkedInBagPricesByDirection:{type:Object,default:function(){return{}}},priorityBoardingPricesByDirection:{type:Object,default:function(){return{}}},areSameSettingsCheckedForReturnFlight:{type:Boolean,default:!1}},vuex:{getters:{analyticsProductMap:Y.e,isFlightChangeFlow:D.isFlightChangeFlow,booking:D.booking,currencyCode:De.departureCurrencyCode,search:Oe.search,isPassengerInnerContentWithCheckbox:Z.m,isPassengerInnerContentWithoutCheckbox:Z.n,isPassengerInnerContentEnabled:Z.l}},computed:{flightClasses:function(){return"\n        booking-flow__passengers__contents\n        booking-flow__passengers__contents--".concat(this.type,"\n        ie-flex__booking-flow__passengers__contents\n      ")},routeHeaderClasses:function(){return"\n        booking-flow__passengers__route-header__route\n        booking-flow__passengers__route-header__route--".concat(this.type,"\n        heading heading--3\n      ")},directionIndex:function(){return g.b(this.type)},bundleAncillaries:function(){var e=this;if(this.isAddServicesFlow)return l()(this,"booking.flights.".concat(this.type,".bundle.ancillaryServices"))||[];var t=l()(this,"search.".concat(this.type,".bundles")).find((function(t){return t.code===e.bundle}));return t?t.ancillaryServices:[]},checkedInBaggageComponent:function(){return this.isPassengerInnerContentEnabled?Me:$e},priorityBoardingComponent:function(){return this.isPassengerInnerContentEnabled?Le:Ve},checkedInBaggageClasses:function(){return{"booking-flow__passengers__content-columns":!this.isRoundTrip||!this.isOutboundTabVisible&&this.isFlightChangeFlow}},cabinBaggageClasses:function(){return{"booking-flow__passengers__content-columns":!this.isRoundTrip||!this.isOutboundTabVisible&&this.isFlightChangeFlow,"booking-flow__passengers__content-columns--bottom":this.isAddServicesFlow&&(!this.isRoundTrip||!this.isOutboundTabVisible&&this.isFlightChangeFlow)}}},methods:{validate:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(Promise.all([this.$refs.priorityBoarding?this.$refs.priorityBoarding.validate():Promise.resolve(!0),this.$refs.checkedInBaggage?this.$refs.checkedInBaggage.validate():Promise.resolve(!0)]));case 2:return e=t.sent,t.abrupt("return",e.every(Boolean));case 4:case"end":return t.stop()}}),null,this)},setHover:function(e){this.$emit("update:is-hovered",e)},isLocalizationAvailable:je.f}},qe=Object(le.a)(We,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.flightClasses,attrs:{id:"passenger-baggages-"+e.type+"-"+e.passengerNumber},on:{mouseover:function(t){return e.setHover(!0)},mouseout:function(t){return e.setHover(!1)}}},[i("div",{staticClass:"booking-flow__passengers__route-header"},[i("h3",{class:e.routeHeaderClasses},["outbound"===e.type?i("i",{staticClass:"booking-flow__passengers__route-header__airplane-icon icon icon__airplane--toright"}):i("i",{staticClass:"booking-flow__passengers__route-header__airplane-icon icon icon__airplane--toleft"}),e._v(" "+e._s(e._f("resource")(e.departureStation,"shortName"))+" "),i("i",{staticClass:"booking-flow__passengers__route-header__arrow icon icon__arrow--big--toright--blue"}),e._v(" "+e._s(e._f("resource")(e.arrivalStation,"shortName"))+" ")])]),e._v(" "),i("div",{class:e.checkedInBaggageClasses},[i(e.checkedInBaggageComponent,{ref:"checkedInBaggage",tag:"component",attrs:{"is-after-passengers":e.isAfterPassengers,type:e.type,bundle:e.bundle,"is-epie":e.isEpie,"passenger-number":e.passengerNumber,model:e.flight.baggage,"is-add-services-flow":e.isAddServicesFlow,"is-ecommerce-tracking-disabled":e.isEcommerceTrackingDisabled,flight:e.flight,"is-copy-to-return-flight":e.isCopyToReturnFlight,"are-same-settings-for-return-flight":e.areSameSettingsForReturnFlight,"checked-in-bag-prices-by-direction":e.checkedInBagPricesByDirection,"is-passenger-inner-content-with-checkbox":e.isPassengerInnerContentWithCheckbox,"is-passenger-inner-content-without-checkbox":e.isPassengerInnerContentWithoutCheckbox},on:{"interactive-change":function(t){return e.$emit("interactive-change")},select:function(t){return e.$emit("select-baggage",t)},"select-sports-equipment":function(t){return e.$emit("select-sports-equipment",t)}}})],1),e._v(" "),i("div",{class:e.cabinBaggageClasses},[e.isPriorityBoardingVisible?i(e.priorityBoardingComponent,{ref:"priorityBoarding",tag:"component",attrs:{type:e.type,model:e.flight.priorityBoarding,"is-add-services-flow":e.isAddServicesFlow,"is-ecommerce-tracking-disabled":e.isEcommerceTrackingDisabled,passenger:e.passenger,"is-copy-to-return-flight":e.isCopyToReturnFlight,"is-epie":e.isEpie,"are-same-settings-for-return-flight":e.areSameSettingsForReturnFlight,"priority-boarding-prices-by-direction":e.priorityBoardingPricesByDirection,"number-of-independent-passengers":e.numberOfIndependentPassengers},on:{"interactive-change":function(t){return e.$emit("interactive-change")},select:function(t){return e.$emit("select-priority-boarding",t)}}}):e._e()],1)])}),[],!1,null,null,null).exports;function Ge(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ge(i,!0).forEach((function(t){se()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ge(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ze={components:{BaggageFeeCalculatorPromo:function(){return i.e(84).then(i.bind(null,1684))},Flight:qe,PikaSingleDay:function(){return Promise.all([i.e(0),i.e(224)]).then(i.bind(null,379))},SameForBothFlights:function(){return i.e(107).then(i.bind(null,1956))},PromoBar:function(){return Promise.all([i.e(0),i.e(226)]).then(i.bind(null,2013))},PassengerSummary:function(){return i.e(106).then(i.bind(null,1967))}},filters:{nullToChoose:function(e){return Object.is(e,null)?"please-select":e}},mixins:[Te.a,we.a,Re.a,B.a,Object(A.a)({bookingFlow_passengers_startPassengerLoading:"handleStartPassengerLoading",bookingFlow_passengers_stopPassengerLoading:"handleStopPassengerLoading",bookingFlow_passengers_childValidityChange:"handleChildValidityChange",bookingFlow_passengers_setDefaultProperties:"setDefaultProperties"})],$_veeValidate:{validator:"new"},vuex:{getters:{isPriorityBoardingServiceAddedOnEitherFlight:I.x,passengersWithDisabledSameCheckbox:D.passengersWithDisabledSameCheckbox,analyticsExchangeRate:Y.b,isInFareLockFinalizeFlow:D.isFareLockFinalizeFlow,normalBookingFlights:D.flights,passengerAncillaries:I.N,outboundFareBundle:D.outboundBundle,returnFareBundle:D.returnBundle,isFlightChangeFlow:D.isFlightChangeFlow,isNewWdcBooking:D.isWdcBooking,isItineraryWdcBooking:L.isWdcBooking,itineraryFlights:L.flights,itineraryBooking:L.booking,isNewBookingFlow:D.isNewBookingFlow,addServices:O,passengers:V.j,itinerary:L.itinerary,search:Oe.search,fares:D.fares,user:z.user,searchWdcBenefits:Oe.wdcBenefits,amountDue:U.amountDue,isInFareLockFlow:U.isFareLockAdded,outboundPassengerTopBlueRibbons:xe.o,returnPassengerTopBlueRibbons:xe.u,hasOutboundPassengerTopBlueRibbons:xe.g,hasReturnPassengerTopBlueRibbons:xe.k,outboundServicesItemRibbon:xe.q,returnServicesItemRibbon:xe.w,hasDiscountedOutboundService:xe.c,hasDiscountedReturnService:xe.d,hasDiscountedServiceOnAnyFlight:xe.e,metadata:Y.d,groupBookingOutboundCheckedInBagPrice:U.groupBookingOutboundCheckedInBagPrice,groupBookingReturnCheckedInBagPrice:U.groupBookingReturnCheckedInBagPrice,groupBookingOutboundPriorityBoardingPrice:U.groupBookingOutboundPriorityBoardingPrice,groupBookingReturnPriorityBoardingPrice:U.groupBookingReturnPriorityBoardingPrice,isPassengerInnerContentEnabled:Z.l,canQueryPostBookingUpsell:L.canQueryPostBookingUpsell},actions:{setPriorityBoardingAddSource:S.u,setSameForBothFlightsChecked:q.K,ancillariesHandleAncillaries:S.h,fetchBundleUpsell:G.a,addPromotionToTrack:Ne.a,updatePassenger:W.g,fetchAndTrackLabel09Feature:Fe.p,fetchPostBookingBundleUpsell:G.b}},props:{isNewItinerary:{type:Boolean,default:!1},passenger:{type:Object,required:!0},passengersWithAncillaries:{type:Array,default:function(){return[]}},isParentLoading:{type:Boolean,default:!1},currentStep:{type:String,default:u.Fg},isAfterPassengers:{type:Boolean,default:!1},isEcommerceTrackingDisabled:{type:Boolean,default:!1},isGroupBooking:{type:Boolean,default:!1},isAddServicesFlow:{type:Boolean,default:!1},isCheckInFlow:{type:Boolean,default:!1},isRoundTrip:{type:Boolean,default:!1},isDuplicate:{type:Boolean,default:!1},canQueryBundleUpsellInfo:{type:Boolean,default:!1},type:{type:String,default:""},numberOfIndependentPassengers:{type:Number,required:!0},hasOutboundLeg:{type:Boolean,required:!0},index:{type:Number,default:0},isPassengersAccordionEnabled:{type:Boolean,default:!1},isRecommendationAccepted:{type:Boolean,default:!1}},data:function(){return{GENDER_FEMALE:u.td,GENDER_MALE:u.ud,genders:[u.td,u.ud],isBaggageHovered:!1,isCopyToReturnFlight:!0,isCopyEnabledToBaggagesReturnFlight:!0,ancillariesHandleAncillariesPromise:Promise.resolve(),validators:{passenger:!1,checkedInBaggage:!1,priorityBoarding:!1},isPassengerFullyValid:!1,activeInputField:null,activeInputFieldValue:null,currentTabInt:null,isLoading:!1,isTravelPartnerTooltipForced:!1,isTravelPartnerGenderDisabled:!1,isExpandErrorVisible:!1,travelPartnerTooltipOptions:Object(Ie.p)()?{attachment:"top center",targetAttachment:"bottom center"}:window.isRtl?{attachment:"middle left",targetAttachment:"middle right",offset:"0 0",targetOffset:"0 10px"}:{attachment:"middle right",targetAttachment:"middle left",offset:"0 30px",targetOffset:"0 20px"}}},computed:Ue({},Object(Ae.a)(["firstName","lastName","gender","dateOfBirth"]),{isSpecialCharactersErrorVisible:function(){return!this.isGroupBooking&&(!this.veeFirstName.required&&this.veeFirstName.passengerName||!this.veeLastName.required&&this.veeLastName.passengerName)},checkedInBagPricesByDirection:function(){var e={},t={};if(!this.areSameSettingsForReturnFlight)return null;if(this.selectedCheckedInBagType(u.rc)&&this.selectedCheckedInBagType(u.sc)){var i=this.isGroupBooking&&!this.isAddServicesFlow?this.groupBookingOutboundCheckedInBagPrice||{}:this.selectedOutboundCheckedInBagOption,s=this.isGroupBooking&&!this.isAddServicesFlow?this.groupBookingReturnCheckedInBagPrice||{}:this.selectedReturnCheckedInBagOption;e.price=i.price,e.promotedPrice=i.promotedPrice,t.price=s.price,t.promotedPrice=s.promotedPrice}return{outbound:e,return:t}},selectedOutboundCheckedInBagOption:function(){return(l()(this.passengerAncillary,"outboundFlight.baggage.options")||[]).find(Object(m.a)("option",this.selectedCheckedInBagType(u.rc)))||{}},selectedReturnCheckedInBagOption:function(){return(l()(this.passengerAncillary,"returnFlight.baggage.options")||[]).find(Object(m.a)("option",this.selectedCheckedInBagType(u.sc)))||{}},selectedOutboundPriorityOption:function(){return Object(_e.a)([],"outboundFlight.priorityBoarding.options",this.passengerAncillary)[0]},selectedReturnPriorityOption:function(){return Object(_e.a)([],"returnFlight.priorityBoarding.options",this.passengerAncillary)[0]},priorityBoardingPricesByDirection:function(){var e={},t={};if(!this.areSameSettingsForReturnFlight)return{};var i=this.isGroupBooking&&!this.isAddServicesFlow?this.groupBookingOutboundPriorityBoardingPrice||{}:this.selectedOutboundPriorityOption,s=this.isGroupBooking&&!this.isAddServicesFlow?this.groupBookingReturnPriorityBoardingPrice||{}:this.selectedReturnPriorityOption;return i&&s&&(e.price=i.price,e.promotedPrice=i.promotedPrice,e.displayPrice=Object(fe.a)(i.promotedPrice)&&i.promotedPrice.amount<i.price.amount?i.promotedPrice:i.price,t.price=s.price,t.promotedPrice=s.promotedPrice,t.displayPrice=Object(fe.a)(s.promotedPrice)&&s.promotedPrice.amount<s.price.amount?s.promotedPrice:s.price),{outbound:e,return:t}},outboundBundle:function(){return this.isAddServicesFlow?l()(this.itineraryBooking,"outboundFlight.bundle.code"):this.outboundFareBundle},returnBundle:function(){return this.isAddServicesFlow?l()(this.itineraryBooking,"returnFlight.bundle.code"):this.returnFareBundle},outboundEpie:function(){return Boolean(this.flights.outbound.ePie)},returnEpie:function(){return Boolean(this.flights.return.ePie)},flights:function(){return this.isAddServicesFlow?this.itineraryFlights:this.normalBookingFlights},hasPassengerAncillary:function(){return Boolean(this.passengerAncillary)},passengerAncillary:function(){return this.passengerAncillaries.find(Object(m.a)("passengerNumber",this.passengerNumber))},outboundDataTabId:function(){return"passenger-baggages-outbound-".concat(this.uid)},returnDataTabId:function(){return"passenger-baggages-return-".concat(this.uid)},isValid:function(){return Object(me.a)(this.validatorErrors.all())},contentsContainerClass:function(){return{"booking-flow__passengers__contents-container--with-return":this.isRoundTrip||this.isReturnTabVisible&&this.isFlightChangeFlow,"booking-flow__passengers__contents-container--hovered":this.isBaggageHovered}},travelPartnerClass:function(){return{"booking-flow__passengers__travel-partner-container__wrapper--active":this.isTravelPartner,"booking-flow__passengers__travel-partner-container__wrapper--with-margin":this.areSameSettingsForReturnFtlight&&!this.promotionTopRibbonActive}},wrapperClass:function(){return{"loader loader--active":this.isLoading||this.isParentLoading,"booking-flow__passengers--adult":this.isAdult}},nameInputFieldWrapperClass:function(){return["booking-flow__passengers__header__name","ie-flex__booking-passengers-header","ie-table-cell",{child:this.isChild}]},dataTest:function(){return this.isInfant?"".concat("booking-flow-passenger-type","-infant-").concat(this.index):this.isChild?"".concat("booking-flow-passenger-type","-children-").concat(this.index):"".concat("booking-flow-passenger-type","-adult-").concat(this.index)},isPriorityBoardingVisible:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary["".concat(this.tabType,"Flight")].priorityBoarding;return!(e.accessibility===u.a&&e.accessibilityReason!==u.h)&&(this.isNewItinerary||!this.isAddServicesFlow||!this.isPriorityBoardingServiceAddedOnEitherFlight)},uid:function(){return this.passengerNumber},passengerNumber:function(){return this.passenger.passengerNumber},passengerAdultNumber:function(){return this.passenger.passengerAdultNumber},isAdult:function(){return Object(h.q)(this.passenger)},isChild:function(){return Object(h.r)(this.passenger)},travelPartnerFee:function(){return this.search.outbound.fees.travelPartner},travelPartnerFormattedPrice:function(){return Object(ke.a)(this.travelPartnerFee.amount,this.travelPartnerFee.currencyCode)},isFirstPassenger:function(){return 0===this.passengerNumber},hasUserWDC:function(){return this.user.wdc},isWDCPriceSelected:function(){return this.search.wdc},isWdcBooking:function(){return this.isNewWdcBooking||this.isItineraryWdcBooking},wdcBenefits:function(){return this.isAddServicesFlow?this.addServices.wdcBenefits:this.searchWdcBenefits},shouldSetDefaultProperties:function(){if(!this.isInFareLockFlow)return!1;var e=this.hasUserWDC&&!this.isWDCPriceSelected,t=!this.hasUserWDC||e;return this.isFirstPassenger&&t||!this.isFirstPassenger},arePassengerDetailsVisible:function(){return this.isInFareLockFlow&&!this.hasGeneratedName&&this.hasUserWDC&&this.isFirstPassenger},isPrivilegePassAddVisible:function(){return!this.passenger.privilegePassActivated&&!this.isInFareLockFlow&&!this.isNameEmpty&&this.passenger.gender&&!this.passenger.hasAppliedPrivilegePass},isPriviligePassLinkVisible:function(){return!this.isInFareLockFlow&&(this.isAddServicesFlow?this.isAdult:!this.isGroupBooking&&this.isAdult&&!this.isTravelPartner)},isReducedMobilityLinkVisible:function(){return!this.isGroupBooking&&!this.isTravelPartner},isPrivilegePassRemoveVisible:function(){return!this.isFlightChangeFlow&&this.passenger.privilegePassActivated&&!this.passenger.hasAppliedPrivilegePass&&!this.isGroupBooking},personIcon:function(){return Object(h.d)(this.passenger)},currentTab:function(){return this.isFlightChangeFlow&&null===this.flights.outbound.arrivalDateTime?this.returnDataTabId:this.isNewItinerary?g.k(this.itineraryFlights.outbound)&&this.isRoundTrip?this.returnDataTabId:this.outboundDataTabId:this.isAddServicesFlow&&(this.addServices.isReturnFlight||this.itinerary.currentType===u.Of)?this.returnDataTabId:this.outboundDataTabId},tabType:function(){return this.currentTabInt.includes(u.if)?u.if:u.Of},isNameVisible:function(){return!this.isGroupBooking||this.isFlightChangeFlow},isFemale:function(){return Object(h.t)(this.passenger)},isMale:function(){return Object(h.w)(this.passenger)},isNameEmpty:function(){return!Object(h.i)(this.passenger)},isReducedMobility:function(){return Object(h.y)(this.passenger)},isReducedMobilityAssistant:function(){return Object(h.z)(this.passengers,this.passenger)},isIAmTravellingCheckboxAvailable:function(){if(this.isGroupBooking)return!1;var e=this.isFlightChangeFlow,t=this.isAddServicesFlow,i=this.user.isLoggedIn,s=l()(this,"user.profile.customerType")===u.kc.AGENCY;return this.isFirstPassenger&&i&&!t&&!e&&!s},isIAmTravellingCheckboxDisabled:function(){return this.isIAmTravellingCheckboxAvailable&&this.isWdcBooking},isBottomBarVisible:function(){return!this.isGroupBooking&&!this.isAddServicesFlow&&this.passengers.length>1||this.isPassengersAccordionEnabled},isGenderSelectionDisabled:function(){return this.isIAmTravellingCheckboxDisabled||this.isChild&&!Object(h.s)()||this.isAddServicesFlow||Boolean(this.isFlightChangeFlow)},isNameChangeDisabled:function(){return!!this.isFlightChangeFlow||(this.isAddServicesFlow||this.isIAmTravellingCheckboxDisabled)},isContinueButtonVisible:function(){return!!this.isPassengersAccordionEnabled||Object(fe.a)(this.passengers)&&this.passengerNumber<this.passengers.length-1},isOutboundTabVisible:function(){var e=l()(this,"search.outbound.flights.length");return(!this.isFlightChangeFlow||0!==e)&&(!this.isAddServicesFlow||!g.k(this.itinerary.booking.outboundFlight))},isReturnTabVisible:function(){var e=l()(this,"search.return.flights.length");return(!this.isFlightChangeFlow||0!==e)&&(!this.isAddServicesFlow&&this.isRoundTrip||this.isAddServicesFlow&&!g.k(this.itinerary.booking.returnFlight))},minDateOfBirth:function(){var e=this.flights.outbound.departureDateTime,t=this.isRoundTrip?this.flights.return.departureDateTime:null;if(this.isAddServicesFlow||this.isFlightChangeFlow)return null;var i=Object(h.h)(this.passenger.passengerType,e,t);return pe()(i).isAfter(this.passenger.dateOfBirth,"days")?this.passenger.dateOfBirth:i},maxDateOfBirth:function(){var e=this.flights.outbound.departureDateTime;return this.isAddServicesFlow||this.isFlightChangeFlow?null:Object(h.f)(this.passenger.passengerType,e)},isPassengerNameValidForPrivilegePass:function(){return this.isAddServicesFlow||this.passenger.privilegePassActivated&&this.passenger.privilegePassActivatedFor&&this.passenger.gender===this.passenger.privilegePassActivatedFor.gender&&this.passenger.firstName===this.passenger.privilegePassActivatedFor.firstName&&this.passenger.lastName===this.passenger.privilegePassActivatedFor.lastName},isTravelPartner:function(){return this.passenger.isTravelPartner},areSameSettingsCheckedForReturnFlight:function(){return!this.passengersWithDisabledSameCheckbox.includes(this.passengerNumber)},areSameSettingsForReturnFlight:function(){return this.isRoundTrip&&this.areSameSettingsCheckedForReturnFlight},isSameBundleSelectedForBothFlights:function(){return this.fares.outbound.bundle===this.fares.return.bundle},hasSameBaggageOptionsForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.baggage,a=i.baggage;return s.options.length===a.options.length},hasSameBaggageAvailabilityForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.baggage,a=i.baggage;return s.accessibility===a.accessibility},hasSameSportsEquipmentOptionsForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.sportsEquipment,a=i.sportsEquipment;return s.options.length===a.options.length},hasSameSportsEquipmentAvailabilityForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.sportsEquipment,a=i.sportsEquipment;return s.accessibility===a.accessibility},hasSamePriorityBoardingOptionsForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.priorityBoarding,a=i.priorityBoarding;return s.options.length===a.options.length},hasSamePriorityBoardingAvailabilityForBothFlights:function(){if(!this.hasPassengerAncillary)return!1;var e=this.passengerAncillary,t=e.outboundFlight,i=e.returnFlight;if(!i)return!1;var s=t.priorityBoarding,a=i.priorityBoarding;return s.accessibility===a.accessibility},areSameOptionsAvailableForBothFlights:function(){return!!this.isSameBundleSelectedForBothFlights&&(this.hasSameBaggageOptionsForBothFlights&&this.hasSameBaggageAvailabilityForBothFlights&&this.hasSameSportsEquipmentOptionsForBothFlights&&this.hasSameSportsEquipmentAvailabilityForBothFlights&&this.hasSamePriorityBoardingOptionsForBothFlights&&this.hasSamePriorityBoardingAvailabilityForBothFlights)},iAmTravellingInt:{get:function(){return this.passenger.iamTravelling},set:function(e){e?this.passenger.iamTravelling=e:this.removePrivilegePassAndClearFields()}},promotionTopRibbonActive:function(){return this.isPriorityBoardingDiscounted?!this.travelingWithInfant&&this.isPrivilegePassActiveWithAnyDiscount&&this.promotionTopRibbonActiveByFlights:this.isPrivilegePassActiveWithAnyDiscount&&this.promotionTopRibbonActiveByFlights},travelingWithInfant:function(){return Boolean(this.passengers.find(Object(m.a)("passengerAdultNumber",this.passengerNumber)))},isPriorityBoardingDiscounted:function(){var e=l()(this.passengerAncillary["".concat(this.tabType,"Flight")],"priorityBoarding.options[0].promotedPrice");return Object(ae.a)(e)},isPrivilegePassActiveWithAnyDiscount:function(){return!(this.isPassengerNameValidForPrivilegePass&&this.hasDiscountedServiceOnAnyFlight)},promotionTopRibbonActiveByFlights:function(){return this.tabType===u.if?this.hasOutboundPassengerTopBlueRibbons:this.hasReturnPassengerTopBlueRibbons},promotionTopRibbons:function(){var e=this.tabType===u.if?this.outboundPassengerTopBlueRibbons:this.returnPassengerTopBlueRibbons;return Object(be.a)(e)},isFirstNameInvalid:function(){return this.validatorErrors.has("firstName")},isLastnameInvalid:function(){return this.validatorErrors.has("lastName")},isFirstAndLastnameInvalid:function(){return this.isFirstNameInvalid&&this.isLastnameInvalid},isFirstOrLastnameInvalid:function(){return this.isFirstNameInvalid||this.isLastnameInvalid},isTravelPartnerTooltipVisible:function(){return this.isTravelPartnerTooltipForced&&this.isFirstNameInvalid&&this.isLastnameInvalid},togglePanelExpand:{get:function(){return this.passenger.isPanelExpanded},set:function(e){this.updatePassenger({isInfant:!1,passenger:{passengerNumber:this.passengerNumber,isPanelExpanded:e}})}},isPanelSummaryVisible:{get:function(){return this.passenger.isPanelSummaryVisible},set:function(e){this.updatePassenger({isInfant:!1,passenger:{isPanelSummaryVisible:e}})}},submitButtonText:function(){return this.isLastIndependentPassenger||!this.isPassengersAccordionEnabled?this.$t("btn-ok"):this.$t("btn-next")},passengerAncillariesWithLabels:function(){var e=this.passengersWithAncillaries[this.passenger.passengerNumber];return e?e.ancillary:null},outboundDepartureStation:function(){return Object(Be.m)(this.flights.outbound.departureStation)},returnDepartureStation:function(){return Object(Be.m)(this.flights.return.departureStation)},isLastIndependentPassenger:function(){return this.numberOfIndependentPassengers===this.uid+1},canFetchPostBookingUpsell:function(){return this.isAddServicesFlow&&!this.isCheckInFlow&&this.canQueryPostBookingUpsell}}),watch:{isValid:{handler:"onPassengerValidityChange",immediate:!0},currentTab:function(e){this.currentTabInt=e},"passenger.isTravelPartner":function(e){var t=this;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(this.handleAncillaries({isTravelPartner:e}));case 2:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell(),e?(this.setDefaultProperties(),this.resetValidationOnNextTick(),this.$validator.reset(),this.$nextTick((function(){t.isTravelPartnerGenderDisabled=!0})),this.passenger.privilegePassActivated&&this.removePrivilegePass(),this.passenger.reducedMobility=Object(h.D)()):(this.clearNameAndGender(),this.resetValidationOnNextTick(),this.isTravelPartnerGenderDisabled=!1),Object(p.b)("bookingFlow_passengers_unnamedTravelPartnerChange",{isTravelPartner:e});case 5:case"end":return i.stop()}}),null,this)},"passenger.iamTravelling":function(e){var t=this;this.isAddServicesFlow||this.isFlightChangeFlow||this.$nextTick((function(){e&&t.restoreUser()}))},"passenger.dateOfBirth":{handler:function(){this.isChild&&(Object(h.s)()||null===this.passenger.gender||(this.passenger.gender=null))},immediate:!0},areSameSettingsCheckedForReturnFlight:function(e){this.hasSamePriorityBoardingAvailabilityForBothFlights&&!this.areSameSettingsCheckedForReturnFlight&&(this.isCopyEnabledToBaggagesReturnFlight=!1),this.isCopyToReturnFlight=e},areSameOptionsAvailableForBothFlights:{handler:function(e){var t={areSameSettingsCheckedForReturnFlight:e,passengerNumber:this.passengerNumber};this.setSameForBothFlightsChecked(t)},immediate:!0},validators:{deep:!0,handler:function(e){var t=Object.entries(e);this.isPassengerFullyValid=t.every((function(e){return!0===e[1]}))},immediate:!0}},created:function(){this.currentTabInt=this.currentTab},mounted:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fetchAndTrackLabel09Feature(),this.shouldSetDefaultProperties&&(this.setDefaultProperties(),this.resetValidationOnNextTick()),this.isInFareLockFinalizeFlow&&this.hasGeneratedName&&this.clearNameAndGender(),Object(p.b)("bookingFlow_passengers_unnamedTravelPartnerChange",{isTravelPartner:this.passenger.isTravelPartner}),this.isNewBookingFlow&&this.passenger.canBeTravelPartner&&this.trackFlexibleTravelPartnerImpression(),[].concat(te()(this.hasOutboundPassengerTopBlueRibbons?this.outboundPassengerTopBlueRibbons:[]),te()(this.hasReturnPassengerTopBlueRibbons?this.returnPassengerTopBlueRibbons:[])).map(Object(N.a)("integrationId")).forEach(this.addPromotionToTrack),e.next=8,a.a.awrap(Object(C.a)());case 8:this.$validator.validateAll();case 9:case"end":return e.stop()}}),null,this)},methods:{disableCopy:function(){this.isCopyToReturnFlight=!1},selectedCheckedInBagType:function(e){return l()(this.passengerAncillary,"".concat(e,"Flight.baggage.selected"))},handleReturnFlightInteractiveChange:function(){this.disableCopy()},selectOutboundTab:function(){this.currentTabInt=this.outboundDataTabId},selectReturnTab:function(){this.currentTabInt=this.returnDataTabId},updateCurrentTabInt:function(e){this.currentTabInt=e},updateBaggageHovered:function(e){this.isBaggageHovered=e},removePrivilegePassAndClearFields:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isNewBookingFlow||this.isInFareLockFinalizeFlow){t.next=2;break}return t.abrupt("return");case 2:if(this.isIAmTravellingCheckboxDisabled||!this.passenger.iamTravelling){t.next=11;break}if(!this.passenger.privilegePassActivated){t.next=6;break}return t.next=6,a.a.awrap(this.removePrivilegePass());case 6:if(this.passenger.iamTravelling=!1,!this.isInFareLockFlow){t.next=9;break}return t.abrupt("return");case 9:"gender"===e?this.clearName():this.clearNameAndGender(),this.resetValidationOnNextTick();case 11:case"end":return t.stop()}}),null,this)},handleSelectTravelPartner:function(e){var t=this;this.passenger.firstName=e.firstName,this.passenger.lastName=e.lastName,this.passenger.gender=e.gender,this.isChild&&(this.passenger.dateOfBirth=e.dateOfBirth),this.$nextTick((function(){t.$validator.reset()})),setTimeout((function(){t.activeInputField=""}),400)},handleChildValidityChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.component,i=e.isValid;this.validators[t]=i},validate:function(){var e,t,i,s,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.isTravelPartnerTooltipForced=!1,e=[Object(Ae.b)(this.$validator),this.$refs.outboundFlight.validate()].concat([this.isRoundTrip?this.$refs.returnFlight.validate():[]]),o.next=4,a.a.awrap(Promise.all(e));case 4:return t=o.sent,i=n()(t,3),s=i[1],r=i[2],s&&r||(s?this.selectReturnTab():this.selectOutboundTab()),this.isFirstOrLastnameInvalid&&1===this.passenger.passengerNumber&&this.togglePanelExpand&&(this.isTravelPartnerTooltipForced=!0,this.showInvalidNameTooltip()),o.abrupt("return",t.every(Boolean));case 9:case"end":return o.stop()}}),null,this)},handleStartPassengerLoading:function(e){this.isLoading=e===this.passengerNumber},handleStopPassengerLoading:function(e){e===this.passengerNumber&&(this.isLoading=!1)},onPassengerValidityChange:function(){this.validators.passenger=this.isValid,Object(p.b)("bookingFlow_passengers_passengerValidityChange",{isInfant:this.isInfant,passengerNumber:this.passengerNumber,component:"passenger",isValid:this.isValid})},isFlownFlight:function(e){return g.k(e)},getPassengerNumberWithType:function(){return!this.togglePanelExpand&&this.isPanelSummaryVisible?Object(h.j)(this.passenger):Object(h.k)(this.passenger)},showAddTheSameToAllPassengersModal:function(){var e=this;Object(p.b)("bookingFlow_passengers_showAddTheSameToAllPassengersModal",{passengerNumber:this.passengerNumber,onConfirm:function(){e.disableCopy()}})},showPrivilegePassModal:function(){Object(p.b)("bookingFlow_passengers_showPrivilegePassModal",{passenger:this.passenger})},showReducedMobilityModal:function(){var e=this.passenger,t=e.firstName,i=e.lastName,s=e.passengerType,a=e.passengerNumber,r=e.isPrmConsentAccepted,n=e.reducedMobility;Object(p.b)("bookingFlow_passengers_showReducedMobilityModal",{firstName:t,lastName:i,passengerType:s,passengerNumber:a,isPrmConsentAccepted:r,reducedMobility:Ue({},n)})},scrollToNextPassenger:function(){var e,t;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(this.validate());case 2:if(e=i.sent,t=parseInt(this.passengerNumber,10),!this.isPassengersAccordionEnabled){i.next=10;break}if(!e||this.isDuplicate){i.next=8;break}return this.$emit("goto-next-passenger",t),i.abrupt("return");case 8:i.next=13;break;case 10:if(!e){i.next=13;break}return Object(H.a)("passenger-".concat(t+1)),i.abrupt("return");case 13:Object(H.a)("passenger-".concat(t));case 14:case"end":return i.stop()}}),null,this)},restoreUser:function(){var e=this.user.profile,t=e.firstName,i=e.lastName,s=e.gender;this.passenger.firstName=t.value,this.passenger.lastName=i.value,this.passenger.gender=s.value,this.$validator.reset()},clearName:function(){this.updatePassenger({isInfant:!1,passenger:{passengerNumber:this.passengerNumber,firstName:"",lastName:""}})},clearGender:function(){this.updatePassenger({isInfant:!1,passenger:{passengerNumber:this.passengerNumber,gender:null}})},clearNameAndGender:function(){this.clearName(),this.clearGender(),this.resetValidationOnNextTick()},removePrivilegePass:function(){var e=Object(ve.a)(this.passenger,"firstName","lastName","gender","passengerNumber","privilegePassEmail");return new Promise((function(t){Object(p.b)("bookingFlow_passengers_removePrivilegePass",{privilegePassInfo:e,onPrivilegePassRemovedCallback:t})}))},getDefaultBirthDateForChildren:function(){return pe()().subtract(3,"year").format("YYYY-MM-DD")},trackFlexibleTravelPartnerImpression:function(){var e=this.metadata,t={id:Pe.getProductId({code:u.Jc[u.Kc],type:"ancillary",metadata:e}),name:Pe.getProductName({code:u.Jc[u.Kc],metadata:e}),category:"ancillary",list:u.q.get(u.Gg)};l()(this,"travelPartnerFee.amount")&&(t.price=Object(Ce.a)(this.travelPartnerFee.amount*this.analyticsExchangeRate)),Pe.sendEcommerceViewItemListEventWithoutFormatting(t)},handleFocus:function(e){this.activeInputField=e.target.getAttribute("id"),this.removePrivilegePassAndClearFields(),e.target.focus()},setDefaultProperties:function(){var e=this.generateNameForUnknownPassenger(),t=e.firstName,i=e.lastName;this.updatePassenger({isInfant:!1,passenger:{passengerNumber:this.passengerNumber,firstName:t,lastName:i,gender:null,dateOfBirth:this.isChild?this.getDefaultBirthDateForChildren():null,iamTravelling:!1}})},resetValidationOnNextTick:function(){var e=this;this.$nextTick((function(){e.$validator.reset()}))},departureDate:function(e){return this.isNewItinerary?pe()(this.itineraryFlights[e].departureDate).format(u.lc):this.flights[e].date?this.flights[e].date:pe()(this.flights[e].departureDateTime).format(u.lc)},onSelectOutboundBaggage:function(e){var t,i,s;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.hasPassengerAncillary){r.next=2;break}return r.abrupt("return");case 2:return t={outboundFlight:{baggage:e}},i=(this.passengerAncillary.returnFlight||{}).baggage,s="none"===e,this.isCopyEnabledToBaggagesReturnFlight&&this.isRoundTrip&&this.hasSameBaggageOptionsForBothFlights&&(i.options.find(Object(m.a)("option",e))||s)&&(t=Object.assign(t,{returnFlight:{baggage:e}})),r.next=8,a.a.awrap(this.handleAncillaries(t));case 8:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 9:case"end":return r.stop()}}),null,this)},onSelectReturnBaggage:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasPassengerAncillary){t.next=2;break}return t.abrupt("return");case 2:return this.isCopyEnabledToBaggagesReturnFlight=!1,t.next=5,a.a.awrap(this.handleAncillaries({returnFlight:{baggage:e}}));case 5:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 6:case"end":return t.stop()}}),null,this)},onSelectOutboundSportsEquipment:function(e){var t,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.hasPassengerAncillary){s.next=2;break}return s.abrupt("return");case 2:return t={outboundFlight:{sportsEquipment:e}},i=l()(this,"passengerAncillary.returnFlight.sportsEquipment.accessibility")===u.b,this.isCopyEnabledToBaggagesReturnFlight&&i&&(t=Object.assign(t,{returnFlight:{sportsEquipment:e}})),s.next=7,a.a.awrap(this.handleAncillaries(t));case 7:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 8:case"end":return s.stop()}}),null,this)},onSelectReturnSportsEquipment:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasPassengerAncillary){t.next=2;break}return t.abrupt("return");case 2:return this.isCopyEnabledToBaggagesReturnFlight=!1,t.next=5,a.a.awrap(this.handleAncillaries({returnFlight:{sportsEquipment:e}}));case 5:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 6:case"end":return t.stop()}}),null,this)},onSelectOutboundPriorityBoarding:function(e){var t,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!Object(Ee.a)(e)&&this.hasPassengerAncillary){s.next=2;break}return s.abrupt("return");case 2:return e&&this.sendGaEventOnFirstSelect(),this.setPriorityBoardingAddSource(e?this.currentStep:null),t={outboundFlight:{priorityBoarding:e}},i=l()(this,"passengerAncillary.returnFlight.priorityBoarding.accessibility")===u.b,this.isCopyToReturnFlight&&i&&(t=Object.assign(t,{returnFlight:{priorityBoarding:e}})),s.next=9,a.a.awrap(this.handleAncillaries(t));case 9:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 10:case"end":return s.stop()}}),null,this)},onSelectReturnPriorityBoarding:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(Ee.a)(e)&&this.hasPassengerAncillary){t.next=2;break}return t.abrupt("return");case 2:return e&&this.sendGaEventOnFirstSelect(),this.setPriorityBoardingAddSource(e?this.currentStep:null),this.currentTabInt.includes(u.Of)&&(this.isCopyToReturnFlight=!1),t.next=7,a.a.awrap(this.handleAncillaries({returnFlight:{priorityBoarding:e}}));case 7:this.canFetchPostBookingUpsell&&this.fetchPostBookingBundleUpsell();case 8:case"end":return t.stop()}}),null,this)},sendGaEventOnFirstSelect:function(){Object(J.k)({sessionKey:ye.k,eventFlag:ye.f,eventArgs:["Checkbox","Click","cabin-baggage-checkbox-click"]})},handleAncillaries:function(e){var t,i,s,r,o,l,d;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if((t=this.ancillariesHandleAncillaries(Ue({passengerNumber:this.passengerNumber},e)))!==this.ancillariesHandleAncillariesPromise){u.next=3;break}return u.abrupt("return");case 3:if(this.ancillariesHandleAncillariesPromise=t,this.canQueryBundleUpsellInfo){u.next=6;break}return u.abrupt("return",t.catch(this.onError));case 6:return u.next=8,a.a.awrap(Object(c.b)(t));case 8:if(i=u.sent,s=n()(i,1),!(r=s[0])){u.next=13;break}return u.abrupt("return",this.onError(r));case 13:return u.next=15,a.a.awrap(Object(c.b)(this.fetchBundleUpsell()));case 15:if(o=u.sent,l=n()(o,1),!(d=l[0])){u.next=20;break}return u.abrupt("return",this.onError(d));case 20:case"end":return u.stop()}}),null,this)},toggleTravelpartner:function(){this.passenger.isTravelPartner=!this.passenger.isTravelPartner},hideInvalidNameTooltip:function(){this.$refs.invalidNameTooltip.forceHide()},showInvalidNameTooltip:function(){var e=this.$refs.invalidNameTooltip;Object(Se.a)(e)||e.show()},expandPanel:function(){this.togglePanelExpand=!this.togglePanelExpand,this.isPanelSummaryVisible=!1},onSummaryHide:function(){this.$emit("update:is-recommendation-accepted",!1)}}},He=Object(le.a)(ze,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"booking-flow__section booking-flow__section--passengers booking-flow__passengers",class:e.wrapperClass,attrs:{id:"passenger-"+e.uid,"data-test":e.dataTest}},[e.isNameVisible&&!e.togglePanelExpand?[i("div",{staticClass:"booking-flow__passengers__avatar circled-avatar"},[i("i",{class:"icon icon__person--detailed--"+e.personIcon})]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__title",class:{"booking-flow__passengers__title--accordion":!e.isPanelSummaryVisible&&!e.togglePanelExpand},on:{click:function(t){return e.$emit("passenger-click",e.uid)}}},[e._v(" "+e._s(e.getPassengerNumberWithType())+" ")]),e._v(" "),e.isExpandErrorVisible?i("div",{staticClass:"booking-flow__passengers__title--fill-error"},[i("input-error",{attrs:{name:"fill-previous-passenger","error-label":"input-error-fill-previous-passenger"}})],1):e._e()]:e._e(),e._v(" "),!e.togglePanelExpand&&e.isPanelSummaryVisible?i("passenger-summary",{attrs:{"passenger-ancillary":e.passengerAncillary,"passenger-ancillaries-with-labels":e.passengerAncillariesWithLabels,"is-round-trip":e.isRoundTrip,"outbound-departure-station":e.outboundDepartureStation,"return-departure-station":e.returnDepartureStation},on:{"change-data":e.expandPanel}}):e._e(),e._v(" "),i("toggle-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.togglePanelExpand,expression:"togglePanelExpand"}]},[e.isInFareLockFlow||e.isNewItinerary?[e.arePassengerDetailsVisible?i("div",{staticClass:"fare-lock__passenger"},[e.isNameVisible?i("div",{staticClass:"booking-flow__passengers__title fare-lock__passenger__title title title--2"},[e._v(" "+e._s(e.fullName)+" ")]):e._e(),e._v(" "),e.isNameVisible?i("div",{staticClass:"ie-flex__booking-passenger-setup ie-table",attrs:{"data-test":e.dataTest+"-info"}},[i("header",{staticClass:"booking-flow__passengers__header booking-flow__passengers__header--flex-start ie-table-row"},[i("div",{staticClass:"fare-lock__passenger__avatar circled-avatar"},[i("i",{class:"icon icon__person--detailed--"+e.personIcon})]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__header__name ie-flex__booking-passengers-header ie-table-cell fare-lock__passenger__name"},[i("div",{staticClass:"rf-input rf-input--large rf-input--double"},[i("div",{staticClass:"rf-input__inner"},[i("label",{staticClass:"rf-input__wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.firstName,expression:"passenger.firstName"}],staticClass:"rf-input__input",class:{empty:!e.passenger.firstName},attrs:{id:"passenger-first-name-"+e.uid,type:"text","data-test":"passenger-first-name-"+e.uid,maxlength:"32",placeholder:e.$t("firstname"),disabled:e.isNameChangeDisabled||e.isParentLoading||e.isLoading||e.isTravelPartner,autocomplete:"off","data-hj-masked":""},domProps:{value:e.passenger.firstName},on:{input:function(t){t.target.composing||e.$set(e.passenger,"firstName",t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("firstname")))])]),e._v(" "),i("label",{staticClass:"rf-input__wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.lastName,expression:"passenger.lastName"}],staticClass:"rf-input__input",class:{empty:!e.passenger.lastName},attrs:{id:"passenger-last-name-"+e.uid,type:"text","data-test":"passenger-last-name-"+e.uid,maxlength:"32",placeholder:e.$t("lastname"),disabled:e.isNameChangeDisabled||e.isParentLoading||e.isLoading||e.isTravelPartner,autocomplete:"off","data-hj-masked":""},domProps:{value:e.passenger.lastName},on:{input:function(t){t.target.composing||e.$set(e.passenger,"lastName",t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("lastname")))])])])])]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__header__gender ie-flex__booking-passenger-gender ie-table-cell"},[i("div",{staticClass:"ie-table",attrs:{"data-test":"passenger-"+e.uid+"-gender-selector"+e.GENDER_MALE}},[i("div",{staticClass:"rf-switch rf-switch--small rf-switch--input-sized"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.gender,expression:"passenger.gender"}],staticClass:"rf-switch__input",attrs:{id:"passenger-gender-"+e.uid+"-"+e.GENDER_MALE,type:"radio",name:"gender"+e.uid,disabled:e.isGenderSelectionDisabled||e.isTravelPartner,"data-hj-masked":""},domProps:{value:e.GENDER_MALE,checked:e._q(e.passenger.gender,e.GENDER_MALE)},on:{change:function(t){return e.$set(e.passenger,"gender",e.GENDER_MALE)}}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{"data-test":"passenger-gender-"+e.uid+"-"+e.GENDER_MALE,for:"passenger-gender-"+e.uid+"-"+e.GENDER_MALE},on:{click:e.removePrivilegePassAndClearFields}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t(e.GENDER_MALE))+" ")])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.gender,expression:"passenger.gender"}],staticClass:"rf-switch__input",attrs:{id:"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE,type:"radio",name:"gender"+e.uid,disabled:e.isGenderSelectionDisabled||e.isTravelPartner,"data-hj-masked":""},domProps:{value:e.GENDER_FEMALE,checked:e._q(e.passenger.gender,e.GENDER_FEMALE)},on:{change:function(t){return e.$set(e.passenger,"gender",e.GENDER_FEMALE)}}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{"data-test":"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE,for:"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE},on:{click:e.removePrivilegePassAndClearFields}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t(e.GENDER_FEMALE))+" ")])])])])]),e._v(" "),e.isChild?[i("div",{staticClass:"booking-flow__passengers__header__birthday ie-table-cell"},[i("pika-single-day",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dateOfBirth","min-date":e.minDateOfBirth,"max-date":e.maxDateOfBirth,"default-date":e.minDateOfBirth,placeholder:e.$t("date-of-birth"),disabled:e.isNameChangeDisabled||e.isTravelPartner,"validator-field":e.validatorFields.dateOfBirth,position:"top right","error-label-key":"input-error-please-select"},model:{value:e.passenger.dateOfBirth,callback:function(t){e.$set(e.passenger,"dateOfBirth",t)},expression:"passenger.dateOfBirth"}})],1)]:e._e()],2)]):e._e()]):i("div",{staticClass:"fare-lock__passenger fare-lock__passenger--no-name",attrs:{"data-test":"passenger-fullname"}},[e.isNameVisible&&!e.isNewItinerary?i("div",{staticClass:"ie-flex__booking-passenger-setup ie-table"},[i("header",{staticClass:"booking-flow__passengers__header fare-lock__passenger__header"},[i("div",{staticClass:"fare-lock__passenger__avatar circled-avatar"},[i("i",{class:"icon icon__person--detailed--"+e.personIcon})]),e._v(" "),i("div",{staticClass:"fare-lock__passenger__info"},[i("span",{staticClass:"fare-lock__passenger__title title title--2",attrs:{"data-test":"fare-lock-fullname"}},[e._v(" "+e._s(e.fullName)+" ")]),e._v(" "),i("span",{staticClass:"fare-lock__passenger__subtitle"},[e._v(" "+e._s(e.$t("passenger-fare-lock-finalize-information"))+" ")])])]),e._v(" "),e.isNewItinerary&&e.isPriviligePassLinkVisible?i("div",{staticClass:"booking-flow__passengers__privilege-pass__section"},[e.isPrivilegePassAddVisible?i("button",{staticClass:"content__link1",attrs:{type:"button","data-test":e.dataTest+"-privilege-pass"},on:{click:e.showPrivilegePassModal}},[e._v(" "+e._s(e.$t("privilege-pass"))+" ")]):e._e(),e._v(" "),e.passenger.privilegePassActivated?i("span",[e._v(" "+e._s(e.$t("privilege-pass-activated"))+" ")]):e._e(),e._v(" "),e.isPrivilegePassRemoveVisible?i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.removePrivilegePass}},[e._v(" "+e._s(e.$t("remove"))+" ")]):e._e()]):e._e()]):i("div",{staticClass:"ie-flex__booking-passenger-setup ie-table"},[i("header",{staticClass:"booking-flow__passengers__header itinerary__add-ancillary__passenger__header"},[i("div",{staticClass:"itinerary__add-ancillary__avatar circled-avatar"},[i("i",{class:"icon icon__person--detailed--"+e.personIcon})]),e._v(" "),i("div",{staticClass:"itinerary__add-ancillary__info"},[i("span",{staticClass:"itinerary__add-ancillary__title title title--2",attrs:{"data-test":e.dataTest+"-add-ancillary-full-name"}},[e._v(" "+e._s(e.fullName)+" ")])])]),e._v(" "),e.isNewItinerary&&e.isPriviligePassLinkVisible?i("div",{staticClass:"booking-flow__passengers__privilege-pass__section"},[e.isPrivilegePassAddVisible?i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.showPrivilegePassModal}},[e._v(" "+e._s(e.$t("privilege-pass"))+" ")]):e._e(),e._v(" "),e.passenger.privilegePassActivated?i("span",[e._v(" "+e._s(e.$t("privilege-pass-activated"))+" ")]):e._e(),e._v(" "),e.isPrivilegePassRemoveVisible?i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.removePrivilegePass}},[e._v(" "+e._s(e.$t("remove"))+" ")]):e._e()]):e._e()])])]:[e.isNameVisible?[i("div",{staticClass:"booking-flow__passengers__avatar circled-avatar"},[i("i",{class:"icon icon__person--detailed--"+e.personIcon})]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__title"},[e._v(" "+e._s(e.getPassengerNumberWithType())+" ")])]:e._e(),e._v(" "),e.isIAmTravellingCheckboxAvailable?i("div",{staticClass:"booking-flow__passengers__i-am-travelling"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.iAmTravellingInt,expression:"iAmTravellingInt"}],staticClass:"rf-checkbox__input",attrs:{id:"i-am-travelling-checkbox-"+e.uid,type:"checkbox",disabled:e.isIAmTravellingCheckboxDisabled},domProps:{checked:Array.isArray(e.iAmTravellingInt)?e._i(e.iAmTravellingInt,null)>-1:e.iAmTravellingInt},on:{change:function(t){var i=e.iAmTravellingInt,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.iAmTravellingInt=i.concat([null])):r>-1&&(e.iAmTravellingInt=i.slice(0,r).concat(i.slice(r+1)))}else e.iAmTravellingInt=a}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"i-am-travelling-checkbox-"+e.uid,"data-test":"i-am-travelling-checkbox"}}),e._v(" "),i("label",{attrs:{for:"i-am-travelling-checkbox-"+e.uid}},[e._v(" "+e._s(e.$t("i-am-travelling"))+" ")])])]):e._e(),e._v(" "),e.isWdcBooking&&e.passenger.iamTravelling?i("p",{staticClass:"booking-flow__passengers__wdc-notice title title--2"},[e._v(" "+e._s(e.$t("wdc-passenger-notice"))+" ")]):e._e(),e._v(" "),e.isNameVisible?i("div",{staticClass:"ie-flex__booking-passenger-setup ie-table",attrs:{"data-test":e.dataTest+"-info"}},[i("header",{staticClass:"booking-flow__passengers__header booking-flow__passengers__header--flex-start ie-table-row"},[i("div",{class:e.nameInputFieldWrapperClass},[i("div",{directives:[{name:"input-hint",rawName:"v-input-hint"}],staticClass:"rf-input rf-input--large rf-input--double"},[i("div",{staticClass:"rf-input__inner"},[i("label",{directives:[{name:"validate-class",rawName:"v-validate-class"}],staticClass:"rf-input__wrapper",on:{click:e.removePrivilegePassAndClearFields}},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.passenger.firstName,expression:"passenger.firstName",modifiers:{lazy:!0}},{name:"validate",rawName:"v-validate",value:{required:!0,passengerName:!0,max:32},expression:"{ required: true, passengerName: true, max: 32 }"}],staticClass:"rf-input__input",class:{empty:!e.passenger.firstName},attrs:{id:"passenger-first-name-"+e.uid,type:"text",name:"firstName","data-vv-validate-on":"blur","data-test":"passenger-first-name-"+e.uid,maxlength:"32",placeholder:e.$t("firstname"),disabled:e.isNameChangeDisabled||e.isParentLoading||e.isLoading||e.isTravelPartner,autocomplete:"off","data-hj-masked":""},domProps:{value:e.passenger.firstName},on:{focus:e.handleFocus,change:function(t){return e.$set(e.passenger,"firstName",t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("firstname")))]),e._v(" "),i("div",{staticClass:"rf-input__tooltip rf-input__tooltip--up"},[e._v(" "+e._s(e.$t("passenger-name-tooltip"))+" ")]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has("firstName")&&e.veeFirstName.touched,expression:"validatorErrors.has('firstName') && veeFirstName.touched"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"firstname","validator-field-name":"firstName","error-label":"input-error-first-name-required"}})],1),e._v(" "),i("label",{directives:[{name:"validate-class",rawName:"v-validate-class"}],staticClass:"rf-input__wrapper",on:{click:e.removePrivilegePassAndClearFields}},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.passenger.lastName,expression:"passenger.lastName",modifiers:{lazy:!0}},{name:"validate",rawName:"v-validate",value:{required:!0,passengerName:!0,max:32},expression:"{ required: true, passengerName: true, max: 32 }"}],staticClass:"rf-input__input",class:{empty:!e.passenger.lastName},attrs:{id:"passenger-last-name-"+e.uid,type:"text",name:"lastName","data-vv-validate-on":"blur","data-test":"passenger-last-name-"+e.uid,maxlength:"32",placeholder:e.$t("lastname"),disabled:e.isNameChangeDisabled||e.isParentLoading||e.isLoading||e.isTravelPartner,autocomplete:"off","data-hj-masked":""},domProps:{value:e.passenger.lastName},on:{focus:e.handleFocus,change:function(t){return e.$set(e.passenger,"lastName",t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("lastname")))]),e._v(" "),i("div",{staticClass:"rf-input__tooltip rf-input__tooltip--up"},[e._v(" "+e._s(e.$t("passenger-name-tooltip"))+" ")]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has("lastName")&&e.veeLastName.touched,expression:"validatorErrors.has('lastName') && veeLastName.touched"}],attrs:{name:"lastname","validator-field-name":"lastName","ext-validator-errors":e.validatorErrors,"error-label":"input-error-last-name-required"}})],1)])])]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__header__gender ie-flex__booking-passenger-gender ie-table-cell"},[i("div",{staticClass:"ie-table",attrs:{"data-test":"passenger-"+e.uid+"-gender-selector"+e.GENDER_FEMALE}},[i("div",{directives:[{name:"validate-class",rawName:"v-validate-class"}],staticClass:"rf-switch rf-switch--small rf-switch--input-sized"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.gender,expression:"passenger.gender"},{name:"validate",rawName:"v-validate",value:{required:!e.isTravelPartner},expression:"{ required: !isTravelPartner }"}],staticClass:"rf-switch__input",attrs:{id:"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE,type:"radio","data-vv-name":"gender",name:"gender"+e.uid,disabled:e.isGenderSelectionDisabled||e.isTravelPartnerGenderDisabled,"data-hj-masked":""},domProps:{value:e.GENDER_FEMALE,checked:e._q(e.passenger.gender,e.GENDER_FEMALE)},on:{change:function(t){return e.$set(e.passenger,"gender",e.GENDER_FEMALE)}}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{"data-test":"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE,for:"passenger-gender-"+e.uid+"-"+e.GENDER_FEMALE},on:{click:function(t){return e.removePrivilegePassAndClearFields("gender")}}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t(e.GENDER_FEMALE))+" ")])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.gender,expression:"passenger.gender"}],staticClass:"rf-switch__input",attrs:{id:"passenger-gender-"+e.uid+"-"+e.GENDER_MALE,type:"radio",name:"gender"+e.uid,disabled:e.isGenderSelectionDisabled||e.isTravelPartnerGenderDisabled,"data-hj-masked":""},domProps:{value:e.GENDER_MALE,checked:e._q(e.passenger.gender,e.GENDER_MALE)},on:{change:function(t){return e.$set(e.passenger,"gender",e.GENDER_MALE)}}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{"data-test":"passenger-gender-"+e.uid+"-"+e.GENDER_MALE,for:"passenger-gender-"+e.uid+"-"+e.GENDER_MALE},on:{click:function(t){return e.removePrivilegePassAndClearFields("gender")}}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t(e.GENDER_MALE))+" ")])])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has("gender")&&e.veeGender.touched,expression:"validatorErrors.has('gender') && veeGender.touched"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"gender","error-label":"input-error-please-select"}})],1)]),e._v(" "),e.isChild?[i("div",{staticClass:"booking-flow__passengers__header__birthday ie-table-cell"},[i("pika-single-day",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dateOfBirth","date-test":"date-of-birth","min-date":e.minDateOfBirth,"max-date":e.maxDateOfBirth,"default-date":e.minDateOfBirth,placeholder:e.$t("date-of-birth"),disabled:e.isNameChangeDisabled||e.isTravelPartner,"validator-field":e.validatorFields.dateOfBirth,position:"top right","error-label-key":"input-error-please-select"},model:{value:e.passenger.dateOfBirth,callback:function(t){e.$set(e.passenger,"dateOfBirth",t)},expression:"passenger.dateOfBirth"}})],1)]:e._e()],2)]):e._e(),e._v(" "),e.isTravelPartner?e._e():i("div",{staticClass:"booking-flow__passengers__accessibility"},[e.isReducedMobilityLinkVisible?i("div",{staticClass:"booking-flow__passengers__accessibility__section"},[e.isReducedMobility?[e.passenger.reducedMobility.blind?[e._v(" "+e._s(e.$t("low-vision-customer"))+". ")]:e._e(),e._v(" "),e.passenger.reducedMobility.deaf?[e._v(" "+e._s(e.$t("hearing-impaired-customer"))+". ")]:e._e(),e._v(" "),e.passenger.reducedMobility.wheelchair?[e._v(" "+e._s(e.$t("wheelchair-assisted-customer"))+". ")]:e._e(),e._v(" "),i("button",{staticClass:"content__link2",attrs:{type:"button"},on:{click:e.showReducedMobilityModal}},[e._v(" "+e._s(e.$t("change"))+" ")])]:i("button",{staticClass:"content__link1",attrs:{type:"button","data-test":"passenger-special-assisance-button"},on:{click:e.showReducedMobilityModal}},[e._v(" "+e._s(e.$t("reduced-mobility"))+"? ")])],2):e._e(),e._v(" "),e.isPriviligePassLinkVisible?i("div",{staticClass:"booking-flow__passengers__accessibility__section"},[e.isInFareLockFlow?e._e():i("span",[i("span",{directives:[{name:"show",rawName:"v-show",value:e.isNameEmpty||!e.passenger.gender,expression:"isNameEmpty || !passenger.gender"}]},[e._v(" "+e._s(e.$t("fill-out-name-to-activate-privilege-pass"))+" ")])]),e._v(" "),e.isPrivilegePassAddVisible?i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.showPrivilegePassModal}},[e._v(" "+e._s(e.$t("privilege-pass"))+" ")]):e._e(),e._v(" "),e.passenger.privilegePassActivated?i("span",[e._v(" "+e._s(e.$t("privilege-pass-activated"))+" ")]):e._e(),e._v(" "),e.isPrivilegePassRemoveVisible?i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.removePrivilegePass}},[e._v(" "+e._s(e.$t("remove"))+" ")]):e._e()]):e._e()]),e._v(" "),e.isSpecialCharactersErrorVisible?i("error-notice",{attrs:{errors:["special-characters-error"],compact:!0}}):e._e(),e._v(" "),e.isGroupBooking||!e.passenger.privilegePassActivated||e.isPassengerNameValidForPrivilegePass?e._e():i("error-notice",{attrs:{errors:["customer-number-and-name-mismatch"],compact:!0}}),e._v(" "),!e.isGroupBooking&&e.passenger&&e.isDuplicate?i("error-notice",{attrs:{errors:["duplicate-name-error"],compact:!0}}):e._e()],e._v(" "),!e.passenger.canBeTravelPartner||e.passenger.privilegePassActivated||e.isReducedMobility?e._e():i("div",{class:e.travelPartnerClass},[i("div",{staticClass:"booking-flow__passengers__travel-partner-container",class:{"booking-flow__passengers__travel-partner-container--without-top-ribbon":!e.promotionTopRibbonActive}},[i("div",{staticClass:"booking-flow__passengers__travel-partner"},[i("div",{staticClass:"booking-flow__passengers__travel-partner__icon"},[i("i",{staticClass:"icon icon__person--unknown"})]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__travel-partner__content"},[i("p",{staticClass:"booking-flow__passengers__travel-partner__copy"},[e._v(" "+e._s(e.$t("not-sure-about-who-you-are-travelling-with"))+" ")])]),e._v(" "),i("div",{staticClass:"booking-flow__passengers__travel-partner__button"},[i("p",{staticClass:"button-label"},[e._v(" "+e._s(e.$t("add-name-later"))+" ")]),e._v(" "),i("tooltip",{ref:"invalidNameTooltip",attrs:{"keep-visible":e.isTravelPartnerTooltipVisible,type:"travelpartner",attachment:e.travelPartnerTooltipOptions.attachment,"target-attachment":e.travelPartnerTooltipOptions.targetAttachment,offset:e.travelPartnerTooltipOptions.offset,"target-offset":e.travelPartnerTooltipOptions.targetOffset,"is-visible-on-mobile-screen":!0}},[i("div",{attrs:{slot:"icon"},slot:"icon"},[i("span",{directives:[{name:"sliding-toggle",rawName:"v-sliding-toggle"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.isTravelPartner,expression:"passenger.isTravelPartner"}],staticClass:"rf-sliding-toggle__input",attrs:{id:"travel-partner-checkbox-"+e.uid,type:"checkbox",disabled:!1},domProps:{checked:Array.isArray(e.passenger.isTravelPartner)?e._i(e.passenger.isTravelPartner,null)>-1:e.passenger.isTravelPartner},on:{change:function(t){var i=e.passenger.isTravelPartner,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&e.$set(e.passenger,"isTravelPartner",i.concat([null])):r>-1&&e.$set(e.passenger,"isTravelPartner",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.passenger,"isTravelPartner",a)}}}),e._v(" "),i("label",{staticClass:"rf-sliding-toggle__label",attrs:{for:"travel-partner-checkbox-"+e.uid},on:{click:function(t){return t.preventDefault(),e.toggleTravelpartner(t)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.passenger.isTravelPartner,expression:"passenger.isTravelPartner"}]},[e._v(e._s(e.$t("add")))]),e._v(" "+e._s(e.travelPartnerFormattedPrice)+" ")])])]),e._v(" "),i("p",[e._v(" "+e._s(e.$t("consider-flexible-tavel-partner"))+" ")]),e._v(" "),i("a",{on:{click:function(t){return t.preventDefault(),e.hideInvalidNameTooltip(t)}}},[e._v(e._s(e.$t("got-it")))])])],1)])])]),e._v(" "),e.isInFareLockFlow?e._e():i("div",{staticClass:"booking-flow__passengers__contents-container",class:e.contentsContainerClass,attrs:{"data-test":"booking-flow-passenger-"+e.uid+"-content"}},[!e.isGroupBooking&&e.passengerNumber<1&&!e.isNewItinerary&&!e.isPassengerInnerContentEnabled?i("baggage-fee-calculator-promo",{class:["booking-flow__passengers__baggage-fee-calculator-promo",{"booking-flow__passengers__baggage-fee-calculator-promo--without-top-ribbon":!e.promotionTopRibbonActive}],attrs:{name:"passenger-header"}}):e._e(),e._v(" "),e._l(e.promotionTopRibbons,(function(e){return i("promo-bar",{key:e.integrationId,attrs:{title:e.title,disclaimer:e.disclaimer}})})),e._v(" "),e.isRecommendationAccepted?i("passenger-summary",{attrs:{"passenger-ancillary":e.passengerAncillary,"passenger-ancillaries-with-labels":e.passengerAncillariesWithLabels,"is-round-trip":e.isRoundTrip,"outbound-departure-station":e.outboundDepartureStation,"return-departure-station":e.returnDepartureStation,"is-baggage-summary":""},on:{"change-data":e.onSummaryHide}}):e._e(),e._v(" "),e.isRoundTrip&&!e.isRecommendationAccepted?[e.areSameSettingsForReturnFlight?i("same-for-both-flights",{attrs:{"passenger-number":e.passenger.passengerNumber}}):e._e(),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:!e.areSameSettingsForReturnFlight,expression:"!areSameSettingsForReturnFlight"},{name:"tabs",rawName:"v-tabs",value:{value:e.currentTabInt,handleSelect:e.updateCurrentTabInt},expression:"{ value: currentTabInt, handleSelect: updateCurrentTabInt }"}],staticClass:"tabs tabs--simple tabs--with-icon booking-flow__passengers__tabs"},[e.isOutboundTabVisible&&e.hasOutboundLeg?i("li",{staticClass:"tab",attrs:{"data-tab":e.outboundDataTabId,"data-test":e.outboundDataTabId}},[i("button",{staticClass:"tab__container",attrs:{type:"button","data-test":e.outboundDataTabId+"-btn"}},[i("i",{staticClass:"tab__icon icon icon__airplane--toright"}),e._v(" "),i("span",{staticClass:"tab__title title title--2"},[e._v(" "+e._s(e._f("resource")(e.flights.outbound.departureStation,"shortName"))+" "),i("i",{staticClass:"icon icon__arrow--big--toright--gray-dark"}),e._v(" "+e._s(e._f("resource")(e.flights.outbound.arrivalStation,"shortName"))+" ")])])]):e._e(),e._v(" "),i("li",{staticClass:"tab",attrs:{"data-tab":e.returnDataTabId,"data-test":e.returnDataTabId}},[i("button",{staticClass:"tab__container",attrs:{type:"button","data-test":e.returnDataTabId+"-btn"}},[i("i",{staticClass:"tab__icon icon icon__airplane--toleft"}),e._v(" "),i("span",{staticClass:"tab__title title title--2"},[e._v(" "+e._s(e._f("resource")(e.flights.return.departureStation,"shortName"))+" "),i("i",{staticClass:"icon icon__arrow--big--toright--gray-dark"}),e._v(" "+e._s(e._f("resource")(e.flights.return.arrivalStation,"shortName"))+" ")])])])])]:e._e(),e._v(" "),e.isRoundTrip||e.isRecommendationAccepted?e._e():[i("ul",{directives:[{name:"tabs",rawName:"v-tabs",value:{value:e.currentTabInt,handleSelect:e.updateCurrentTabInt},expression:"{ value: currentTabInt, handleSelect: updateCurrentTabInt }"}],staticClass:"tabs tabs--simple tabs--with-icon booking-flow__passengers__tabs"},[e.isOutboundTabVisible&&e.hasOutboundLeg?i("li",{staticClass:"tab",attrs:{"data-tab":e.outboundDataTabId,"data-test":e.outboundDataTabId}},[i("button",{staticClass:"tab__container",attrs:{type:"button"}},[i("i",{staticClass:"tab__icon icon icon__airplane--toright"}),e._v(" "),i("span",{staticClass:"tab__title title title--2"},[e._v(" "+e._s(e._f("resource")(e.flights.outbound.departureStation,"shortName"))+" "),i("i",{staticClass:"icon icon__arrow--big--toright--gray-dark"}),e._v(" "+e._s(e._f("resource")(e.flights.outbound.arrivalStation,"shortName"))+" ")])])]):e._e()])],e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRecommendationAccepted,expression:"!isRecommendationAccepted"}],staticClass:"ie-flex__booking-baggages booking-flow__passengers__contents-container__guard",class:{"ie-table-cascading":e.isRoundTrip&&e.isOutboundTabVisible&&e.isFlightChangeFlow}},[e.isOutboundTabVisible&&e.hasPassengerAncillary&&e.hasOutboundLeg?i("flight",{ref:"outboundFlight",attrs:{"is-outbound-tab-visible":e.isOutboundTabVisible,"is-epie":e.outboundEpie,"is-after-passengers":e.isAfterPassengers,"passenger-number":e.passengerNumber,passenger:e.passenger,flight:e.passengerAncillary.outboundFlight,"departure-station":e.flights.outbound.departureStation,"arrival-station":e.flights.outbound.arrivalStation,bundle:e.outboundBundle,"is-round-trip":e.isRoundTrip,"is-ecommerce-tracking-disabled":e.isEcommerceTrackingDisabled,"is-add-services-flow":e.isAddServicesFlow,"is-priority-boarding-visible":e.isPriorityBoardingVisible,"is-copy-to-return-flight":e.isCopyToReturnFlight,"are-same-settings-for-return-flight":e.areSameSettingsForReturnFlight,"checked-in-bag-prices-by-direction":e.checkedInBagPricesByDirection,"priority-boarding-prices-by-direction":e.priorityBoardingPricesByDirection,type:"outbound","number-of-independent-passengers":e.numberOfIndependentPassengers,"are-same-settings-checked-for-return-flight":e.areSameSettingsCheckedForReturnFlight},on:{"select-baggage":e.onSelectOutboundBaggage,"select-sports-equipment":e.onSelectOutboundSportsEquipment,"select-priority-boarding":e.onSelectOutboundPriorityBoarding}}):e._e(),e._v(" "),e.isRoundTrip&&e.hasPassengerAncillary?[i("flight",{ref:"returnFlight",attrs:{"is-outbound-tab-visible":e.isOutboundTabVisible,"is-after-passengers":e.isAfterPassengers,"passenger-number":e.passengerNumber,passenger:e.passenger,flight:e.passengerAncillary.returnFlight,"is-epie":e.returnEpie,"departure-station":e.flights.return.departureStation,"arrival-station":e.flights.return.arrivalStation,bundle:e.returnBundle,"is-round-trip":e.isRoundTrip,"is-ecommerce-tracking-disabled":e.isEcommerceTrackingDisabled,"is-add-services-flow":e.isAddServicesFlow,"is-priority-boarding-visible":e.isPriorityBoardingVisible,"is-copy-to-return-flight":e.isCopyToReturnFlight,type:"return","number-of-independent-passengers":e.numberOfIndependentPassengers,"are-same-settings-checked-for-return-flight":e.areSameSettingsCheckedForReturnFlight},on:{"update:is-hovered":e.updateBaggageHovered,"select-baggage":e.onSelectReturnBaggage,"select-sports-equipment":e.onSelectReturnSportsEquipment,"select-priority-boarding":e.onSelectReturnPriorityBoarding}})]:e._e()],2),e._v(" "),e.isBottomBarVisible?i("div",{staticClass:"booking-flow__passengers__footer"},[e.isContinueButtonVisible?i("button",{staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{type:"button"},on:{click:function(t){return e.scrollToNextPassenger()}}},[e._v(" "+e._s(e.submitButtonText)+" ")]):e._e(),e._v(" "),i("button",{staticClass:"booking-flow__passengers__footer__copy-button content__link1",attrs:{type:"button"},on:{click:e.showAddTheSameToAllPassengersModal}},[e._v(" "+e._s(e.$t("copy-to-other-passengers"))+" ")])]):e._e()],2)],2)])],2)])}),[],!1,null,null,null).exports,Ke=i(219),Qe=i(629),Ye=i(60),Je={ultralight:"light",heavy:"heavy"},Xe={name:"BaggageSummary",props:{checkedInBaggageRecommendation:{type:Object,required:!0},cabinBaggageRecommendation:{type:Object,required:!0}},computed:{checkedInBagIconClasses:function(){return["icon","icon--baggage","icon--baggage--weight-".concat(this.baggageWeight),"checked_in_bag_variation3-".concat(Je[this.checkedInBaggageRecommendation.weight]),{"checkedin-baggage--grey":!this.baggageWeight}]},cabinBaggageIconClasses:function(){return["icon",{"icon__cabin-baggage icon__cabin-baggage--blue":!this.isPriorityBoardingOffered,"icon__wizz-priority-bags":this.isPriorityBoardingOffered}]},baggageWeight:function(){return l()(this,"checkedInBaggageRecommendation.weightInKg")||0},isPriorityBoardingOffered:function(){return l()(this,"cabinBaggageRecommendation.isPriorityBoardingOffered")||!1},cabinBaggageTitle:function(){return this.isPriorityBoardingOffered?this.$t("services-wizz-priority-text"):this.$t("free-carry-on-bag-text")},isCheckedInBaggageVisible:function(){return Object(Ye.a)(this.baggageWeight,0)},isCabinBaggageVisible:function(){return this.isPriorityBoardingOffered}}},Ze=(i(1402),{name:"AncillaryRecommendationBaggages",components:{BaggagesSummary:Object(le.a)(Xe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"booking-passenger-summary"},[i("div",{staticClass:"booking-passenger-summary-baggages"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isCheckedInBaggageVisible,expression:"isCheckedInBaggageVisible"}],staticClass:"summary-baggages-section"},[i("div",{staticClass:"summary-baggages-title"},[e._v(" "+e._s(e.$t("checked-in-baggage"))+" ")]),i("div",{staticClass:"summary-baggages-ancillaries"},[i("i",{class:e.checkedInBagIconClasses}),i("div",{staticClass:"summary-baggages-details"},[e.baggageWeight?i("div",{staticClass:"summary-baggages-details-title"},[e._v(" "+e._s(e.baggageWeight)+"kg ")]):i("div",{staticClass:"summary-baggages-details-title"},[e._v(" "+e._s(e.$t("none-selected"))+" ")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isPriorityBoardingOffered,expression:"isPriorityBoardingOffered"}],staticClass:"summary-baggages-section"},[i("div",{staticClass:"summary-baggages-title"},[e._v(" "+e._s(e.$t("cabin-baggage"))+" ")]),i("div",{staticClass:"summary-baggages-ancillaries"},[i("i",{class:e.cabinBaggageIconClasses}),i("div",{staticClass:"summary-baggages-details"},[i("div",{staticClass:"summary-baggages-details-title"},[e._v(" "+e._s(e.cabinBaggageTitle)+" ")])])])])])])}),[],!1,null,null,null).exports},props:{isPending:{type:Boolean,default:!1}},vuex:{getters:{isRoundTrip:D.isRoundTrip,numberOfIndependentPassengers:V.g,exchangeRate:Y.b,metadata:Y.d,cabinBaggageRecommendation:I.e,checkedInBaggageRecommendation:I.f},actions:{setBaggagePurchaseLocation:Ke.c}},computed:{isSubtitleVisible:function(){return this.isRoundTrip||this.numberOfIndependentPassengers>1},totalPrice:function(){var e,t,i,s,a,r,n=null===(e=this.cabinBaggageRecommendation)||void 0===e?void 0:null===(t=e.price)||void 0===t?void 0:t.currencyCode;return{amount:(((null===(i=this.checkedInBaggageRecommendation)||void 0===i?void 0:null===(s=i.price)||void 0===s?void 0:s.amount)||0)+((null===(a=this.cabinBaggageRecommendation)||void 0===a?void 0:null===(r=a.price)||void 0===r?void 0:r.amount)||0))*this.numberOfIndependentPassengers,currencyCode:n}},totalPricePromoted:function(){var e,t,i,s,a,r,n,o,l,c,d=null===(e=this.cabinBaggageRecommendation)||void 0===e?void 0:null===(t=e.price)||void 0===t?void 0:t.currencyCode;return{amount:(((null===(i=this.checkedInBaggageRecommendation)||void 0===i?void 0:null===(s=i.promotedPrice)||void 0===s?void 0:s.amount)||(null===(a=this.checkedInBaggageRecommendation)||void 0===a?void 0:null===(r=a.price)||void 0===r?void 0:r.amount)||0)+((null===(n=this.cabinBaggageRecommendation)||void 0===n?void 0:null===(o=n.promotedPrice)||void 0===o?void 0:o.amount)||(null===(l=this.cabinBaggageRecommendation)||void 0===l?void 0:null===(c=l.price)||void 0===c?void 0:c.amount)||0))*this.numberOfIndependentPassengers,currencyCode:d}},totalPriceContainerClasses:function(){return["baggage-recommendation__select--total",{"is-hidden":!this.totalPrice.amount}]},totalPriceClasses:function(){return{"is-promoted":this.hasPromotion}},totalPriceText:function(){return Object(Qe.a)("baggage-recommendation-select-total",this.numberOfIndependentPassengers)},hasPromotion:function(){var e,t,i,s;return Boolean((null===(e=this.checkedInBaggageRecommendation)||void 0===e?void 0:null===(t=e.promotedPrice)||void 0===t?void 0:t.amount)||(null===(i=this.cabinBaggageRecommendation)||void 0===i?void 0:null===(s=i.promotedPrice)||void 0===s?void 0:s.amount))}},mounted:function(){this.trackImpressions()},methods:{accept:function(){this.setBaggagePurchaseLocation(u.cb),this.$emit("accept",this.totalPrice.amount)},skip:function(){this.isPending||this.$emit("skip",this.totalPrice.amount)},trackImpressions:function(){var e=this.getTrackedProducts();Object(Pe.sendEcommerceViewItemEvent)(e)},getTrackedProducts:function(){var e=this;return[u.if].concat(te()(this.isRoundTrip?[u.Of]:[])).map((function(t){return[e.getTrackableBaggageProduct(t),e.getTrackablePriorityProduct(t)]})).flat()},getTrackableBaggageProduct:function(e){return{metadata:this.metadata,type:"ancillary",data:{name:"checkedInBaggage",code:l()(this,"checkedInBaggageRecommendation.code"),price:this.checkedInBaggageRecommendation.price,flight:e,analytics:{location:u.cb,variant:l()(this,"checkedInBaggageRecommendation.variant"),isDisabled:this.checkedInBaggageRecommendation.option===u.ab}}}},getTrackablePriorityProduct:function(e){return{metadata:this.metadata,type:"service",data:{price:this.cabinBaggageRecommendation.price,name:"priorityBoarding",code:u.Jc[u.Nc],count:1,flight:e,analytics:{name:"priorityBoarding",location:u.cb,isDisabled:!this.cabinBaggageRecommendation.isPriorityBoardingOffered}}}}}}),et=(i(1481),Object(le.a)(Ze,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"baggage-recommendation",attrs:{"data-test":"baggage-recommendation"}},[i("div",{key:"select",staticClass:"baggage-recommendation__select"},[e.hasPromotion?i("div",{staticClass:"baggage-recommendation__select--promotion"},[i("i",{staticClass:"icon icon__best-price-badge"})]):e._e(),i("h3",{staticClass:"baggage-recommendation__select--title"},[e._v(" "+e._s(e.$t("baggage-recommendation-title"))+" ")]),e.hasPromotion?i("div",{staticClass:"baggage-recommendation__select--promotion-title"},[e._v(" "+e._s(e.$t("baggage-recommendation-promotion-title"))+" ")]):e._e(),e.isSubtitleVisible?i("div",{staticClass:"baggage-recommendation__select--subtitle"},[e.numberOfIndependentPassengers>1?i("span",{staticClass:"baggage-recommendation__select--subtitle--text"},[e._v(" "+e._s(e.$t("baggage-recommendation-subtitle"))+" ")]):e._e(),e.isRoundTrip?i("span",[i("i",{staticClass:"icon icon__planes"}),i("span",{staticClass:"is-uppercase"},[e._v(e._s(e.$t("passengers-both-ways")))])]):e._e()]):e._e(),i("baggages-summary",{attrs:{"checked-in-baggage-recommendation":e.checkedInBaggageRecommendation,"cabin-baggage-recommendation":e.cabinBaggageRecommendation}}),i("div",{class:e.totalPriceContainerClasses},[i("span",[e._v(" "+e._s(e.totalPriceText)+": "),i("strong",{class:e.totalPriceClasses,attrs:{"data-test":e.totalPrice.amount}},[e._v(" "+e._s(e._f("currency")(e.totalPrice))+" ")]),e.hasPromotion?i("strong",[e._v(" "+e._s(e._f("currency")(e.totalPricePromoted)))]):e._e()])]),e.hasPromotion?i("div",{staticClass:"baggage-recommendation__select--promotion-title is-mobile"},[e._v(" "+e._s(e.$t("baggage-recommendation-promotion-title"))+" ")]):e._e(),i("div",{staticClass:"baggage-recommendation__select--buttons"},[i("button",{staticClass:"rf-button rf-button--medium rf-button--primary",class:{loading:e.isPending},attrs:{type:"button"},on:{click:e.accept}},[e._v(" "+e._s(e.$t("baggage-recommendation-accept-btn"))+" ")]),i("button",{staticClass:"content__link1",attrs:{type:"button"},on:{click:e.skip}},[e._v(" "+e._s(e.$t("baggage-recommendation-skip-btn"))+" ")])])],1)])}),[],!1,null,null,null).exports),tt={name:"AncillaryRecommendationAccepted",props:{isSelectedAnimationEnd:{type:Boolean,required:!0}}},it=(i(1482),Object(le.a)(tt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"baggage-recommendation__selected"},[t("div",{staticClass:"baggage-recommendation__selected--icon"},[t("i",{staticClass:"icon icon__baggage-bundle--close"}),t("transition",{attrs:{name:"recommendation-accepted-tick-scale-in",mode:"in-out"}},[this.isSelectedAnimationEnd?t("div",{staticClass:"is-tick-icon"},[t("i",{staticClass:"icon icon__tick--green"})]):this._e()])],1),t("div",{staticClass:"baggage-recommendation__selected--text"},[this._v(" "+this._s(this.$t("baggage-recommendation-selected-title"))+" ")])])}),[],!1,null,null,null).exports),st=i(432),at=i(87),rt=i(82),nt=i(46),ot=i(221),lt=i(116),ct={name:"Purchase",inject:["$validator"],props:{isVisible:{type:Boolean,default:!1},iamTravelling:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1},extraPolicyInEffect:{type:Boolean,default:!1},email:{type:String,default:""},errorLabel:{type:String,default:""},privilegePassPrice:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}}},data:function(){return{privilegePassUrl:this.$root.safeGetUrl("privilegePass")}},computed:{formattedPrivilegePassPrice:function(){return Object(lt.a)(this.privilegePassPrice)},emailInt:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}}},methods:{buy:function(){this.$emit("buy")},cancel:function(){this.$emit("cancel")}}},dt=Object(le.a)(ct,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form",{on:{submit:function(t){return t.preventDefault(),e.buy(t)}}},[i("div",{directives:[{name:"input",rawName:"v-input"}],staticClass:"rf-input--large gutter-bottom"},[i("label",{staticClass:"rf-input__wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emailInt,expression:"emailInt"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"rf-input__input",attrs:{type:"text",name:"email",disabled:e.iamTravelling,placeholder:e.$t("email-address"),"data-hj-masked":""},domProps:{value:e.emailInt},on:{input:function(t){t.target.composing||(e.emailInt=t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("email-address")))])])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.errors.length>0,expression:"errors.length > 0"}],attrs:{"error-label":e.errorLabel}}),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has("email")&&0===e.errors.length,expression:"validatorErrors.has('email') && errors.length === 0"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"email","error-label":"billing-email-invalid"}}),e._v(" "),i("div",{staticClass:"modal-popup__cta-container privilege-pass-modal__double-buttons modal-popup__cta-container--double"},[i("button",{staticClass:"rf-button rf-button--primary rf-button--medium",class:{loading:e.isLoading},attrs:{type:"submit",disabled:e.isLoading}},[e._v(" "+e._s(e.$t("buy"))+" ")]),e._v(" "),i("button",{staticClass:"rf-button rf-button--secondary rf-button--medium",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])]),e._v(" "),i("div",{staticClass:"privilege-pass-modal__separator"}),e._v(" "),i("div",{staticClass:"privilege-pass-modal__buy-promo-title"},[i("p",{staticClass:"privilege-pass-modal__buy-promo-title__heading"},[e._v(" "+e._s(e.$t("privilege-pass-promo-line-1"))+" ")]),e._v(" "),i("p",{staticClass:"privilege-pass-modal__buy-promo-title__sub-heading"},[e._v(" "+e._s(e.$t("privilege-pass-promo-line-2"))+" ")])]),e._v(" "),i("ul",{staticClass:"privilege-pass-modal__benefits"},[i("li",{directives:[{name:"equal-height",rawName:"v-equal-height",value:e.isVisible,expression:"isVisible"}],staticClass:"privilege-pass-modal__benefits__benefit-box"},[i("i",{staticClass:"list__icon icon",class:{"icon__bundle-ancillary-seat-selection--blue":!e.extraPolicyInEffect,"icon__bundle-ancillary-seat-selection-excluding-premium-seats--large":e.extraPolicyInEffect}}),e._v(" "),i("div",{staticClass:"privilege-pass-modal__benefits__details"},[i("p",{staticClass:"privilege-pass-modal__benefits__text"},[i("strong",[e._v(e._s(e.$t("privilege-pass-box-1-title")))])]),e._v(" "),i("p",{staticClass:"privilege-pass-modal__benefits__text"},[e._v(" "+e._s(e.$t("privilege-pass-box-1-description"))+" ")])])]),e._v(" "),i("li",{directives:[{name:"equal-height",rawName:"v-equal-height",value:e.isVisible,expression:"isVisible"}],staticClass:"privilege-pass-modal__benefits__benefit-box"},[i("i",{staticClass:"list__icon icon icon__bundle-ancillary-priority-boarding--blue"}),e._v(" "),i("div",{staticClass:"privilege-pass-modal__benefits__details"},[i("p",{staticClass:"privilege-pass-modal__benefits__text"},[i("strong",[e._v(e._s(e.$t("privilege-pass-box-2-title")))])]),e._v(" "),i("p",{staticClass:"privilege-pass-modal__benefits__text"},[e._v(" "+e._s(e.$t("privilege-pass-box-2-description"))+" ")])])]),e._v(" "),i("li",{directives:[{name:"equal-height",rawName:"v-equal-height",value:e.isVisible,expression:"isVisible"}],staticClass:"privilege-pass-modal__benefits__benefit-box"},[i("i",{staticClass:"list__icon icon",class:{"icon__bundle-ancillary-small-personal-item--with-plus--blue":!e.extraPolicyInEffect,"icon icon__cabin-baggage--blue":e.extraPolicyInEffect}}),e._v(" "),i("div",{staticClass:"privilege-pass-modal__benefits__details"},[i("p",{staticClass:"privilege-pass-modal__benefits__text"},[i("strong",[e._v(e._s(e.extraPolicyInEffect?e.$t("free-carry-on-bag-text"):e.$t("privilege-pass-box-3-title")))])]),e._v(" "),i("p",{staticClass:"privilege-pass-modal__benefits__text"},[e._v(" "+e._s(e.extraPolicyInEffect?e.$t("carry-on-bag-size-only"):e.$t("privilege-pass-box-3-description"))+" ")])])]),e._v(" "),i("li",{directives:[{name:"equal-height",rawName:"v-equal-height",value:e.isVisible,expression:"isVisible"}],staticClass:"privilege-pass-modal__benefits__benefit-box"},[i("i",{staticClass:"list__icon icon",class:{"icon__bundle-ancillary-hand-baggage--with-thumbs-up--blue":!e.extraPolicyInEffect,"icon__priority-boarding-cabin-baggage--blue":e.extraPolicyInEffect}}),e._v(" "),i("div",{staticClass:"privilege-pass-modal__benefits__details"},[i("p",{staticClass:"privilege-pass-modal__benefits__text"},[i("strong",[e._v(e._s(e.extraPolicyInEffect?e.$t("trolley-bag-text"):e.$t("privilege-pass-buy-promo-box-hand-baggage-title")))])]),e._v(" "),i("p",{staticClass:"privilege-pass-modal__benefits__text"},[e._v(" "+e._s(e.extraPolicyInEffect?e.$t("trolley-bag-size-only"):e.$t("privilege-pass-buy-promo-box-hand-baggage-description"))+" ")])])])]),e._v(" "),i("div",{staticClass:"privilege-pass-modal__buy-footer"},[i("p",{staticClass:"privilege-pass-modal__buy-footer__title",domProps:{innerHTML:e._s(e.$t("privilege-pass-buy-footer-title",[e.formattedPrivilegePassPrice]))}}),e._v(" "),i("p",{staticClass:"privilege-pass-modal__buy-footer__url"},[i("a",{attrs:{href:e.privilegePassUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("more-info"))+" ")])])])],1)])}),[],!1,null,null,null).exports,ut={name:"Activation",inject:["$validator"],props:{iamTravelling:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1},email:{type:String,default:""},errorLabel:{type:String,default:""},errors:{type:Array,default:function(){return[]}}},computed:{emailInt:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}}},methods:{activate:function(){this.$emit("activate")},cancel:function(){this.$emit("cancel")}}},gt=Object(le.a)(ut,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"gutter-bottom"},[i("p",{staticClass:"heading privilege-pass-modal__pre-email-heading"},[e._v(" "+e._s(e.$t("privilege-pass-enter-email"))+" ")])]),e._v(" "),i("form",{on:{submit:function(t){return t.preventDefault(),e.activate(t)}}},[i("div",{directives:[{name:"input",rawName:"v-input"}],staticClass:"rf-input--large gutter-bottom"},[i("label",{staticClass:"rf-input__wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.emailInt,expression:"emailInt"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"rf-input__input",attrs:{type:"text",name:"email",disabled:e.iamTravelling,placeholder:e.$t("email-address"),"data-hj-masked":""},domProps:{value:e.emailInt},on:{input:function(t){t.target.composing||(e.emailInt=t.target.value)}}}),e._v(" "),i("label",{staticClass:"rf-input__label"},[e._v(e._s(e.$t("email-address")))])])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.errors.length>0,expression:"errors.length > 0"}],attrs:{"error-label":e.errorLabel}}),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.validatorErrors.has("email")&&0===e.errors.length,expression:"validatorErrors.has('email') && errors.length === 0"}],attrs:{"ext-validator-errors":e.validatorErrors,name:"email","error-label":"billing-email-invalid"}}),e._v(" "),i("div",{staticClass:"modal-popup__cta-container modal-popup__cta-container--double privilege-pass-modal__double-buttons"},[i("button",{staticClass:"rf-button rf-button--primary rf-button--medium",class:{loading:e.isLoading},attrs:{type:"submit",disabled:e.isLoading}},[e._v(" "+e._s(e.$t("activate"))+" ")]),e._v(" "),i("button",{staticClass:"rf-button rf-button--secondary rf-button--medium",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])])],1)])}),[],!1,null,null,null).exports;function ht(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function pt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ht(i,!0).forEach((function(t){se()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ht(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var bt={components:{Purchase:dt,Activation:gt},mixins:[B.a,Object(A.a)({bookingFlow_passengers_showPrivilegePassModal:"show",bookingFlow_passengers_removePrivilegePass:"handleRemovePrivilegePass"})],$_veeValidate:{validator:"new"},props:{isEcommerceTrackingDisabled:{type:Boolean,default:!1},isFlightChange:{type:Boolean,default:!1},passengers:{type:Array,required:!0},shouldAutoActivate:{type:Boolean,default:!0}},vuex:{getters:{user:function(e){return e.user},isLoggedIn:function(e){return e.user.isLoggedIn},booking:function(e){return e.booking},addServices:function(e){return e.addServices},analyticsExchangeRate:Y.b,isEmptyPayment:U.isEmptyPayment,amountDue:U.amountDue,webUserId:z.webUserId,userEmail:z.userEmail,metadata:Y.d,departureCurrencyCode:De.departureCurrencyCode},actions:{getAncillaries:S.f,modifyPrivilegePassAncillaries:S.i}},data:function(){return{isVisible:!1,isLoading:!1,state:"purchase",email:"",errors:[],passenger:{},privilegePassPrice:{},serviceCode:null,taskQueue:st.a.getInstance("taskQueue_itinerary")}},computed:{errorLabel:function(){return 0===this.errors.length||this.errors.length>0&&"PersonNotFound"===this.errors[0]?"pp-cannot-purchase":this.$te(this.errors[0])?this.errors[0]:"pp-cannot-purchase"},shouldActivatePrivilegePass:function(){return this.isLoggedIn&&this.user.profile&&Object(h.o)(this.user)&&this.passengers&&this.passengers.length&&this.passengers[0].iamTravelling&&!this.passengers[0].hasAppliedPrivilegePass&&!this.isFlightChange&&this.shouldAutoActivate},extraPolicyInEffect:function(){return l()(this.booking,"flights.outbound.ePie")||l()(this.booking,"flights.return.ePie")},privilegePassEmail:function(){return this.passenger.iamTravelling?this.webUserId&&this.userEmail!==this.webUserId?this.webUserId:this.userEmail:""}},watch:{state:function(){this.errors=[]},isVisible:function(e){if(e&&!this.isEcommerceTrackingDisabled){var t={type:"ancillary",metadata:this.metadata,data:{name:"privilegePass",code:this.serviceCode,flight:"outbound",category:"ancillary",analytics:{isDisabled:this.isEcommerceTrackingDisabled}}};Pe.measureProductDetails(t)}},"addServices.isInitialized":function(e){e&&this.init()}},mounted:function(){g.m()||this.init()},methods:{resetValidation:function(){this.$validator.reset()},handleRemovePrivilegePass:function(){var e,t,i,s=arguments;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},t=e.privilegePassInfo,i=e.onPrivilegePassRemovedCallback,this.passenger=this.passengers.find(Object(m.a)("passengerNumber",t.passengerNumber)),this.email=t.privilegePassEmail,r.next=6,a.a.awrap(this.removePrivilegePass(t));case 6:i();case 7:case"end":return r.stop()}}),null,this)},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passenger;this.isVisible=!0,this.passenger=t,this.email=this.passenger.iamTravelling?this.privilegePassEmail:"",this.errors=[]},hide:function(){this.isVisible=!1},addPrivilegePass:function(){this.modifyPrivilegePass("add")},removePrivilegePass:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(this.modifyPrivilegePass("remove",e));case 2:case"end":return t.stop()}}),null,this)},init:function(){var e,t,i,s,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=g.m()?null:this.departureCurrencyCode,o.next=3,a.a.awrap(Object(c.b)(this.taskQueue.enqueue(!0,at.n,e)));case 3:if(t=o.sent,i=n()(t,2),s=i[0],r=i[1],!s){o.next=9;break}return o.abrupt("return",this.onError(s));case 9:this.privilegePassPrice=r.data.price,r.data.code&&(this.serviceCode=r.data.code),this.maybeAutoActivate(),this.isEcommerceTrackingDisabled||this.trackImpression();case 13:case"end":return o.stop()}}),null,this)},modifyPrivilegePass:function(e,t){var i,s,r,o,l,d,u,h,b,m,f;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,a.a.awrap(Object(Ae.b)(this.$validator));case 2:if(i=v.sent,"add"!==e||i){v.next=5;break}return v.abrupt("return");case 5:return Object(p.b)("bookingFlow_passengers_startPassengerLoading",this.passenger.passengerNumber),s=Object(ve.a)(this.passenger,"firstName","lastName","gender","passengerNumber"),r=pt({privilegePassAction:e,privilegePassEmail:this.passenger.iamTravelling?this.privilegePassEmail:this.email},"add"===e?s:t),this.isLoading=!0,v.next=11,a.a.awrap(Object(c.b)(rt.w(r)));case 11:if(o=v.sent,l=n()(o,2),d=l[0],u=l[1],this.isLoading=!1,!d){v.next=20;break}return this.onError(d),Object(p.b)("bookingFlow_passengers_stopPassengerLoading",this.passenger.passengerNumber),v.abrupt("return");case 20:if(h={passengerNumber:this.passenger.passengerNumber,flights:u.data},this.modifyPrivilegePassAncillaries(h),this.passenger.alreadyHavePrivilegePass=u.data.alreadyHavePrivilegePass,this.passenger.privilegePassActivated="add"===e,this.passenger.privilegePassPrice=this.privilegePassPrice,this.passenger.privilegePassEmail=this.passenger.iamTravelling?this.privilegePassEmail:this.email,this.passenger.privilegePassActivatedFor={gender:this.passenger.gender,firstName:this.passenger.firstName,lastName:this.passenger.lastName},this.getAncillaries({withSummary:!0}).catch(this.onError),!(u.data.alreadyHavePrivilegePass&&"add"===e&&g.m()&&this.isEmptyPayment)){v.next=37;break}return v.next=32,a.a.awrap(Object(c.b)(ot.f()));case 32:b=v.sent,m=n()(b,1),(f=m[0])&&this.onError(f),window.location.reload(!0);case 37:this.hide(),Object(p.b)("bookingFlow_passengers_stopPassengerLoading",this.passenger.passengerNumber);case 39:case"end":return v.stop()}}),null,this)},maybeAutoActivate:function(){var e=this;this.shouldActivatePrivilegePass&&(this.passenger=this.passengers[0],this.email=this.privilegePassEmail,this.state="activation",this.$nextTick((function(){e.addPrivilegePass()})))},trackImpression:function(){var e=this;nt.j||this.passengers.filter(h.x).forEach((function(){var t=e.metadata;Pe.sendEcommerceViewItemListEventWithoutFormatting({id:Pe.getProductId({name:"privilegePass",code:e.serviceCode,type:"ancillary",metadata:t}),name:Pe.getProductName({name:"privilegePass",code:e.serviceCode,type:"ancillary",flight:"outbound",metadata:t}),category:"ancillary",list:u.q.get(u.Gg),price:Object(Ce.a)(l()(e,"privilegePassPrice.amount")*e.analyticsExchangeRate)})}))}}},mt=(i(1483),Object(le.a)(bt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("modal-new",{attrs:{"data-test":"privilege-pass",size:"large",title:e.$t("privilege-pass-title")},on:{close:e.hide}},[i("section",{staticClass:"privilege-pass-modal",attrs:{slot:"body"},slot:"body"},[e.passenger.privilegePassActivated?e._e():i("div",{staticClass:"rf-switch gutter-bottom"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],staticClass:"rf-switch__input",attrs:{id:"switch-option1",name:"switch",value:"purchase",type:"radio"},domProps:{checked:e._q(e.state,"purchase")},on:{change:[function(t){e.state="purchase"},e.resetValidation]}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{for:"switch-option1"}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t("buy-privilege-pass"))+" ")])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],staticClass:"rf-switch__input",attrs:{id:"switch-option2",name:"switch",value:"activation",type:"radio"},domProps:{checked:e._q(e.state,"activation")},on:{change:[function(t){e.state="activation"},e.resetValidation]}}),e._v(" "),i("label",{staticClass:"rf-switch__label",attrs:{for:"switch-option2"}},[i("span",{staticClass:"rf-switch__label__inner"},[e._v(" "+e._s(e.$t("already-have-one"))+" ")])])]),e._v(" "),"purchase"===e.state?i("purchase",{attrs:{"is-visible":e.isVisible,"iam-travelling":e.passenger.iamTravelling,"is-loading":e.isLoading,"extra-policy-in-effect":e.extraPolicyInEffect,email:e.email,"privilege-pass-price":e.privilegePassPrice,"error-label":e.errorLabel,errors:e.errors},on:{"update:email":function(t){e.email=t},buy:e.addPrivilegePass,cancel:e.hide}}):i("activation",{attrs:{"iam-travelling":e.passenger.iamTravelling,"is-loading":e.isLoading,email:e.email,"error-label":e.errorLabel,errors:e.errors},on:{"update:email":function(t){e.email=t},activate:e.addPrivilegePass,cancel:e.hide}})],1)]):e._e()}),[],!1,null,null,null).exports),ft=i(66),vt=i(32),_t={mixins:[Object(A.a)({bookingFlow_passengers_showReducedMobilityModal:"show"})],data:function(){return{isVisible:!1,passenger:{firstName:null,lastName:null,passengerType:null,passengerNumber:null,isPrmConsentAccepted:null,reducedMobility:Object(h.D)()},isPrmConsentErrorVisible:!1,isAssistanceNeededErrorVisible:!1,privacyNoticeUrl:window.urls.privacyPolicy,initialReducedMobilitySettings:null}},vuex:{getters:{numberOfPassengers:V.h,isRoundTrip:D.isRoundTrip,outboundWheelchairLimit:D.outboundWheelchairLimit,returnWheelchairLimit:D.returnWheelchairLimit,outboundWheelchairLimitExceeded:D.outboundWheelchairLimitExceeded,outboundWheelchairLimitCount:D.outboundWheelchairLimitCount,returnWheelchairLimitExceeded:D.returnWheelchairLimitExceeded,returnWheelchairLimitCount:D.returnWheelchairLimitCount},actions:{updatePassengerReducedMobility:W.h}},computed:{name:function(){var e=this.passenger;return Object(h.i)(e)||"".concat(e.passengerType," ").concat(e.passengerNumber+1)},reducedMobility:function(){return this.passenger.reducedMobility},isReducedMobility:function(){return Object(h.y)(this.passenger)},isWheelchairDisabled:function(){return this.isBlind||this.isDeaf},outboundWheelchairAvailableCount:function(){return 0===this.outboundWheelchairLimitCount?this.numberOfPassengers:(this.numberOfPassengers||0)-(this.outboundWheelchairLimitCount-0)},returnWheelchairAvailableCount:function(){return 0===this.returnWheelchairLimitCount?this.numberOfPassengers:(this.numberOfPassengers||0)-(this.returnWheelchairLimitCount-0)},wheelchairLimitExceeded:function(){return this.outboundWheelchairAvailableCount<=0||this.returnWheelchairAvailableCount<=0||this.outboundWheelchairLimitExceeded||this.returnWheelchairLimitExceeded},wheelchairLimitExceededErrorLabel:function(){return this.outboundWheelchairLimitExceeded&&this.returnWheelchairLimitExceeded?"wheelchair-limit-exceeded-for-both-flights":this.outboundWheelchairLimitExceeded?"OutboundFlightIsWheelchairLimitExceeded":this.returnWheelchairLimitExceeded?"ReturnFlightIsWheelchairLimitExceeded":this.wheelchairLimitExceeded?"wheelchair-limit-exceeded-for-these-flights":""},isInvalid:function(){return this.isBlind||this.isDeaf?Object(Ee.a)(this.reducedMobility.assistanceNeeded):!!(this.hasOwnWheelchair&&Object(Ee.a)(this.reducedMobility.wheelchairManualPowered)&&Object(Ee.a)(this.reducedMobility.wheelchairBatteryPowered))||Boolean(this.reducedMobility.wheelchairCanWalk&&this.reducedMobility.wheelchairCanAscendStairs)},isPrmModified:function(){return!Object(vt.a)(this.initialReducedMobilitySettings,this.passenger.reducedMobility)},isBlind:{get:function(){return this.reducedMobility.blind},set:function(e){this.reducedMobility.blind=e,e||this.isDeaf||(this.reducedMobility.assistanceNeeded=null,this.hasWheelchair=!1,this.reducedMobility.assistanceDog=!1)}},isDeaf:{get:function(){return this.reducedMobility.deaf},set:function(e){this.reducedMobility.deaf=e,e||this.isBlind||(this.reducedMobility.assistanceNeeded=null,this.hasWheelchair=!1,this.reducedMobility.assistanceDog=!1)}},isPrmConsentAccepted:{get:function(){return this.passenger.isPrmConsentAccepted},set:function(e){this.passenger.isPrmConsentAccepted=e,this.isPrmConsentErrorVisible=!Object(Ee.a)(e)&&!e}},hasWheelchair:{get:function(){return this.reducedMobility.wheelchair},set:function(e){this.reducedMobility.wheelchair=e,e?this.reducedMobility.assistanceDog=!1:(this.hasOwnWheelchair=null,this.reducedMobility.wheelchairCanWalk=null,this.reducedMobility.wheelchairCanAscendStairs=null)}},hasOwnWheelchair:{get:function(){return this.reducedMobility.hasOwnWheelchair},set:function(e){this.reducedMobility.hasOwnWheelchair=e,e||(this.reducedMobility.wheelchairManualPowered=null,this.reducedMobility.wheelchairBatteryPowered=null,this.reducedMobility.wheelchairImmobile=null)}}},watch:{reducedMobility:{handler:function(){!this.hasWheelchair||this.reducedMobility.wheelchairCanWalk||this.reducedMobility.wheelchairCanAscendStairs?this.reducedMobility.wheelchairImmobile=null:this.reducedMobility.wheelchairImmobile=!0},deep:!0},isVisible:function(e){e&&(this.isPrmConsentErrorVisible=!1,this.isAssistanceNeededErrorVisible=!1)},"reducedMobility.assistanceNeeded":function(e){null!==e&&(this.isAssistanceNeededErrorVisible=!1)},"passenger.isPrmConsentAccepted":function(e){null===e&&(this.isPrmConsentErrorVisible=!1),this.isPrmConsentErrorVisible=!e}},methods:{show:function(e){Object.assign(this.passenger,e),this.initialReducedMobilitySettings=Object(ft.a)(this.passenger.reducedMobility),this.isVisible=!0},hide:function(){this.isPrmModified&&this.save(),this.isVisible=!1},save:function(){if(!this.isReducedMobility||null!==this.reducedMobility.assistanceNeeded||this.reducedMobility.wheelchair)if(!this.isReducedMobility||this.isPrmConsentAccepted){if(!this.isInvalid){!this.isReducedMobility&&this.isPrmModified&&(this.isPrmConsentAccepted=null);var e={passengerNumber:this.passenger.passengerNumber,isPrmConsentAccepted:this.isPrmConsentAccepted,reducedMobility:this.passenger.reducedMobility};this.updatePassengerReducedMobility(e),this.isVisible=!1}}else this.isPrmConsentErrorVisible=!0;else this.isAssistanceNeededErrorVisible=!0}}},yt=(i(1484),Object(le.a)(_t,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("modal-new",{attrs:{"data-test":"reduced-mobility","data-test-close":"reduced-mobility-modal-modal-popup-icon",title:e.$t("reduced-mobility")},on:{close:e.hide}},[i("form",{staticClass:"reduced-mobility-modal",attrs:{slot:"body",name:"reduced-mobility-modal"},on:{submit:function(e){e.preventDefault()}},slot:"body"},[i("h4",{staticClass:"reduced-mobility-modal__content__heading"},[e._v(" "+e._s(e.$t("passenger-is-a",[e.name]))+" ")]),e._v(" "),e.hasWheelchair?e._e():[i("div",{staticClass:"reduced-mobility-modal__form"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isBlind,expression:"isBlind"}],staticClass:"rf-checkbox__input",attrs:{id:"lowVision",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.isBlind)?e._i(e.isBlind,null)>-1:e.isBlind},on:{change:function(t){var i=e.isBlind,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.isBlind=i.concat([null])):r>-1&&(e.isBlind=i.slice(0,r).concat(i.slice(r+1)))}else e.isBlind=a}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"lowVision"}}),e._v(" "),i("label",{attrs:{for:"lowVision"}},[e._v(" "+e._s(e.$t("low-vision-customer"))+" ")])])]),e._v(" "),e.isBlind?i("div",{staticClass:"reduced-mobility-modal__form"},[i("div",{staticClass:"reduced-mobility-modal__subform"},[i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.assistanceNeeded,expression:"reducedMobility.assistanceNeeded"}],staticClass:"rf-radio__input",attrs:{id:"redmob-assistance-needed",type:"radio",name:"blind-assistance-needed","data-hj-masked":""},domProps:{value:!0,checked:e._q(e.reducedMobility.assistanceNeeded,!0)},on:{change:function(t){return e.$set(e.reducedMobility,"assistanceNeeded",!0)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"redmob-assistance-needed"}}),e._v(" "),i("label",{attrs:{for:"redmob-assistance-needed"}},[e._v(" "+e._s(e.$t("need-assistance"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.assistanceNeeded,expression:"reducedMobility.assistanceNeeded"}],staticClass:"rf-radio__input",attrs:{id:"redmob-no-assistance-needed",type:"radio",name:"blind-assistance-needed","data-hj-masked":""},domProps:{value:!1,checked:e._q(e.reducedMobility.assistanceNeeded,!1)},on:{change:function(t){return e.$set(e.reducedMobility,"assistanceNeeded",!1)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"redmob-no-assistance-needed"}}),e._v(" "),i("label",{attrs:{for:"redmob-no-assistance-needed"}},[e._v(" "+e._s(e.$t("need-no-assistance"))+" ")])])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.isAssistanceNeededErrorVisible,expression:"isAssistanceNeededErrorVisible"}],attrs:{"error-label":"input-error-redmob-assistance-needed"}})],1):e._e(),e._v(" "),i("div",{staticClass:"reduced-mobility-modal__form"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isDeaf,expression:"isDeaf"}],staticClass:"rf-checkbox__input",attrs:{id:"hearingImpaired",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.isDeaf)?e._i(e.isDeaf,null)>-1:e.isDeaf},on:{change:function(t){var i=e.isDeaf,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.isDeaf=i.concat([null])):r>-1&&(e.isDeaf=i.slice(0,r).concat(i.slice(r+1)))}else e.isDeaf=a}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"hearingImpaired"}}),e._v(" "),i("label",{attrs:{for:"hearingImpaired"}},[e._v(" "+e._s(e.$t("hearing-impaired-customer"))+" ")])])]),e._v(" "),e.isDeaf?i("div",{staticClass:"reduced-mobility-modal__form"},[i("div",{staticClass:"reduced-mobility-modal__subform"},[i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.assistanceNeeded,expression:"reducedMobility.assistanceNeeded"}],staticClass:"rf-radio__input",attrs:{id:"deaf-assistance-needed",type:"radio",name:"deaf-assistance-needed","data-hj-masked":""},domProps:{value:!0,checked:e._q(e.reducedMobility.assistanceNeeded,!0)},on:{change:function(t){return e.$set(e.reducedMobility,"assistanceNeeded",!0)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"deaf-assistance-needed"}}),e._v(" "),i("label",{attrs:{for:"deaf-assistance-needed"}},[e._v(" "+e._s(e.$t("need-assistance"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.assistanceNeeded,expression:"reducedMobility.assistanceNeeded"}],staticClass:"rf-radio__input",attrs:{id:"deaf-no-assistance-needed",type:"radio",name:"deaf-assistance-needed","data-hj-masked":""},domProps:{value:!1,checked:e._q(e.reducedMobility.assistanceNeeded,!1)},on:{change:function(t){return e.$set(e.reducedMobility,"assistanceNeeded",!1)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"deaf-no-assistance-needed"}}),e._v(" "),i("label",{attrs:{for:"deaf-no-assistance-needed"}},[e._v(" "+e._s(e.$t("need-no-assistance"))+" ")])])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.isAssistanceNeededErrorVisible,expression:"isAssistanceNeededErrorVisible"}],attrs:{"error-label":"input-error-redmob-assistance-needed"}})],1):e._e()],e._v(" "),e.wheelchairLimitExceeded?i("error-notice",{attrs:{errors:[e.wheelchairLimitExceededErrorLabel],compact:!0}}):e._e(),e._v(" "),e.outboundWheelchairAvailableCount>0?i("p",{staticClass:"info-box"},[e._v(" "+e._s(e.$t("wheelchair-limit-count-information-outbound",[e.outboundWheelchairAvailableCount]))+" ")]):e._e(),e._v(" "),e.isRoundTrip&&e.returnWheelchairAvailableCount>0?i("p",{staticClass:"info-box"},[e._v(" "+e._s(e.$t("wheelchair-limit-count-information-return",[e.returnWheelchairAvailableCount]))+" ")]):e._e(),e._v(" "),e.isWheelchairDisabled?e._e():i("div",{staticClass:"reduced-mobility-modal__form"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hasWheelchair,expression:"hasWheelchair"}],staticClass:"rf-checkbox__input",attrs:{id:"wheelchair",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.hasWheelchair)?e._i(e.hasWheelchair,null)>-1:e.hasWheelchair},on:{change:function(t){var i=e.hasWheelchair,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.hasWheelchair=i.concat([null])):r>-1&&(e.hasWheelchair=i.slice(0,r).concat(i.slice(r+1)))}else e.hasWheelchair=a}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"wheelchair"}}),e._v(" "),i("label",{attrs:{for:"wheelchair"}},[e._v(" "+e._s(e.$t("wheelchair-assisted-customer"))+" ")])]),e._v(" "),e.hasWheelchair?i("div",{staticClass:"reduced-mobility-modal__subform"},[i("h3",{staticClass:"reduced-mobility-modal__heading heading heading--5"},[e._v(" "+e._s(e.$t("has-own-wheelchair"))+" ")]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hasOwnWheelchair,expression:"hasOwnWheelchair"}],staticClass:"rf-radio__input",attrs:{id:"has-own-wheelchair-no",type:"radio",name:"has-own-wheelchair","data-hj-masked":""},domProps:{value:!1,checked:e._q(e.hasOwnWheelchair,!1)},on:{change:function(t){e.hasOwnWheelchair=!1}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"has-own-wheelchair-no"}}),e._v(" "),i("label",{attrs:{for:"has-own-wheelchair-no"}},[e._v(" "+e._s(e.$t("faq-no"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hasOwnWheelchair,expression:"hasOwnWheelchair"}],staticClass:"rf-radio__input",attrs:{id:"has-own-wheelchair-yes",type:"radio",name:"has-own-wheelchair","data-hj-masked":""},domProps:{value:!0,checked:e._q(e.hasOwnWheelchair,!0)},on:{change:function(t){e.hasOwnWheelchair=!0}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"has-own-wheelchair-yes"}}),e._v(" "),i("label",{attrs:{for:"has-own-wheelchair-yes"}},[e._v(" "+e._s(e.$t("faq-yes"))+" ")])]),e._v(" "),e.hasOwnWheelchair?i("div",{staticClass:"reduced-mobility-modal__subsubform"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairBatteryPowered,expression:"reducedMobility.wheelchairBatteryPowered"}],staticClass:"rf-checkbox__input",attrs:{id:"wheelchair-manual",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.reducedMobility.wheelchairBatteryPowered)?e._i(e.reducedMobility.wheelchairBatteryPowered,null)>-1:e.reducedMobility.wheelchairBatteryPowered},on:{change:[function(t){var i=e.reducedMobility.wheelchairBatteryPowered,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&e.$set(e.reducedMobility,"wheelchairBatteryPowered",i.concat([null])):r>-1&&e.$set(e.reducedMobility,"wheelchairBatteryPowered",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.reducedMobility,"wheelchairBatteryPowered",a)},function(t){e.reducedMobility.wheelchairManualPowered=!1}]}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"wheelchair-manual"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-manual"}},[e._v(" "+e._s(e.$t("wheelchair-wbcd"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairManualPowered,expression:"reducedMobility.wheelchairManualPowered"}],staticClass:"rf-checkbox__input",attrs:{id:"wheelchair-battery",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.reducedMobility.wheelchairManualPowered)?e._i(e.reducedMobility.wheelchairManualPowered,null)>-1:e.reducedMobility.wheelchairManualPowered},on:{change:[function(t){var i=e.reducedMobility.wheelchairManualPowered,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&e.$set(e.reducedMobility,"wheelchairManualPowered",i.concat([null])):r>-1&&e.$set(e.reducedMobility,"wheelchairManualPowered",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.reducedMobility,"wheelchairManualPowered",a)},function(t){e.reducedMobility.wheelchairBatteryPowered=!1}]}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"wheelchair-battery"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-battery"}},[e._v(" "+e._s(e.$t("wheelchair-wcmp"))+" ")])])]):e._e(),e._v(" "),i("h3",{staticClass:"reduced-mobility-modal__heading heading heading--5"},[e._v(" "+e._s(e.$t("can-walk-stairs"))+" ")]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairCanAscendStairs,expression:"reducedMobility.wheelchairCanAscendStairs"}],staticClass:"rf-radio__input",attrs:{id:"wheelchair-cant-ascend-stairs",type:"radio",name:"wheelchair-can-ascend-stairs","data-hj-masked":""},domProps:{value:!1,checked:e._q(e.reducedMobility.wheelchairCanAscendStairs,!1)},on:{change:function(t){return e.$set(e.reducedMobility,"wheelchairCanAscendStairs",!1)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"wheelchair-cant-ascend-stairs"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-cant-ascend-stairs"}},[e._v(" "+e._s(e.$t("faq-no"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairCanAscendStairs,expression:"reducedMobility.wheelchairCanAscendStairs"}],staticClass:"rf-radio__input",attrs:{id:"wheelchair-can-ascend-stairs",type:"radio",name:"wheelchair-can-ascend-stairs","data-hj-masked":""},domProps:{value:!0,checked:e._q(e.reducedMobility.wheelchairCanAscendStairs,!0)},on:{change:function(t){return e.$set(e.reducedMobility,"wheelchairCanAscendStairs",!0)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"wheelchair-can-ascend-stairs"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-can-ascend-stairs"}},[e._v(" "+e._s(e.$t("faq-yes"))+" ")])]),e._v(" "),!1===e.reducedMobility.wheelchairCanAscendStairs?i("div",[i("h3",{staticClass:"reduced-mobility-modal__heading heading heading--5"},[e._v(" "+e._s(e.$t("can-walk-cabin"))+" ")]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairCanWalk,expression:"reducedMobility.wheelchairCanWalk"}],staticClass:"rf-radio__input",attrs:{id:"wheelchair-cant-walk",type:"radio",name:"wheelchair-can-walk","data-hj-masked":""},domProps:{value:!1,checked:e._q(e.reducedMobility.wheelchairCanWalk,!1)},on:{change:function(t){return e.$set(e.reducedMobility,"wheelchairCanWalk",!1)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"wheelchair-cant-walk"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-cant-walk"}},[e._v(" "+e._s(e.$t("faq-no"))+" ")])]),e._v(" "),i("span",{staticClass:"rf-radio rf-radio--on-left reduced-mobility-modal__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.wheelchairCanWalk,expression:"reducedMobility.wheelchairCanWalk"}],staticClass:"rf-radio__input",attrs:{id:"wheelchair-can-walk",type:"radio",name:"wheelchair-can-walk","data-hj-masked":""},domProps:{value:!0,checked:e._q(e.reducedMobility.wheelchairCanWalk,!0)},on:{change:function(t){return e.$set(e.reducedMobility,"wheelchairCanWalk",!0)}}}),e._v(" "),i("label",{staticClass:"rf-radio__label",attrs:{for:"wheelchair-can-walk"}}),e._v(" "),i("label",{attrs:{for:"wheelchair-can-walk"}},[e._v(" "+e._s(e.$t("faq-yes"))+" ")])])]):e._e()]):e._e()]),e._v(" "),e.isBlind||e.isDeaf?i("div",{staticClass:"reduced-mobility-modal__form"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.reducedMobility.assistanceDog,expression:"reducedMobility.assistanceDog"}],staticClass:"rf-checkbox__input",attrs:{id:"dog-companion",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.reducedMobility.assistanceDog)?e._i(e.reducedMobility.assistanceDog,null)>-1:e.reducedMobility.assistanceDog},on:{change:function(t){var i=e.reducedMobility.assistanceDog,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&e.$set(e.reducedMobility,"assistanceDog",i.concat([null])):r>-1&&e.$set(e.reducedMobility,"assistanceDog",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.reducedMobility,"assistanceDog",a)}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"dog-companion"}}),e._v(" "),i("label",{attrs:{for:"dog-companion"}},[e._v(" "+e._s(e.$t("companion-dog"))+" ")])])]):e._e(),e._v(" "),e.isReducedMobility?[i("div",{staticClass:"reduced-mobility-modal__assistance-info"},[i("h3",{staticClass:"heading heading--3 reduced-mobility-modal__assistance-info__heading"},[e._v(" "+e._s(e.$t("call-our-call-center-after-booking"))+" ")]),e._v(" "),i("p",[e._v(" "+e._s(e.$t("its-required-for-redmob-assistance"))+" ")]),e._v(" "),i("p",[i("a",{staticClass:"content__link1",attrs:{href:e.$root.safeGetUrl("specialAssistance"),target:"_blank"}},[e._v(e._s(e.$t("more-info")))])]),e._v(" "),i("div",{staticClass:"reduced-mobility-modal__form reduced-mobility-modal__form--consent rf-checkbox__error-wrap"},[i("span",{staticClass:"rf-checkbox rf-checkbox--on-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isPrmConsentAccepted,expression:"isPrmConsentAccepted"}],staticClass:"rf-checkbox__input",attrs:{id:"consent",type:"checkbox","data-hj-masked":""},domProps:{checked:Array.isArray(e.isPrmConsentAccepted)?e._i(e.isPrmConsentAccepted,null)>-1:e.isPrmConsentAccepted},on:{change:function(t){var i=e.isPrmConsentAccepted,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=e._i(i,null);s.checked?r<0&&(e.isPrmConsentAccepted=i.concat([null])):r>-1&&(e.isPrmConsentAccepted=i.slice(0,r).concat(i.slice(r+1)))}else e.isPrmConsentAccepted=a}}}),e._v(" "),i("label",{staticClass:"rf-checkbox__label",attrs:{for:"consent"}}),e._v(" "),i("label",{attrs:{for:"consent"},domProps:{innerHTML:e._s(e.$t("prm-modal-privacy-notice-consent",[e.privacyNoticeUrl]))}})])]),e._v(" "),i("input-error",{directives:[{name:"show",rawName:"v-show",value:e.isPrmConsentErrorVisible,expression:"isPrmConsentErrorVisible"}],attrs:{name:"privacy-policy"}}),e._v(" "),i("div",{staticClass:"modal-popup__cta-container reduced-mobility-modal__footer"},[i("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",attrs:{type:"button"},on:{click:e.save}},[e._v(" "+e._s(e.$t("ok"))+" ")])])],1)]:e._e()],2)]):e._e()}),[],!1,null,null,null).exports),Pt=function(e,t){return e.filter((function(e){return e.firstName&&e.lastName&&e.firstName===t.firstName&&e.lastName===t.lastName&&(Object(h.u)(e)&&Object(h.u)(t)||t.gender&&t.gender===e.gender)})).length>1},wt={filters:{visiblePassenger:function(){var e=this.$store.state.booking.visiblePassengerNumber;return null!==e?this.passengers.filter(Object(m.a)("passengerNumber",e)):this.passengers}},components:{CopyData:ge,Passenger:He,Infant:function(){return Promise.all([i.e(0),i.e(101)]).then(i.bind(null,1943))},PrivilegePassModal:mt,ReducedMobilityModal:yt,BundleUpsell:function(){return i.e(100).then(i.bind(null,2011))},AncillaryRecommendation:et,AncillaryRecommendationAccepted:it},mixins:[Object(A.a)({bookingFlow_passengers_startPassengerLoading:"handleStartPassengerLoading",bookingFlow_passengers_stopPassengerLoading:"handleStopPassengerLoading",bookingFlow_passengers_passengerValidityChange:"handlePassengerValidityChange",bookingFlow_passengers_triggerSubmit:"submit",bookingFlow_stopPassengersLoading:"handleStopPassengersLoading"}),B.a],vuex:{getters:{booking:D.booking,fares:D.fares,user:z.user,isFareLockAdded:U.isFareLockAdded,isAncillaryPostPending:I.p,normalBookingFlights:D.flights,itineraryFlights:L.flights,isFlightChangeFlow:D.isFlightChangeFlow,outboundBundle:D.outboundBundle,returnBundle:D.returnBundle,outboundWdc:D.outboundWdc,returnWdc:D.returnWdc,hasOutboundLeg:D.hasOutboundLeg,isFareLockFinalizeFlow:D.isFareLockFinalizeFlow,isGroupBooking:D.isGroupBooking,passengersPassengers:V.j,activePassengerNumber:E,isBundleUpsellAvailable:T.b,canQueryBundleUpsellInfo:T.a,passengersPassengersWithAncillaries:U.passengersPassengersWithAncillaries,isPassengersAccordionAvailable:V.f,floodlightVariables:Y.c,isSeatPricesChangedModalVisible:R.C,reducedMobilityPassengers:V.k,areAnySeatSelectedOnEitherFlight:U.areAnySeatSelectedOnEitherFlight,shouldShowSeatSelectionAfterFlightSelect:Z.A,numberOfPassengersWithPrivilegePass:V.i,isBundleUpgraded:M.isBundleUpgraded,seatsTotal:U.seatsTotal,isLoggedInAfterSelect:D.isLoggedInAfterSelect,checkedInBaggageRecommendation:I.f,cabinBaggageRecommendation:I.e,hasAncillaryRecommendation:I.h,isBaggageRecommendationEnabled:Z.d,exchangeRate:Y.b},actions:{setSavedPassengerDetails:W.e,flightSelectUpgradeBundle:$.D,fetchBundleUpsell:G.a,setPostUpgradeInfo:G.m,resetPostUpgradeInfo:G.g,updatePassenger:W.g,updatePassengersAccordionState:W.i,setSeatsPricesChangedModalVisibility:j.I,setSeatSelectionConfirmation:q.L,resetAllFlightSeats:S.p,getAncillaries:S.f,handleAncillaries:S.h}},props:{isNewItinerary:{type:Boolean,default:!1},isCheckInFlow:{type:Boolean,default:!1},isFlightChange:{type:Boolean,default:!1},isEmbedded:{type:Boolean,default:!1},bookingErrors:{type:Array,default:function(){return[]}},onSubmit:{type:Function,default:function(){}},validator:{type:Object,default:function(){return{}}},isNewBookingFlow:{type:Boolean,default:!1},isAddServicesFlow:{type:Boolean,default:!1},isRoundTrip:{type:Boolean,default:!1},isAfterStep:{type:Boolean,default:!1},isAtOrBeforeStep:{type:Boolean,default:!1},currentStep:{type:String,default:u.Fg}},data:function(){return{isAPassengerLoading:!1,arePassengersValid:null,isLoading:!1,STEP_PASSENGERS:u.Gg,isBundleUpgradeFailed:!1,hasAnyInfantAssignmentError:!1,INFO_MODAL_NAME:"seats-prices-changed",isAncillaryRecommendationSkipped:!1,isAncillaryRecommendationPending:!1,isRecommendationAccepted:!1,isSelectedAnimationEnd:!1}},computed:{independentPassengers:function(){return this.passengers.filter(h.x)},passengers:function(){return this.isAddServicesFlow&&!this.isNewItinerary?this.passengersPassengers.filter(Object(m.a)("passengerNumber",this.activePassengerNumber)):this.passengersPassengers},hasAnyPassengerPrivilegePassActivated:function(){return this.passengers.some(Object(m.a)("privilegePassActivated",!0))},flights:function(){return this.isAddServicesFlow?this.itineraryFlights:this.normalBookingFlights},mergedErrors:function(){return this.bookingErrors.concat(this.errors),this.bookingErrors.reduce((function(e,t){return e.push(t.split(/-(?=\d+$)/)[0]),e}),[])},isPrivilegePassHandlerAllowed:function(){return(!this.isGroupBooking||!this.isNewBookingFlow)&&!this.isFareLockAdded},isSubmitButtonLoading:function(){return this.isLoading||this.isAncillaryPostPending},isSubmitDisabled:function(){var e=this.arePassengersValid,t=this.isLoading,i=this.duplicates,s=this.isAPassengerLoading,a=this.isAncillaryPostPending;return this.isFareLockAdded&&null===e&&(e=!0),t||i||s||a},showPassengersNotice:function(){return this.isGroupBooking&&!g.m()&&!this.isFlightChange},duplicates:function(){var e=this;return Boolean(this.passengers.filter((function(t){return e.isDuplicate(t)})).length)},isAnyWdcPriceSelected:function(){return this.outboundWdc||this.returnWdc},firstPassenger:function(){return Object(f.a)(this.passengers)},numberOfIndependentPassengers:function(){return this.independentPassengers.length},infoModalContent:function(){var e=this.reducedMobilityPassengers.length>0,t=this.numberOfIndependentPassengers;return e&&1===t?this.$t("seat-price-changed-prm-1"):e&&2===t?this.$t("seat-price-changed-prm-2"):e&&t>=3?this.$t("seat-price-changed-prm-more"):this.isBundleUpgraded?this.infoModalTextInCaseOfBundleUpsell:this.infoModalTextInCaseOfPrivilagePass},infoModalTextInCaseOfBundleUpsell:function(){return 0===this.seatsTotal.amount?this.$t("seat-price-changed-bundle-upsell-zero"):this.$t("seat-price-changed-bundle-upsell-decreased")},infoModalTextInCaseOfPrivilagePass:function(){return 1===this.numberOfPassengersWithPrivilegePass?this.$t("seat-price-changed-privilege-pass-one"):this.$t("seat-price-changed-privilege-pass-more")},infoModalTitle:function(){return this.$t("seat-price-changed")},seatSelectionPrivilegePassCase:function(){return this.numberOfPassengersWithPrivilegePass>0&&this.areAnySeatSelectedOnEitherFlight},seatSelectionRedMobCase:function(){return this.reducedMobilityPassengers.length>0||this.reducedMobilityPassengers.length>0&&!this.areAnySeatSelectedOnEitherFlight},shouldShowSeatSelectionAgain:function(){return!this.isFareLockFinalizeFlow&&(this.seatSelectionPrivilegePassCase||this.seatSelectionRedMobCase)},shouldShowSeatPriceChangedInfoModal:function(){return!this.isFareLockFinalizeFlow&&(this.seatSelectionPrivilegePassCase||this.isBundleUpgraded||this.seatSelectionRedMobCase)},continueButtonTitle:function(){return!this.isPassengersAccordionAvailable||this.isFareLockAdded||!this.shouldShowSeatSelectionAgain&&this.shouldShowSeatSelectionAfterFlightSelect?this.$t("continue"):this.$t("continue-to-seats")},shouldAutoActivatePrivilegePass:function(){return this.currentStep!==u.Dg},isAncillaryRecommendationVisible:function(){return this.isBaggageRecommendationEnabled&&this.hasAncillaryRecommendation&&!this.isAncillaryRecommendationSkipped&&!this.isRecommendationAccepted}},watch:{errors:function(e){e&&e.length&&(this.isLoading=!1)}},created:function(){this.canQueryBundleUpsellInfo&&this.fetchBundleUpsell()},mounted:function(){this.updatePassengersAccordionState(),this.isNewBookingFlow?d.fulfillCondition(u.Tg,"READY"):(d.fulfillCondition(u.hh,"PASSENGERS"),d.fulfillCondition(u.hh,"SERVICES"))},methods:{isNotInfant:h.x,onInfantAssignmentErrorUpdate:function(e){this.hasAnyInfantAssignmentError=e},handlePassengerValidityChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passengerNumber,i=e.component,s=e.isValid,a=e.isInfant;this._passengerValidity=this._passengerValidity||[],this._passengerValidity[t]=this._passengerValidity[t]||{},this._passengerValidity[t][i]=s,this.arePassengersValid=(a||Object(k.a)(t))&&s&&this._passengerValidity.every((function(e){return Object.keys(e).every((function(t){return e[t]}))}))},handleStopPassengersLoading:function(){this.isLoading=!1},handleStartPassengerLoading:function(){this.isAPassengerLoading=!0},handleStopPassengerLoading:function(){this.isAPassengerLoading=!1},findFirstInvalidPassenger:function(){var e;return(this._passengerValidity||[]).some((function(t,i){if(!Object.keys(t).every((function(e){return t[e]})))return e=i,!0})),e},submit:function(){if(this.isNewBookingFlow&&d.startTracking(u.Vg),null!==this.arePassengersValid&&!this.arePassengersValid&&!l()(this,"validator.passengers.isValid")){var e=this.findFirstInvalidPassenger();return this.isPassengersAccordionAvailable&&0!==e?this.goToNextPassenger(e-1):Object(H.a)("passenger-".concat(e)),this.validatePassengers(),void this.showFillErrorToNextPassenger(e)}if(!this.user.isLoggedIn)return this.showLogin();this.floodlightSendEventTracking(),this.isLoading=!0,this.shouldShowSeatSelectionAfterFlightSelect?this.handlePossibleSeatPriceChanging():this.onSubmit(this.stopLoadingAndRefreshAncillaries,this.stopLoadingAndRefreshAncillaries)},floodlightSendEventTracking:function(){Object(b.b)({params:Object(w.a)(["pageUrl","departureStation","arrivalStation","departureDate","returnDate","selectedPackagePrice","numberOfPassengers","isUserLoggedIn","hasPriorityBoarding","hasWizzFamily","cabinBaggageType","hasCheckInBaggage","checkInBaggagePrice"],this.floodlightVariables),sendTo:u.Tc})},stopLoadingAndRefreshAncillaries:function(){this.isLoading=!1,this.getAncillaries({withSummary:!0})},validatePassengers:function(){var e=this,t=Object(P.a)(0,this.passengers.length);return Object(v.a)(Object(_.a)((function(e){return e.validate()})),Object(y.a)((function(t){return e.$refs["passenger".concat(t)]})))(t)},isDuplicate:function(e){return Pt(this.passengers,e)},showLogin:function(){Object(p.b)("state_showLoginModal",{openingSource:"Booking flow"})},restart:function(){this.isBundleUpgradeFailed=!1,this.$emit("restart")},onBundleUpgrade:function(e){var t,i,s,r,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.bundlesToUpgrade,i=e.isUpgrade,this.setSavedPassengerDetails(),l.next=4,a.a.awrap(Object(C.a)());case 4:return this.isLoading=!0,l.next=7,a.a.awrap(Object(c.a)(this.flightSelectUpgradeBundle({bundlesToUpgrade:t})));case 7:s=l.sent,r=n()(s,1),o=r[0],this.updatePassengersAccordionState(),i?this.setPostUpgradeInfo(u.Gg,t):this.resetPostUpgradeInfo(),this.isLoading=!1,o&&(this.onError(o),this.isBundleUpgradeFailed=!0,Object(H.a)("passengers-restart-btn"),this.resetPostUpgradeInfo());case 14:case"end":return l.stop()}}),null,this)},goToNextPassenger:function(e){this.resetFillErrorToNextPassenger();var t=!1,i=this.passengers.find((function(t){return t.passengerNumber===e+1}));i&&(t=i.isPanelSummaryVisible),this.updatePassenger({isInfant:!1,passenger:{passengerNumber:e,isPanelExpanded:!1,isPanelSummaryVisible:!0}}),t||this.updatePassenger({isInfant:!1,passenger:{passengerNumber:e+1,isPanelExpanded:!0}}),Object(Q.j)(document.getElementById("passenger-".concat(e)),!1,500,null,-90)},showFillErrorToNextPassenger:function(e){var t=this.$refs["passenger".concat(e+1)];t&&(t[0].isExpandErrorVisible=!0)},resetFillErrorToNextPassenger:function(){var e=this,t=Object(P.a)(0,this.passengers.length);return Object(v.a)(Object(_.a)((function(e){return e.isExpandErrorVisible=!1})),Object(y.a)((function(t){return e.$refs["passenger".concat(t)]})))(t)},onPassengerClick:function(e){var t,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(0!==e){s.next=2;break}return s.abrupt("return");case 2:return t=this.$refs["passenger".concat(e)],i=this.$refs["passenger".concat(e-1)],s.next=6,a.a.awrap(i[0].validate());case 6:s.sent?this.goToNextPassenger(e-1):t[0].isExpandErrorVisible=!0;case 8:case"end":return s.stop()}}),null,this)},handlePossibleSeatPriceChanging:function(){if(this.shouldShowSeatPriceChangedInfoModal&&this.setSeatsPricesChangedModalVisibility(!0),this.shouldShowSeatSelectionAgain&&this.setSeatSelectionConfirmation(),!this.shouldShowSeatPriceChangedInfoModal)return this.shouldShowSeatSelectionAgain&&Object(K.a)(),this.onSubmit(this.stopLoadingAndRefreshAncillaries,this.stopLoadingAndRefreshAncillaries)},closeSeatPriceChangedModal:function(){this.setSeatsPricesChangedModalVisibility(!1),Object(K.a)(),this.onSubmit(this.stopLoadingAndRefreshAncillaries,this.stopLoadingAndRefreshAncillaries)},updateRecommendationAccepted:function(e){this.isRecommendationAccepted=e,this.trackRecommendation("Change baggages")},onAncillaryRecommendationAccept:function(e){var t,i,s,r,o=this;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(this.isAncillaryRecommendationPending=!0,t=null,this.passengersPassengers.forEach((function(e){var i=o.checkedInBaggageRecommendation.option,s=o.cabinBaggageRecommendation.isPriorityBoardingOffered,a={baggage:i,priorityBoarding:s},r=o.isRoundTrip?{baggage:i,priorityBoarding:s}:{},n={passengerNumber:e.passengerNumber,outboundFlight:a,returnFlight:r};t=o.handleAncillaries(n)})),!t){l.next=14;break}return this.isRecommendationAccepted=!0,l.next=7,a.a.awrap(Object(c.a)(t));case 7:if(i=l.sent,s=n()(i,1),r=s[0],this.isAncillaryRecommendationPending=!1,!r){l.next=14;break}return this.isRecommendationAccepted=!1,l.abrupt("return",this.onError(r));case 14:this.isAncillaryRecommendationPending=!1,this.trackRecommendation("Accept recommendation",e);case 16:case"end":return l.stop()}}),null,this)},onAncillaryRecommendationSkip:function(e){this.isAncillaryRecommendationSkipped=!0,this.trackRecommendation("Skip recommendation",e)},trackRecommendation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i="Baggage recommendation",s="Click",a=e,r=Object(X.a)(t*(this.exchangeRate||1));Object(J.j)(i,s,a,!1,r)},afterEnter:function(){this.isSelectedAnimationEnd=!0}}};i(1485);i.d(t,"isDuplicatePax",(function(){return Pt}));var kt=Object(le.a)(wt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"booking-flow__step booking-flow__step--passengers booking-flow__passengers--desktop-tabs container",class:{"booking-flow__step--embedded":e.isEmbedded},attrs:{id:"booking-flow-step-passengers","data-test":"booking-flow-step-passengers","data-summary-section":"passengers"}},[i("div",[i("form",{attrs:{name:"passengers-form","data-test":"booking-flow-passengers-form",novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit()}}},[e.isEmbedded?e._e():i("h2",{staticClass:"booking-flow__step__title heading heading--1"},[e._v(" "+e._s(e.$t("passengers-and-baggages-title"))+" ")]),e._v(" "),e.isFareLockAdded?i("div",{staticClass:"booking-flow__section booking-flow__small-section"},[e._m(0),e._v(" "),i("div",{staticClass:"booking-flow__small-section__content"},[i("h1",{staticClass:"booking-flow__small-section__content__title"},[e._v(" "+e._s(e.$t("fare-lock-added-passengers-title"))+" ")]),e._v(" "),i("p",{staticClass:"booking-flow__small-section__content__text",domProps:{innerHTML:e._s(e.isAnyWdcPriceSelected?e.$t("fare-lock-added-passengers-text-wdc"):e.$t("fare-lock-added-passengers-text"))}})])]):e._e(),e._v(" "),e.showPassengersNotice?i("div",{staticClass:"notice notice--alternate"},[e._v(" "+e._s(e.$t("group-booking-passengers-notice-2"))+" ")]):e._e(),e._v(" "),i("transition",{attrs:{name:"fade-recommendation",mode:"out-in"},on:{"after-enter":e.afterEnter}},[e.isAncillaryRecommendationVisible?i("ancillary-recommendation",{key:"recommendation",attrs:{"is-pending":e.isAncillaryRecommendationPending},on:{accept:e.onAncillaryRecommendationAccept,skip:e.onAncillaryRecommendationSkip}}):e._e(),e._v(" "),e.isRecommendationAccepted?i("ancillary-recommendation-accepted",{key:"accepted",attrs:{"is-selected-animation-end":e.isSelectedAnimationEnd}}):e._e()],1),e._v(" "),e._l(e.passengers,(function(t,s){return e.isNotInfant(t)?i("passenger",{key:s,ref:"passenger"+s,refInFor:!0,attrs:{index:s,"current-step":e.currentStep,"is-after-passengers":e.isAfterStep,passenger:t,"passengers-with-ancillaries":e.passengersPassengersWithAncillaries,"is-duplicate":e.isDuplicate(t),"is-ecommerce-tracking-disabled":e.isAfterStep,"is-group-booking":e.isGroupBooking,"is-add-services-flow":e.isAddServicesFlow,"is-check-in-flow":e.isCheckInFlow,"is-round-trip":e.isRoundTrip,"can-query-bundle-upsell-info":e.canQueryBundleUpsellInfo,"is-parent-loading":e.isLoading,"is-new-itinerary":e.isNewItinerary,"number-of-independent-passengers":e.numberOfIndependentPassengers,"has-outbound-leg":e.hasOutboundLeg,"is-passengers-accordion-enabled":e.isPassengersAccordionAvailable,"is-recommendation-accepted":e.isRecommendationAccepted},on:{"update:is-recommendation-accepted":e.updateRecommendationAccepted,"upgrade-bundle":e.onBundleUpgrade,"goto-next-passenger":e.goToNextPassenger,"passenger-click":e.onPassengerClick}}):i("infant",{key:s,ref:"passenger"+s,attrs:{passenger:t,"is-parent-loading":e.isLoading,"has-any-infant-assignment-error":e.hasAnyInfantAssignmentError},on:{"update-infant-assignment-error":e.onInfantAssignmentErrorUpdate}})})),e._v(" "),e.isBundleUpsellAvailable?i("bundle-upsell",{on:{"upgrade-bundle":e.onBundleUpgrade}}):e._e(),e._v(" "),i("error-notice",{attrs:{errors:e.mergedErrors}}),e._v(" "),e.isAtOrBeforeStep&&!e.isEmbedded?[i("div",{staticClass:"booking-flow__cta-container"},[e.isBundleUpgradeFailed?i("button",{staticClass:"rf-button rf-button--medium rf-button--primary",attrs:{id:"passengers-restart-btn","data-test":"passengers-restart-btn"},on:{click:e.restart}},[e._v(" "+e._s(e.$t("restart"))+" ")]):i("button",{staticClass:"rf-button rf-button--medium rf-button--primary",class:{loading:e.isSubmitButtonLoading},attrs:{id:"passengers-continue-btn","data-test":"passengers-continue-btn",type:"submit",disabled:e.isSubmitDisabled}},[e._v(" "+e._s(e.continueButtonTitle)+" ")])])]:e._e()],2)]),e._v(" "),e.passengers.length&&!e.isEmbedded?[e.passengers.length>1?i("copy-data",{attrs:{"can-query-bundle-upsell-info":e.canQueryBundleUpsellInfo}}):e._e()]:e._e(),e._v(" "),i("reduced-mobility-modal"),e._v(" "),e.isPrivilegePassHandlerAllowed?i("privilege-pass-modal",{attrs:{"is-flight-change":e.isFlightChange,"is-ecommerce-tracking-disabled":e.isAfterStep,passengers:e.passengers,"should-auto-activate":e.shouldAutoActivatePrivilegePass}}):e._e(),e._v(" "),e.isSeatPricesChangedModalVisible?i("modal-new",{attrs:{"data-test":e.INFO_MODAL_NAME,title:e.$t("seat-price-changed"),"closeable-by-backdrop-click":!0},on:{close:e.closeSeatPriceChangedModal}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"gutter-bottom",domProps:{innerHTML:e._s(e.infoModalContent)}}),e._v(" "),i("button",{staticClass:"rf-button rf-button--medium rf-button--primary rf-button--full-width",on:{click:e.closeSeatPriceChangedModal}},[e._v(" "+e._s(e.$t("ok"))+" ")])])]):e._e()],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"booking-flow__small-section__icon"},[t("i",{staticClass:"icon icon__fare-lock"})])}],!1,null,null,null);t.default=kt.exports},1401:function(e,t,i){"use strict";var s=i(44),a=i(32),r=i(81);t.a={computed:{hasGeneratedName:function(){var e=Object(r.a)(this.passenger,"firstName","lastName"),t=this.generateNameForUnknownPassenger();return Object(a.a)(e,t)},fullName:function(){return"".concat(this.passenger.firstName," ").concat(this.passenger.lastName)}},methods:{generateNameForUnknownPassenger:function(){var e=Object(s.C)(this.passengers.indexOf(this.passenger));return{firstName:"Name",lastName:"Surname".concat(e)}}}}},1402:function(e,t,i){"use strict";var s=i(1241);i.n(s).a},1479:function(e,t,i){"use strict";var s=i(1239);i.n(s).a},1480:function(e,t,i){"use strict";var s=i(1240);i.n(s).a},1481:function(e,t,i){"use strict";var s=i(1242);i.n(s).a},1482:function(e,t,i){"use strict";var s=i(1243);i.n(s).a},1483:function(e,t,i){"use strict";var s=i(1244);i.n(s).a},1484:function(e,t,i){"use strict";var s=i(1245);i.n(s).a},1485:function(e,t,i){"use strict";var s=i(1246);i.n(s).a},260:function(e,t,i){"use strict";var s=i(5),a=Object(s.a)((function(e,t){return t.startsWith(e)}));t.a=a},275:function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return p}));var s=i(3),a=i.n(s),r=i(9),n=i.n(r),o=i(198),l=i(62),c=i(260),d=function(e){var t;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(e.validate());case 2:return t=i.sent,Object.entries(e.flags).forEach((function(t){var i=n()(t,2),s=i[0],a=i[1];g(s)?u(e,s.slice(1),a):h(e,s)})),i.abrupt("return",t);case 5:case"end":return i.stop()}}))},u=function(e,t,i){Object.keys(i).forEach((function(i){h(e,"".concat(t,".").concat(i))}))},g=Object(c.a)("$"),h=function(e,t){return e.flag(t,{touched:!0})},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vee";return Object(o.c)(b(e,t))},b=function(e,t){return e.reduce((function(e,i){var s=i.includes(".")?i.split(".")[1]:i;return e["".concat(t).concat(Object(l.d)(s))]=i,e}),{})}},605:function(e,t,i){"use strict";t.a={data:function(){return{nullValue:null}}}},629:function(e,t,i){"use strict";var s=i(35);t.a=function(e,t){return 0===t?s.default.t("".concat(e,"-zero"),[t]):t>0&&t<=1?s.default.t("".concat(e,"-one"),[t]):t>1&&t<5?s.default.t("".concat(e,"-few"),[t]):t?s.default.t("".concat(e,"-many"),[t]):e}}}]);
//# sourceMappingURL=5.min.1ca6ac5e.js.map